{"title":"Vue表单规则","uid":"46e84f5dfeda8b84f00edf3fa860badf","slug":"2025-07-19-04","date":"2025-07-19T14:47:17.000Z","updated":"2025-08-02T01:53:18.954Z","comments":true,"path":"api/articles/2025-07-19-04.json","keywords":null,"cover":null,"content":"<p>rules 规则是 Vue.js 中非常重要的属性，它可以对表单的输入进行校验，并给出提示信息, 这里浅浅的记录一下有关 rules 规则的常用用法。</p>\n<h2 id=\"基础用法\"><a href=\"#基础用法\" class=\"headerlink\" title=\"基础用法\"></a>基础用法</h2><p>rules 规则是一个数组，数组的每一项是一个对象，对象中包含两个属性：</p>\n<table>\n<thead>\n<tr>\n<th>属性名称</th>\n<th align=\"left\">功能描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>message</code></td>\n<td align=\"left\">当验证失败时显示的错误信息</td>\n</tr>\n<tr>\n<td><code>trigger</code></td>\n<td align=\"left\">指定何时触发验证，常见的值有 blur（失去焦点时）、change（值发生变化时）</td>\n</tr>\n<tr>\n<td><code>type</code></td>\n<td align=\"left\">指定数据类型，如 string、number、email 等</td>\n</tr>\n<tr>\n<td><code>min 和 max</code></td>\n<td align=\"left\">用于限制输入的最小和最大长度</td>\n</tr>\n<tr>\n<td><code>pattern</code></td>\n<td align=\"left\">使用正则表达式进行验证</td>\n</tr>\n<tr>\n<td><code>validator</code></td>\n<td align=\"left\">自定义验证函数，允许你编写更复杂的验证逻辑</td>\n</tr>\n<tr>\n<td><code>required</code></td>\n<td align=\"left\">是否必填，值为 true 或 false。</td>\n</tr>\n</tbody></table>\n<p>例如：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">rules</span>: [</span><br><span class=\"line\">  &#123; <span class=\"attr\">required</span>: <span class=\"literal\">true</span>, <span class=\"attr\">message</span>: <span class=\"string\">&quot;不能为空&quot;</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">min</span>: <span class=\"number\">6</span>, <span class=\"attr\">max</span>: <span class=\"number\">12</span>, <span class=\"attr\">message</span>: <span class=\"string\">&quot;长度必须在6到12之间&quot;</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">pattern</span>: <span class=\"regexp\">/^[a-zA-Z]+$/</span>, <span class=\"attr\">message</span>: <span class=\"string\">&quot;只能输入字母&quot;</span> &#125;,</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n\n<p>上述例子中，第一个规则表示必填，第二个规则表示长度必须在 6 到 12 之间，第三个规则表示只能输入字母。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  &lt;n-form ref=&quot;formRef&quot; label-placement=&quot;left&quot; :label-width=&quot;80&quot; :model=&quot;formValue&quot; :rules=&quot;rules&quot;&gt;</span><br><span class=\"line\">    &lt;n-form-item label=&quot;节点名称&quot; path=&quot;name&quot;&gt;</span><br><span class=\"line\">      &lt;n-input v-model:value=&quot;formValue.name&quot; placeholder=&quot;请输入节点名称&quot; /&gt;</span><br><span class=\"line\">    &lt;/n-form-item&gt;</span><br><span class=\"line\">    &lt;n-form-item label=&quot;节点类型&quot; path=&quot;type&quot;&gt;</span><br><span class=\"line\">      &lt;n-select v-model:value=&quot;formValue.type&quot; :options=&quot;OptionsType&quot; placeholder=&quot;请选择&quot; /&gt;</span><br><span class=\"line\">    &lt;/n-form-item&gt;</span><br><span class=\"line\">    &lt;n-form-item label=&quot;运营商&quot; path=&quot;operator&quot;&gt;</span><br><span class=\"line\">      &lt;n-select v-model:value=&quot;formValue.operator&quot; :options=&quot;OptionsOperator&quot; placeholder=&quot;请选择&quot; /&gt;</span><br><span class=\"line\">    &lt;/n-form-item&gt;</span><br><span class=\"line\">    &lt;n-form-item label=&quot;调度类型&quot; path=&quot;dispatch&quot;&gt;</span><br><span class=\"line\">      &lt;n-select v-model:value=&quot;formValue.dispatch&quot; :options=&quot;OptionsDispatch&quot; placeholder=&quot;请选择&quot; /&gt;</span><br><span class=\"line\">    &lt;/n-form-item&gt;</span><br><span class=\"line\">  &lt;/n-form&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script setup&gt;</span><br><span class=\"line\">import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">const showModal = true;</span><br><span class=\"line\"></span><br><span class=\"line\">const formValue = ref(&#123;</span><br><span class=\"line\">  name: &quot;&quot;,</span><br><span class=\"line\">  type: null,</span><br><span class=\"line\">  operator: null,</span><br><span class=\"line\">  dispatch: null,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">const rules = &#123;</span><br><span class=\"line\">  name: [</span><br><span class=\"line\">    &#123; required: true, message: &quot;请输入节点名称&quot;, trigger: &quot;blur&quot; &#125;,</span><br><span class=\"line\">    &#123; min: 2, max: 20, message: &quot;长度在 2 到 20 个字符&quot;, trigger: &quot;blur&quot; &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">  type: [&#123; required: true, message: &quot;请选择节点类型&quot;, trigger: &quot;change&quot; &#125;],</span><br><span class=\"line\">  operator: [&#123; required: true, message: &quot;请选择运营商&quot;, trigger: &quot;change&quot; &#125;],</span><br><span class=\"line\">  dispatch: &#123; required: true, message: &quot;请选择调度类型&quot;, trigger: [&quot;blur&quot;, &quot;change&quot;, &quot;input&quot;], type: &quot;array&quot; &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"trigger-触发介绍\"><a href=\"#trigger-触发介绍\" class=\"headerlink\" title=\"trigger 触发介绍\"></a>trigger 触发介绍</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>在表单验证中，blur、change 和 input 是常见的事件，用于触发验证逻辑。下面分别介绍这三个事件的含义和用途，以及一些其他可能用到的事件。</p></blockquote>\n<p><code>input</code> 事件</p>\n<ul>\n<li>含义：每当输入框的内容发生变化时，立即触发验证。</li>\n<li>用途：适用于需要实时反馈的场景，例如用户在输入过程中，希望立即看到输入内容是否符合要求。这可以提供即时的用户体验，帮助用户及时纠正错误。</li>\n<li>示例：用户在输入邮箱地址时，每次键入一个字符，都会触发验证，检查邮箱格式是否正确。</li>\n</ul>\n<p><code>blur</code> 事件</p>\n<ul>\n<li>含义：当输入框失去焦点时触发验证。</li>\n<li>用途：适用于用户完成输入并离开输入框后进行验证。这可以减少不必要的验证调用，提高性能，同时在用户完成输入后提供验证结果。</li>\n<li>示例：用户在输入姓名后，点击其他地方或切换到其他输入框，此时触发验证，检查姓名是否为空。</li>\n</ul>\n<p><code>change</code> 事件</p>\n<ul>\n<li>含义：当输入框的内容发生变化并且输入框失去焦点时触发验证。</li>\n<li>用途：适用于需要在用户完成输入并离开输入框后进行验证的场景，但与 blur 事件不同的是，change 事件只有在内容实际发生变化后才会触发。</li>\n<li>示例：用户在输入密码后，点击其他地方或切换到其他输入框，如果密码内容发生了变化，才会触发验证，检查密码是否符合要求。</li>\n</ul>\n<p><code>focus</code> 事件</p>\n<ul>\n<li>含义：当输入框获得焦点时触发。</li>\n<li>用途：可以用于初始化一些状态或显示提示信息。</li>\n<li>示例：用户点击输入框时，显示一个提示信息，提示用户输入的内容要求。</li>\n</ul>\n<p><code>keyup</code> 事件</p>\n<ul>\n<li>含义：当用户松开键盘上的键时触发。</li>\n<li>用途：可以用于需要在用户完成键入操作后立即进行验证的场景。</li>\n<li>示例：用户在输入搜索关键词时，每次松开键时触发搜索建议的显示。</li>\n</ul>\n<p><code>keydown</code> 事件</p>\n<ul>\n<li>含义：当用户按下键盘上的键时触发。</li>\n<li>用途：可以用于需要在用户开始键入时进行一些操作的场景，例如限制输入内容。</li>\n<li>示例：用户在输入数字输入框时，按下非数字键时阻止输入。</li>\n</ul>\n<p><code>keypress</code> 事件</p>\n<ul>\n<li>含义：当用户按下键盘上的键并产生字符值时触发。</li>\n<li>用途：可以用于需要在用户输入字符时进行一些操作的场景，但现代开发中通常推荐使用 input 事件。</li>\n<li>示例：用户在输入文本时，每次输入字符时进行一些处理，例如自动格式化输入内容。</li>\n</ul>\n<h3 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h3><table>\n<thead>\n<tr>\n<th>事件</th>\n<th align=\"left\">总结</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>input</code></td>\n<td align=\"left\">实时反馈，每次内容变化时触发。</td>\n</tr>\n<tr>\n<td><code>blur</code></td>\n<td align=\"left\">用户完成输入并离开输入框时触发。</td>\n</tr>\n<tr>\n<td><code>change</code></td>\n<td align=\"left\">用户完成输入并离开输入框且内容发生变化时触发。</td>\n</tr>\n<tr>\n<td><code>focus</code></td>\n<td align=\"left\">输入框获得焦点时触发，用于初始化状态或显示提示。</td>\n</tr>\n<tr>\n<td><code>keyup</code></td>\n<td align=\"left\">用户松开键时触发，用于需要在键入操作完成后立即进行的操作。</td>\n</tr>\n<tr>\n<td><code>keydown</code></td>\n<td align=\"left\">用户按下键时触发，用于需要在键入操作开始时进行的操作。</td>\n</tr>\n<tr>\n<td><code>keypress</code></td>\n<td align=\"left\">用户按下键并产生字符值时触发，现代开发中推荐使用 input 事件。</td>\n</tr>\n</tbody></table>\n<h2 id=\"通过按钮触发验证\"><a href=\"#通过按钮触发验证\" class=\"headerlink\" title=\"通过按钮触发验证\"></a>通过按钮触发验证</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  &lt;el-form ref=&quot;formRef&quot; :model=&quot;form&quot; :rules=&quot;rules&quot;&gt;</span><br><span class=\"line\">    &lt;el-form-item label=&quot;用户名&quot; prop=&quot;username&quot;&gt;</span><br><span class=\"line\">      &lt;el-input v-model=&quot;form.username&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">    &lt;/el-form-item&gt;</span><br><span class=\"line\">    &lt;el-form-item label=&quot;密码&quot; prop=&quot;password&quot;&gt;</span><br><span class=\"line\">      &lt;el-input type=&quot;password&quot; v-model=&quot;form.password&quot;&gt;&lt;/el-input&gt;</span><br><span class=\"line\">    &lt;/el-form-item&gt;</span><br><span class=\"line\">    &lt;el-button type=&quot;primary&quot; @click=&quot;handleValidateButtonClick&quot;&gt;验证&lt;/el-button&gt;</span><br><span class=\"line\">  &lt;/el-form&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script setup&gt;</span><br><span class=\"line\">import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class=\"line\">import &#123; ElMessage as message &#125; from &quot;element-plus&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">const formRef = ref(null);</span><br><span class=\"line\">const form = ref(&#123;</span><br><span class=\"line\">  username: &quot;&quot;,</span><br><span class=\"line\">  password: &quot;&quot;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">const rules = &#123;</span><br><span class=\"line\">  username: [&#123; required: true, message: &quot;请输入用户名&quot;, trigger: &quot;blur&quot; &#125;],</span><br><span class=\"line\">  password: [</span><br><span class=\"line\">    &#123; required: true, message: &quot;请输入密码&quot;, trigger: &quot;blur&quot; &#125;,</span><br><span class=\"line\">    &#123; min: 6, message: &quot;密码长度至少为6位&quot;, trigger: &quot;blur&quot; &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">const handleValidateButtonClick = (e) =&gt; &#123;</span><br><span class=\"line\">  e.preventDefault();</span><br><span class=\"line\">  formRef.value?.validate((errors) =&gt; &#123;</span><br><span class=\"line\">    if (!errors) &#123;</span><br><span class=\"line\">      message.success(&quot;验证成功&quot;);</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      console.log(errors);</span><br><span class=\"line\">      message.error(&quot;验证失败&quot;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n\n<p>这里直接通过<code>formRef.value?.validate</code>来对所有的表单项进行表单规则验证。</p>\n<h2 id=\"阻止默认事件\"><a href=\"#阻止默认事件\" class=\"headerlink\" title=\"阻止默认事件\"></a>阻止默认事件</h2><p>这里面<code>e.preventDefault();</code>的含义是阻止事件的默认行为。</p>\n<p>详细解释</p>\n<ol>\n<li>事件默认行为</li>\n</ol>\n<ul>\n<li>表单提交：当用户点击表单的提交按钮时，浏览器会默认将表单数据发送到服务器。这个默认行为可能会导致页面重新加载。</li>\n<li>链接点击：当用户点击一个链接时，浏览器会默认导航到链接指定的 URL，导致页面跳转。</li>\n<li>输入框聚焦：当用户点击一个输入框时，浏览器会默认将光标聚焦到输入框中。</li>\n</ul>\n<ol>\n<li>e.preventDefault() 的作用</li>\n</ol>\n<ul>\n<li>阻止表单提交：在表单提交事件中使用 e.preventDefault() 可以阻止表单数据发送到服务器，从而防止页面重新加载。这在使用 AJAX 或其他前端框架（如 Vue、React）进行异步表单处理时非常有用。</li>\n<li>阻止链接跳转：在链接点击事件中使用 e.preventDefault() 可以阻止浏览器导航到链接指定的 URL，从而防止页面跳转。这在使用单页应用（SPA）时非常有用，可以实现页面内导航而不重新加载页面。</li>\n<li>阻止其他默认行为：在其他事件中，e.preventDefault() 也可以用于阻止默认行为，例如阻止输入框的默认聚焦行为。</li>\n</ul>\n<h2 id=\"表单内置的验证规则\"><a href=\"#表单内置的验证规则\" class=\"headerlink\" title=\"表单内置的验证规则\"></a>表单内置的验证规则</h2><p>在表单验证中，通常有多种内置的验证规则可以使用。这些规则可以帮助你确保用户输入的数据符合特定的要求。以下是一些常见的验证规则及其用途：</p>\n<ol>\n<li><code>required</code></li>\n</ol>\n<p>用途：确保字段不为空。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">required</span>: <span class=\"literal\">true</span>, <span class=\"attr\">message</span>: <span class=\"string\">&quot;请输入节点名称&quot;</span>, <span class=\"attr\">trigger</span>: <span class=\"string\">&quot;blur&quot;</span> &#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li><code>min 和 max</code></li>\n</ol>\n<p>用途：确保字段的长度在指定的范围内。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">min</span>: <span class=\"number\">2</span>, <span class=\"attr\">max</span>: <span class=\"number\">20</span>, <span class=\"attr\">message</span>: <span class=\"string\">&quot;长度在 2 到 20 个字符&quot;</span>, <span class=\"attr\">trigger</span>: <span class=\"string\">&quot;blur&quot;</span> &#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li><code>minLength 和 maxLength</code></li>\n</ol>\n<p>用途：确保字段的长度至少为 minLength，最多为 maxLength。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">minLength</span>: <span class=\"number\">2</span>, <span class=\"attr\">message</span>: <span class=\"string\">&quot;长度至少为 2 个字符&quot;</span>, <span class=\"attr\">trigger</span>: <span class=\"string\">&quot;blur&quot;</span> &#125;</span><br><span class=\"line\">&#123; <span class=\"attr\">maxLength</span>: <span class=\"number\">20</span>, <span class=\"attr\">message</span>: <span class=\"string\">&quot;长度最多为 20 个字符&quot;</span>, <span class=\"attr\">trigger</span>: <span class=\"string\">&quot;blur&quot;</span> &#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li><code>pattern</code><br>用途：确保字段的值匹配指定的正则表达式。</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">pattern</span>: <span class=\"regexp\">/^[a-zA-Z0-9]+$/</span>, <span class=\"attr\">message</span>: <span class=\"string\">&quot;只能输入字母和数字&quot;</span>, <span class=\"attr\">trigger</span>: <span class=\"string\">&quot;blur&quot;</span> &#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"5\">\n<li><code>email</code></li>\n</ol>\n<p>用途：确保字段的值是一个有效的电子邮件地址。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">email</span>: <span class=\"literal\">true</span>, <span class=\"attr\">message</span>: <span class=\"string\">&quot;请输入有效的电子邮件地址&quot;</span>, <span class=\"attr\">trigger</span>: <span class=\"string\">&quot;blur&quot;</span> &#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"6\">\n<li><code>type</code></li>\n</ol>\n<p>用途：确保字段的值是特定的类型，如 string、number、array 等。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">type</span>: <span class=\"string\">&#x27;string&#x27;</span>, <span class=\"attr\">message</span>: <span class=\"string\">&quot;请输入字符串&quot;</span>, <span class=\"attr\">trigger</span>: <span class=\"string\">&quot;blur&quot;</span> &#125;</span><br><span class=\"line\">&#123; <span class=\"attr\">type</span>: <span class=\"string\">&#x27;number&#x27;</span>, <span class=\"attr\">message</span>: <span class=\"string\">&quot;请输入数字&quot;</span>, <span class=\"attr\">trigger</span>: <span class=\"string\">&quot;blur&quot;</span> &#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"7\">\n<li><code>enum</code></li>\n</ol>\n<p>用途：确保字段的值在指定的枚举值中。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123; <span class=\"attr\">enum</span>: [<span class=\"string\">&#x27;admin&#x27;</span>, <span class=\"string\">&#x27;user&#x27;</span>, <span class=\"string\">&#x27;guest&#x27;</span>], <span class=\"attr\">message</span>: <span class=\"string\">&quot;请输入有效的用户角色&quot;</span>, <span class=\"attr\">trigger</span>: <span class=\"string\">&quot;blur&quot;</span> &#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"自定义表单规则\"><a href=\"#自定义表单规则\" class=\"headerlink\" title=\"自定义表单规则\"></a>自定义表单规则</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  &lt;form&gt;</span><br><span class=\"line\">    &lt;input type=&quot;password&quot; v-model=&quot;form.password&quot; :rules=&quot;passwordRules&quot; /&gt;</span><br><span class=\"line\">  &lt;/form&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">  data() &#123;</span><br><span class=\"line\">    return &#123;</span><br><span class=\"line\">      form: &#123;</span><br><span class=\"line\">        password: &quot;&quot;,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      passwordRules: [</span><br><span class=\"line\">        &#123; required: true, message: &quot;请输入密码&quot;, trigger: &quot;blur&quot; &#125;,</span><br><span class=\"line\">        &#123; validator: validatePassword, trigger: &quot;blur&quot; &#125;,</span><br><span class=\"line\">      ],</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  methods: &#123;</span><br><span class=\"line\">    validatePassword(rule, value, callback) &#123;</span><br><span class=\"line\">      if (value === &quot;&quot;) &#123;</span><br><span class=\"line\">        callback(new Error(&quot;请输入密码&quot;));</span><br><span class=\"line\">      &#125; else if (value.length &lt; 6) &#123;</span><br><span class=\"line\">        callback(new Error(&quot;密码至少6位&quot;));</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        callback();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n","feature":false,"text":"rules 规则是 Vue.js 中非常重要的属性，它可以对表单的输入进行校验，并给出提示信息, 这里浅浅的记录一下有关 rules 规则的常用用法。 基础用法...","permalink":"/post/2025-07-19-04","photos":[],"count_time":{"symbolsCount":"8k","symbolsTime":"7 mins."},"categories":[{"name":"Vue.js","slug":"Vue-js","count":5,"path":"api/categories/Vue-js.json"}],"tags":[{"name":"Vue.js 表单","slug":"Vue-js-表单","count":1,"path":"api/tags/Vue-js-表单.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95\"><span class=\"toc-text\">基础用法</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#trigger-%E8%A7%A6%E5%8F%91%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">trigger 触发介绍</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BB%93\"><span class=\"toc-text\">总结</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%80%9A%E8%BF%87%E6%8C%89%E9%92%AE%E8%A7%A6%E5%8F%91%E9%AA%8C%E8%AF%81\"><span class=\"toc-text\">通过按钮触发验证</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%98%BB%E6%AD%A2%E9%BB%98%E8%AE%A4%E4%BA%8B%E4%BB%B6\"><span class=\"toc-text\">阻止默认事件</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%A1%A8%E5%8D%95%E5%86%85%E7%BD%AE%E7%9A%84%E9%AA%8C%E8%AF%81%E8%A7%84%E5%88%99\"><span class=\"toc-text\">表单内置的验证规则</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A1%A8%E5%8D%95%E8%A7%84%E5%88%99\"><span class=\"toc-text\">自定义表单规则</span></a></li></ol>","author":{"name":"Reverse","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"每一次的突破，都是自我超越的见证。","socials":{"github":"https://github.com/hyhacct","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"记录下Vue中的try及Promise异常处理","uid":"2fa26015fca5f58433a95c9ef360f007","slug":"2025-07-19-05","date":"2025-07-19T14:49:21.000Z","updated":"2025-08-02T01:53:18.954Z","comments":true,"path":"api/articles/2025-07-19-05.json","keywords":null,"cover":null,"text":"try...catch 结构 .then().catch() 结构 这两种结构都是用来处理异常的，但是有些不同，这里做个文档记录下，方便日后 CV try 结构...","permalink":"/post/2025-07-19-05","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"Vue.js","slug":"Vue-js","count":5,"path":"api/categories/Vue-js.json"}],"tags":[{"name":"Vue.js 异常处理","slug":"Vue-js-异常处理","count":1,"path":"api/tags/Vue-js-异常处理.json"}],"author":{"name":"Reverse","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"每一次的突破，都是自我超越的见证。","socials":{"github":"https://github.com/hyhacct","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":false},"next_post":{"title":"关联数组的声明和使用","uid":"3dc5e75cb441af920dcb5c3ab992895f","slug":"2025-07-19-03","date":"2025-07-19T14:39:17.000Z","updated":"2025-08-02T01:53:18.954Z","comments":true,"path":"api/articles/2025-07-19-03.json","keywords":null,"cover":null,"text":"在 Vue 中12345678const IterateState = (row) => { const state = { 1: \"Success\", 2: ...","permalink":"/post/2025-07-19-03","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"关联数组","slug":"关联数组","count":1,"path":"api/categories/关联数组.json"}],"tags":[{"name":"关联数组 Shell Go Vue.js","slug":"关联数组-Shell-Go-Vue-js","count":1,"path":"api/tags/关联数组-Shell-Go-Vue-js.json"}],"author":{"name":"Reverse","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"每一次的突破，都是自我超越的见证。","socials":{"github":"https://github.com/hyhacct","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":false}}