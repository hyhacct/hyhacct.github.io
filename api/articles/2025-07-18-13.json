{"title":"使用Vue实现瀑布流布局","uid":"2a7ed2ed5e24b574ac1497b2e3f1a5af","slug":"2025-07-18-13","date":"2025-07-18T15:06:23.000Z","updated":"2025-08-02T02:06:20.316Z","comments":true,"path":"api/articles/2025-07-18-13.json","keywords":null,"cover":null,"content":"<h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><p>瀑布流布局相比栅格网格不同的就是，只要卡片塞的合理，一般是不会出现空格。</p>\n<p>不像栅格，只能做水平对齐，但是如果卡片的高度不能统一，那就会出现很多空白的区域，影响美观。</p>\n<h2 id=\"安装包\"><a href=\"#安装包\" class=\"headerlink\" title=\"安装包\"></a>安装包</h2><p>vue 里面<code>vue-masonry-wall</code>就是用来做瀑布样式的，可以直接安装引入。</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>安装之前先注意，如果你是<code>vue2</code>版本的话可能是要用<code>npm install vue-masonry-wall</code>这个。</p>\n<p>下面这个是<code>vue3</code>的安装，实际上我测试过在<code>vue3</code>里面直接执行<code>pnpm install vue-masonry-wall</code>，并且使用。</p>\n<p>会出现<span color=\"red\">API 兼容性问题，导致出现错误</span>，所以我猜测这两个应该是分为 vue3 和 vue2 两个版本使用的。</p></blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add @yeger/vue-masonry-wall</span><br><span class=\"line\"></span><br><span class=\"line\">npm install @yeger/vue-masonry-wall</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"示例代码\"><a href=\"#示例代码\" class=\"headerlink\" title=\"示例代码\"></a>示例代码</h2><h3 id=\"全局引入\"><a href=\"#全局引入\" class=\"headerlink\" title=\"全局引入\"></a>全局引入</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createApp &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">MasonryWall</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;@yeger/vue-masonry-wall&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"title function_\">createApp</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">app.<span class=\"title function_\">use</span>(<span class=\"title class_\">MasonryWall</span>);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"组件内使用\"><a href=\"#组件内使用\" class=\"headerlink\" title=\"组件内使用\"></a>组件内使用</h3><div class=\"custom-quote warning\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 8V13\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 15.99V16.01\"></path>\n</svg>\n</span>\n<p class=\"custom-quote-title\">建议</p>\n<p>值得注意的是当数据量比较大时渲染压力会增加,建议做分页来缓解前端的渲染压力</p>\n</div>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  &lt;masonry-wall :items=&quot;items&quot; :column-width=&quot;300&quot; :gap=&quot;16&quot;&gt;</span><br><span class=\"line\">    &lt;template #default=&quot;&#123; item &#125;&quot;&gt;</span><br><span class=\"line\">      &lt;div class=&quot;item&quot;&gt;</span><br><span class=\"line\">        &lt;img :src=&quot;item.image&quot; :alt=&quot;item.title&quot; /&gt;</span><br><span class=\"line\">        &lt;h3&gt;&#123;&#123; item.title &#125;&#125;&lt;/h3&gt;</span><br><span class=\"line\">        &lt;p&gt;&#123;&#123; item.description &#125;&#125;&lt;/p&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/template&gt;</span><br><span class=\"line\">  &lt;/masonry-wall&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script setup&gt;</span><br><span class=\"line\">import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">const items = ref([</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    id: 1,</span><br><span class=\"line\">    title: &quot;标题1&quot;,</span><br><span class=\"line\">    description: &quot;描述1&quot;,</span><br><span class=\"line\">    image: &quot;图片地址1&quot;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  // ... 更多数据</span><br><span class=\"line\">]);</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style scoped&gt;</span><br><span class=\"line\">.item &#123;</span><br><span class=\"line\">  background: #fff;</span><br><span class=\"line\">  border-radius: 8px;</span><br><span class=\"line\">  padding: 16px;</span><br><span class=\"line\">  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.item img &#123;</span><br><span class=\"line\">  width: 100%;</span><br><span class=\"line\">  height: auto;</span><br><span class=\"line\">  border-radius: 4px;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"配置选项\"><a href=\"#配置选项\" class=\"headerlink\" title=\"配置选项\"></a>配置选项</h2><p><code>masonry-wall</code> 组件支持以下主要配置：</p>\n<ul>\n<li><code>items</code>: 数组，必需，要显示的数据项</li>\n<li><code>column-width</code>: 数字，每列的宽度（像素）</li>\n<li><code>gap</code>: 数字，列之间的间距（像素）</li>\n<li><code>rtl</code>: 布尔值，是否从右到左布局</li>\n<li><code>ssr-columns</code>: 数字，服务器端渲染时的列数</li>\n</ul>\n<h2 id=\"响应式处理\"><a href=\"#响应式处理\" class=\"headerlink\" title=\"响应式处理\"></a>响应式处理</h2><p>为了在不同屏幕尺寸下获得最佳显示效果，可以使用计算属性动态设置列宽：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script setup&gt;</span><br><span class=\"line\">import &#123; computed &#125; from &quot;vue&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">const columnWidth = computed(() =&gt; &#123;</span><br><span class=\"line\">  const screenWidth = window.innerWidth;</span><br><span class=\"line\">  if (screenWidth &lt; 600) return 150;</span><br><span class=\"line\">  if (screenWidth &lt; 900) return 200;</span><br><span class=\"line\">  return 300;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n","text":"概述瀑布流布局相比栅格网格不同的就是，只要卡片塞的合理，一般是不会出现空格。 不像栅格，只能做水平对齐，但是如果卡片的高度不能统一，那就会出现很多空白的区域，影...","permalink":"/post/2025-07-18-13","photos":[],"count_time":{"symbolsCount":"2.1k","symbolsTime":"2 mins."},"categories":[{"name":"Vue.js","slug":"Vue-js","count":5,"path":"api/categories/Vue-js.json"}],"tags":[{"name":"Vue.js","slug":"Vue-js","count":2,"path":"api/tags/Vue-js.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%A6%82%E8%BF%B0\"><span class=\"toc-text\">概述</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85%E5%8C%85\"><span class=\"toc-text\">安装包</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81\"><span class=\"toc-text\">示例代码</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%85%A8%E5%B1%80%E5%BC%95%E5%85%A5\"><span class=\"toc-text\">全局引入</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%BB%84%E4%BB%B6%E5%86%85%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">组件内使用</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9\"><span class=\"toc-text\">配置选项</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%93%8D%E5%BA%94%E5%BC%8F%E5%A4%84%E7%90%86\"><span class=\"toc-text\">响应式处理</span></a></li></ol>","author":{"name":"Reverse","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"每一次的突破，都是自我超越的见证。","socials":{"github":"https://github.com/hyhacct","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"在Ubuntu下部署ikuai软路由","uid":"909dff6351843daec939baa1f9ed28aa","slug":"2025-07-18-14","date":"2025-07-18T17:25:49.000Z","updated":"2025-08-02T02:06:20.316Z","comments":true,"path":"api/articles/2025-07-18-14.json","keywords":null,"cover":"/images/cover/Ikuai_1.png","text":"概述ikuai 提供的是一个系统镜像,所以需要用到 kvm 来运行他,这里记录一下我的部署过程 准备环境安装 kvm,这一步是必须的 1234567891011...","permalink":"/post/2025-07-18-14","photos":[],"count_time":{"symbolsCount":"2.7k","symbolsTime":"2 mins."},"categories":[{"name":"运维","slug":"运维","count":7,"path":"api/categories/运维.json"}],"tags":[{"name":"ikuai Ubuntu 软路由","slug":"ikuai-Ubuntu-软路由","count":1,"path":"api/tags/ikuai-Ubuntu-软路由.json"}],"author":{"name":"Reverse","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"每一次的突破，都是自我超越的见证。","socials":{"github":"https://github.com/hyhacct","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Wails中Go结构或方法无法映射到前端","uid":"e7e13627a554d1367d86ca0e77896cef","slug":"2025-07-18-12","date":"2025-07-18T15:04:34.000Z","updated":"2025-08-02T02:06:20.316Z","comments":true,"path":"api/articles/2025-07-18-12.json","keywords":null,"cover":null,"text":"概述最近发现一个奇怪的问题，我执行wails dev时突然发现我在app.go中暴露给前端的函数居然没能自动绑定到前端的wailsjs/go/apps/xxx下...","permalink":"/post/2025-07-18-12","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"Go","slug":"Go","count":3,"path":"api/categories/Go.json"}],"tags":[{"name":"Go Wails","slug":"Go-Wails","count":1,"path":"api/tags/Go-Wails.json"}],"author":{"name":"Reverse","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"每一次的突破，都是自我超越的见证。","socials":{"github":"https://github.com/hyhacct","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}