[{"title":"Hexoå‘å¸ƒåˆ°GitHubPageæŠ¥é”™404","url":"/2025/07/18/2025-07-18-02/","content":"Number 1æ£€æŸ¥é™æ€èµ„æºæ˜¯å¦å·²ç»å­˜åœ¨,è®¿é—®åœ°å€:\nhttps://github.com/&lt;ä½ çš„ç”¨æˆ·å&gt;/&lt;ä½ çš„ä»“åº“&gt;/tree/&lt;é™æ€æ–‡ä»¶åˆ†æ”¯&gt;\nå¦‚æœä½ çš„å·¥ä½œæµä¼šå°†é™æ€æ–‡ä»¶ç¼–è¯‘åˆ°æŒ‡å®šåˆ†æ”¯çš„è¯,å°±æœ‰å¿…è¦å»çœ‹çœ‹æ˜¯å¦ç¼–è¯‘å‡ºæ¥äº†\nNumber 2è¿›å…¥ä½ çš„ GitHub ä»“åº“ &gt; Settings &gt; Pages &gt; Source &gt; æ”¹ä¸º:Deploy from a branch\nå¹¶ä¸”ä¸‹é¢çš„Branchåˆ†æ”¯éœ€è¦æ”¹ä¸ºä½ é™æ€æ–‡ä»¶æ‰€åœ¨çš„åˆ†æ”¯,ç„¶åè·¯å¾„æ³¨æ„åˆ«é”™äº†,é»˜è®¤å°±/(root)å°±è¡Œ\nNumber 3åœ¨ Hexo çš„ _config.yml é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹urlå‚æ•°,æ”¹ä¸ºä½ å®é™…çš„åšå®¢åœ°å€,æ¯”å¦‚æˆ‘çš„\nurl: https://blog.hyhacct.com\n","categories":["GitHub"],"tags":["GitHub"]},{"title":"åœ¨Githubä½¿ç”¨PATæ–¹å¼è·¨ä»“åº“éƒ¨ç½²","url":"/2025/07/18/2025-07-18-01/","content":"å¦‚æœæƒ³ç›´æ¥ç”¨ Github Actions çš„å·¥ä½œæµè‡ªåŠ¨åŒ–éƒ¨ç½²æ„å»º Hexo é¡¹ç›®çš„è¯,éœ€è¦ç¼–å†™ workflows é…ç½®\nåˆ›å»º Tokené¦–å…ˆå»åˆ›å»ºä¸€ä¸ª Token\n\nè®¿é—® https://github.com/settings/tokens\nç‚¹å‡» â€œFine-grained tokenâ€\né€‰æ‹©æƒé™ repo ï¼ˆå°†è¿™å‡ ä¸ªå¯ç”¨ï¼šcontentsã€actionsã€deploymentsï¼‰\næœ‰æ•ˆæœŸ éšä¾¿å¤šä¹…éƒ½è¡Œ,ä¸»è¦çœ‹ä½ ,æˆ‘ç›´æ¥æ°¸ä¹…\n\nç„¶åä»–ä¼šç”Ÿæˆä¸€ä¸ª Token,è¿™ä¸ª Token åªæ˜¾ç¤ºä¸€æ¬¡,ä¸€å®šè¦å…ˆè®°ä¸‹\né…ç½® Secretsæ¥ä¸‹æ¥è¿›å…¥ä½ çš„æ„å»ºç›®æ ‡ä»“åº“,ä¾æ¬¡é€‰æ‹©: Settings &gt; Secrets and variables &gt; Actions\næ·»åŠ ä¸€ä¸ª secret,æ¯”å¦‚æˆ‘è¿™é‡Œå˜é‡åå­—å« BLOG_TOKEN,ç„¶åå€¼å°±æ˜¯ä¸Šé¢ç”Ÿæˆçš„ Token,å¡«è¿›å»ä¿å­˜å³å¯\né…ç½® workflowsæ¥ç€æ”¹æ”¹ä½ çš„æ„å»ºæµç¨‹,æŠŠåˆšæ‰åˆ›å»ºçš„ BLOG_TOKEN å˜é‡å¼•ç”¨è¿›å»\nname: Deploy Hexo to GitHub Pageson:  push:    branches:      - main # æˆ–è€…æ˜¯ masterï¼Œæ ¹æ®ä½ çš„é»˜è®¤åˆ†æ”¯ä¿®æ”¹jobs:  build-and-deploy:    runs-on: ubuntu-latest    steps:      - name: Checkout source code        uses: actions/checkout@v4      - name: Set up Node.js        uses: actions/setup-node@v4        with:          node-version: &quot;18&quot; # æ ¹æ®ä½ çš„é¡¹ç›®éœ€è¦ä¿®æ”¹ Node ç‰ˆæœ¬          cache: &quot;npm&quot;      - name: Install dependencies        run: |          npm install -g hexo-cli          npm install      - name: Clean and generate Hexo site        run: |          hexo clean          hexo generate      - name: Deploy to GitHub Pages        uses: peaceiris/actions-gh-pages@v4        with:          github_token: $&#123;&#123; secrets.BLOG_TOKEN &#125;&#125;          publish_dir: ./public\n","categories":["GitHub"],"tags":["GitHub"]},{"title":"NaiveUIçš„Tableè¡¨åˆ†é¡µé…ç½®","url":"/2025/07/18/2025-07-18-03/","content":"å› ä¸º NaiveUI çš„ DataTable æ•°æ®è¡¨æ ¼ç»„ä»¶æ”¯æŒ pagination å‚æ•°,æ‰€ä»¥æˆ‘ä¸€ç›´å›ºå®šä½¿ç”¨è¿™ä¸ªæ¨¡æ¿æ¥ä½œä¸ºåˆ†é…é…ç½®,è€Œä¸éœ€è¦åç«¯æ¥åˆ†é¡µ\n:::tipå‚è€ƒä»£ç ,åœ¨ä»£ç ä¸­,ä½ æ— éœ€å…³æ³¨ä»–æ˜¯æ€ä¹ˆå®ç°çš„,åªéœ€è¦å®šä¹‰å¥½paginationå¯¹è±¡,å¹¶ä¸”é…ç½®åˆ°æ•°æ®è¡¨æ ¼ç»„ä»¶ä¸­çš„ pagination å‚æ•°å³å¯:::\n&lt;template&gt;  &lt;n-data-table :pagination=&quot;pagination&quot; /&gt;&lt;/template&gt;&lt;script setup&gt;const pagination = &#123;  prefix(&#123; itemCount &#125;) &#123;    return `æ€»è®¡ $&#123;itemCount&#125; æ¡æ•°æ®`;  &#125;,  pageSizes: [    &#123;      label: &quot;é»˜è®¤10æ¡&quot;,      value: 10,    &#125;,    &#123;      label: &quot;å…¨éƒ¨æ˜¾ç¤º&quot;,      value: 9999,    &#125;,    &#123;      label: &quot;20 æ¯é¡µ&quot;,      value: 20,    &#125;,    &#123;      label: &quot;30 æ¯é¡µ&quot;,      value: 30,    &#125;,    &#123;      label: &quot;40 æ¯é¡µ&quot;,      value: 40,    &#125;,  ],  showSizePicker: true,  displayOrder: [&quot;quick-jumper&quot;, &quot;pages&quot;, &quot;size-picker&quot;],&#125;;&lt;/script&gt;\n","categories":["Vue.js"],"tags":["Vue.js"]},{"title":"ä½¿ç”¨Goä»Chroomä¸­è·å–é¡µé¢Cookies","url":"/2025/07/18/2025-07-18-04/","content":"æ¦‚è¿°æµ…æµ…çš„ç©ä¸€ä¸‹github.com/go-rod/rodè¿™ä¸ªåº“.\né€šè¿‡è¿™ä¸ªæ”¯æŒåº“,å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨å¹¶ä¸”è®©ä»–è®¿é—®ä¸€ä¸ª url,åœ¨ä»–è®¿é—® url æ—¶ä½ è¿˜å¯ä»¥ç›‘å¬è¿™ä¸ª url çš„ cookies.\nå¼€å§‹å®æ“ä¸ºäº†é˜²æ­¢è¢«æ£€æµ‹åˆ°è‡ªåŠ¨åŒ–ï¼Œæˆ‘è¿™é‡Œæ˜¯æ³¨å…¥äº† js å±è”½äº†æ£€æµ‹ã€‚\n\né¦–å…ˆä½¿ç”¨browser.MustPage(&quot;&quot;)æ‰“å¼€äº†ä¸€ä¸ªç©ºçš„æ ‡ç­¾é¡µã€‚\næ³¨å…¥ JS è„šæœ¬ä¿®æ”¹navigator.webdriverä¸ºfalseã€‚\næ³¨å…¥ä¿®æ”¹å®Œæˆåå†æ‰“å¼€çœŸå®çš„ç›®æ ‡ URLï¼Œè¿™æ ·ç›®æ ‡ç½‘ç«™å°±æ²¡æ³•é€šè¿‡è¿™ä¸ªå€¼å»æ£€æµ‹æˆ‘æ˜¯ä¸æ˜¯è‡ªåŠ¨åŒ–ç¨‹åºäº†ã€‚\nåŒæ—¶æ»‘å—æˆåŠŸåé¡µé¢ä¼šè‡ªåŠ¨è·³è½¬åˆ°å…¶ä»–åœ°æ–¹ï¼Œæ‰€ä»¥æˆ‘åšäº†ä¸€ä¸ªæ‹¦æˆªï¼Œå¦‚æœä¸éœ€è¦çš„è¯å¯ä»¥ç›´æ¥åˆ é™¤ã€‚\n\n\nå¯èƒ½è¦æ³¨æ„ä¸‹ï¼Œä¸ä¸€å®šæ‰€æœ‰çš„ç«™ç‚¹éƒ½æ˜¯é€šè¿‡webdriveræ¥æ£€æµ‹è‡ªåŠ¨åŒ–ç¨‹åºçš„ï¼Œä½†æ˜¯æˆ‘è¿™é‡Œåªæä¾›è¿™ä¸ªæ–¹å¼ï¼Œè‡³äºå…¶ä»–çš„éœ€è¦æŒ‰ç…§å®é™…åœºæ™¯æ¥çœ‹ã€‚\nå¹¶ä¸”æˆ‘è¿™é‡Œ go ç¨‹åºåªæ˜¯ä¸ºäº†è·å–æ»‘å—åçš„ cookiesï¼Œå¦‚æœæƒ³è·å–è¯·æ±‚å¤´æˆ–è€…å…¶ä»–ä¸œè¥¿çš„è¯ï¼Œå¯èƒ½å¾—è‡ªå·±å†ç ”ç©¶ä¸‹ã€‚\n\npackage mainimport (\t&quot;context&quot;\t&quot;log/slog&quot;\t&quot;time&quot;\t&quot;github.com/go-rod/rod&quot;\t&quot;github.com/go-rod/rod/lib/launcher&quot;\t&quot;github.com/go-rod/rod/lib/proto&quot;)func main() &#123;  url := &quot;https://qq.com&quot;\tu := launcher.New().\t\tHeadless(false). // æ˜¾ç¤ºçª—å£\t\t// è®¾ç½®çª—å£å°ºå¯¸ï¼ˆå¯é€‰ï¼‰\t\tSet(&quot;window-size&quot;, &quot;1200,800&quot;).\t\tSet(&quot;disable-blink-features&quot;, &quot;AutomationControlled&quot;).\t\tMustLaunch()\tbrowser := rod.New().ControlURL(u).MustConnect()\t// æ‰“å¼€é¡µé¢\tpage := browser.MustPage(&quot;&quot;)\t// åœ¨é¡µé¢åŠ è½½å‰æ³¨å…¥ JavaScriptï¼Œä¿®æ”¹ navigator.webdriver\t_, err := page.EvalOnNewDocument(`\t\tObject.defineProperty(navigator, &#x27;webdriver&#x27;, &#123;\t\t\tget: () =&gt; false\t\t&#125;);\t`)\tif err != nil &#123;\t\tslog.Error(&quot;åœ¨é¡µé¢åŠ è½½å‰æ³¨å…¥ JavaScriptï¼Œä¿®æ”¹ navigator.webdriverå¤±è´¥&quot;, &quot;ProxyService&quot;, err)\t&#125;\t// è®¿é—®ç›®æ ‡é¡µé¢\tpage.MustNavigate(url).MustWaitLoad()\t// æ‹¦æˆªå¯¼èˆªè¯·æ±‚ï¼Œç¦æ­¢è·³è½¬\trouter := page.HijackRequests()\trouter.MustAdd(&quot;*&quot;, func(ctx *rod.Hijack) &#123;\t\t// å¦‚æœè¯·æ±‚æ˜¯å¯¼èˆªï¼ˆå³é¡µé¢è·³è½¬ï¼‰ï¼Œé˜»æ­¢å®ƒ\t\tif ctx.Request.Type() == proto.NetworkResourceTypeDocument &amp;&amp; ctx.Request.URL().String() != url &#123;\t\t\tslog.Info(&quot;é˜»æ­¢é¡µé¢è·³è½¬&quot;, &quot;ProxyService&quot;, ctx.Request.URL())\t\t\tctx.Response.Fail(proto.NetworkErrorReasonAborted)\t\t\treturn\t\t&#125;\t\tctx.MustLoadResponse()\t&#125;)\tgo router.Run()\t// ç­‰å¾…é¡µé¢ç¨³å®š\t// page.MustWaitStable()\t// éªŒè¯ navigator.webdriver\t_, evalErr := page.Eval(`navigator.webdriver`)\tif evalErr != nil &#123;\t\tslog.Error(&quot;éªŒè¯ navigator.webdriverå¤±è´¥&quot;, &quot;ProxyService&quot;, evalErr)\t&#125;\t// è·å–å½“å‰é¡µé¢çš„æ‰€æœ‰ Cookie\tfor &#123;\t\tcookies := page.MustCookies()\t\tslog.Info(&quot;è‡ªåŠ¨åŒ–æ‹¦æˆªé¡µé¢cookies&quot;, &quot;ProxyService&quot;, cookies)\t\tfor _, c := range cookies &#123;\t\t\tif c.Name == &quot;demo_cookies_name&quot; &amp;&amp; c.Value != &quot;&quot; &#123;    \t\tslog.Info(&quot;å·²æ‹¦æˆªåˆ°demo_cookies_name&quot;, &quot;ProxyService&quot;, c.Value)\t\t\t\ttime.Sleep(1000 * time.Millisecond) // ç­‰å¾…1ç§’\t\t\t\tbrowser.MustClose() // å…³é—­æµè§ˆå™¨\t\t\t\treturn // ç»“æŸå½“å‰å‡½æ•°\t\t\t&#125;\t\t&#125;\t\ttime.Sleep(100 * time.Millisecond) // æ§åˆ¶ä¸€ä¸‹è·å–é¢‘ç‡\t&#125;&#125;\n","categories":["Go"],"tags":["Go"]},{"title":"ä¸ºæœåŠ¡å™¨å¯ç”¨è¶…çº¿ç¨‹æ¨¡å¼","url":"/2025/07/18/2025-07-18-05/","content":"æŸ¥çœ‹æ˜¯å¦å¯ç”¨è¶…çº¿ç¨‹å¦‚æœ Thread(s) per core: 2ï¼Œè¯´æ˜è¶…çº¿ç¨‹å·²å¯ç”¨ï¼ˆæ¯ä¸ªç‰©ç†æ ¸å¿ƒæœ‰ 2 ä¸ªé€»è¾‘çº¿ç¨‹ï¼‰ã€‚\nå¦‚æœ Thread(s) per core: 1ï¼Œè¯´æ˜è¶…çº¿ç¨‹æœªå¯ç”¨ã€‚\nlscpu | grep &quot;Thread(s) per core&quot;\n\nå¯ç”¨æ‰€æœ‰æ ¸å¿ƒå¤§æ¦‚è¿™æ ·,å†™å…¥ 1 è¡¨ç¤ºå¯ç”¨æ­¤æ ¸å¿ƒ,ç¡®ä¿æ ¸å¿ƒå…¨éƒ¨å¯ç”¨\nfor CPU in /sys/devices/system/cpu/cpu[0-9]*; do  sudo bash -c &quot;echo 1 &gt; $CPU/online&quot; 2&gt;/dev/nulldonelscpu | grep &quot;Thread(s) per core&quot;\n\nå¯ç”¨è¶…çº¿ç¨‹è¿™é‡Œä»¥ PowerEdge R730 æœºå‹ä¸ºä¾‹,é‡å¯æŒ‰ F2 è¿›å…¥ BIOS.\nç„¶åæŒ‰ç…§ä¸‹é¢çš„å›¾ç‰‡æ‰¾åˆ°å¯¹åº”çš„é€‰é¡¹å¹¶ä¸”å°†å…¶å¯ç”¨å³å¯\n\nè¿›å…¥ System BIOS é€‰é¡¹\né€‰æ‹© Precessor Settings é€‰é¡¹(å¤„ç†å™¨è®¾ç½®)\nå°† Logical Processor è®¾ç½®ä¸º Enable(å¯ç”¨å³å¯)\n\n\nLogical Processor çš„åå­—å…¶å®ä¸ä¸€å®š,æœ‰æ—¶ä¹Ÿå« Hyper-Threading æˆ– Logical Processor Enable çœ‹æ˜¯ä»€ä¹ˆæœºå‹\n\n\n\n\néªŒè¯ç»“æœä¿å­˜ BIOS é…ç½®å¹¶ä¸”é€€å‡º,ç„¶åé‡å¯è¿›å…¥ç³»ç»Ÿ,å†æ¬¡å°è¯•æŸ¥çœ‹\nè¾“å‡ºç»“æœä¸­çš„Thread(s) per coreä¸º 2 è¡¨ç¤ºå°±å¯ç”¨äº†è¶…çº¿ç¨‹\nlscpu | grep &quot;Thread(s) per core&quot;\n\næˆ–è€…\nlscpu\n","categories":["è¿ç»´"],"tags":["è¿ç»´"]},{"title":"åˆ©ç”¨nftablesåšç«¯å£æµé‡ç»Ÿè®¡","url":"/2025/07/18/2025-07-18-06/","content":"æ¦‚è¿°é€šè¿‡nftablesè§„åˆ™å¯¹ç‰¹å®šç«¯å£èŒƒå›´åšè®¡æ•°æµé‡ç»Ÿè®¡,å¯ä»¥å€Ÿæ­¤è®¡ç®—ç¬æ—¶æµé‡.\nå†™è§„åˆ™å‡è®¾è¿™é‡Œæˆ‘ç»Ÿè®¡çš„æ˜¯11000-19000ç«¯å£èŒƒå›´çš„æµé‡,å…¥ç«™å’Œå‡ºç«™éƒ½ç»Ÿè®¡,ç„¶åç”¨è®¡æ•°å™¨æ¥è®¡ç®—æµé‡.\nå¤§æ¦‚æµç¨‹å°±æ˜¯åˆ›ä¸€ä¸ªåå­—å«portstatsçš„è¡¨,ç„¶ååˆ›ä¸¤ä¸ªé“¾,ä¸€ä¸ªå«input_chain,ä¸€ä¸ªå«output_chain,\nç„¶ååˆ›ä¸¤ä¸ªè®¡æ•°å™¨,ä¸€ä¸ªå«input_tcp_range,ä¸€ä¸ªå«output_tcp_range,ç„¶ååˆ›ä¸¤ä¸ªè§„åˆ™,ä¸€ä¸ªå«input_tcp_range,ä¸€ä¸ªå«output_tcp_range.\n# åˆ›å»ºè¡¨å’Œé“¾nft add table inet portstatsnft add chain inet portstats input_chain &#123; type filter hook input priority 0\\; &#125;nft add chain inet portstats output_chain &#123; type filter hook output priority 0\\; &#125;# åˆ›å»ºè¡¨nft add table inet portstats# åˆ›å»º input é“¾ï¼ˆæ¥æ”¶è¿›å…¥æœ¬æœºçš„æ•°æ®ï¼‰nft add chain inet portstats input_chain &#123; type filter hook input priority 0\\; &#125;# åˆ›å»º output é“¾ï¼ˆä»æœ¬æœºå‘å‡ºçš„æ•°æ®ï¼‰nft add chain inet portstats output_chain &#123; type filter hook output priority 0\\; &#125;# åˆ›å»ºè®¡æ•°å™¨ TCPnft add counter inet portstats input_tcp_rangenft add counter inet portstats output_tcp_range# åˆ›å»ºè®¡æ•°å™¨ UDPnft add counter inet portstats input_udp_rangenft add counter inet portstats output_udp_range# å…¥ç«™ TCPnft add rule inet portstats input_chain tcp dport 11000-19000 counter name input_tcp_range# å…¥ç«™ UDPnft add rule inet portstats input_chain udp dport 11000-19000 counter name input_udp_range# å‡ºç«™ TCPnft add rule inet portstats output_chain tcp sport 11000-19000 counter name output_tcp_range# å‡ºç«™ UDPnft add rule inet portstats output_chain udp sport 11000-19000 counter name output_udp_range\n\nåˆ›å»ºå®Œæˆå,å¯ä»¥æŸ¥çœ‹è¿™ä¸ªè¡¨,èƒ½ç›´æ¥çœ‹åˆ°ä»–çš„æµé‡ç»Ÿè®¡.\nåœ¨è¾“å‡ºä¸­,èƒ½çœ‹åˆ°counterçš„æµé‡ç»Ÿè®¡,packetsæ˜¯åŒ…çš„æ•°é‡,bytesæ˜¯å­—èŠ‚æ•°.\n\ninput_tcp_range å…¥ç«™ TCP æµé‡ç»Ÿè®¡\noutput_tcp_range å‡ºç«™ TCP æµé‡ç»Ÿè®¡\ninput_udp_range å…¥ç«™ UDP æµé‡ç»Ÿè®¡\noutput_udp_range å‡ºç«™ UDP æµé‡ç»Ÿè®¡\n\n\nå½“ç„¶,ä½ å¯ä»¥ç›´æ¥é€šè¿‡ä»–çš„ bytes æ¥è®¡ç®—è®¡æ•°æµé‡,åŒ…æ‹¬ç¬æ—¶æµé‡ä½ ä¹Ÿèƒ½è®°å½•åˆ°.\n\nnft list table inet portstats\n\nroot@localhost:~# nft list table inet portstatstable inet portstats &#123;        counter input_tcp_range &#123;                packets 3646743 bytes 234844099        &#125;        counter output_tcp_range &#123;                packets 2718337 bytes 7699060368        &#125;        counter input_udp_range &#123;                packets 83 bytes 12353        &#125;        counter output_udp_range &#123;                packets 96 bytes 7375        &#125;        chain input_chain &#123;                type filter hook input priority filter; policy accept;                tcp dport 11000-19000 counter name &quot;input_tcp_range&quot;                udp dport 11000-19000 counter name &quot;input_udp_range&quot;                tcp dport 11000-19000 counter name &quot;input_tcp_range&quot;                udp dport 11000-19000 counter name &quot;input_udp_range&quot;        &#125;        chain output_chain &#123;                type filter hook output priority filter; policy accept;                tcp sport 11000-19000 counter name &quot;output_tcp_range&quot;                udp sport 11000-19000 counter name &quot;output_udp_range&quot;                tcp sport 11000-19000 counter name &quot;output_tcp_range&quot;                udp sport 11000-19000 counter name &quot;output_udp_range&quot;        &#125;&#125;root@localhost:~#\n\næµé‡è®¡ç®—æ¯”å¦‚ä¸Šé¢çš„output_tcp_rangeå½“å‰æµé‡åœ¨7699060368å­—èŠ‚,å¦‚æœè¦è½¬æ¢åˆ° Mb å•ä½,ä½ åº”è¯¥:\necho &#x27;scale=2; 7699060368 / 1048576&#x27; | bc\n\nå•ä½æ˜¯ Mb,è¿™æ ·è®¡ç®—å‡ºæ¥çš„ç»“æœä»…ä»…åªæ˜¯è®¡æ•°å™¨è®°å½•çš„æµé‡,å¹¶ä¸æ˜¯ç¬æ—¶æµé‡.\n7342.39\n\nè®¡ç®—ç¬æ—¶æµé‡åŸç†ä¹Ÿå¾ˆç®€å•,å…ˆè·å–å½“å‰è®¡æ•°å™¨è®°å½•çš„æµé‡,ç„¶å sleep10 ç§’å,å†è·å–ä¸€æ¬¡è®¡æ•°å™¨è®°å½•çš„æµé‡,ç„¶åè®¡ç®—ä¸¤æ¬¡çš„å·®å€¼.\nnft list table inet portstatssleep 10 # ç­‰å¾… 10 ç§’å†å–ä¸€æ¬¡nft list table inet portstats\n\næ¯”å¦‚æˆ‘è¿™é‡Œä¸¤æ¬¡æ‰§è¡Œç»“æœçš„input_tcp_range.\n\nç¬¬ä¸€æ¬¡ 234844099\nç¬¬äºŒæ¬¡ 4346338221\né‚£ä¹ˆç¬æ—¶æµé‡è®¡ç®—æ–¹å¼ç›´æ¥å‚è€ƒä»¥ä¸‹è„šæœ¬\n\n\nç¬¬äºŒæ¬¡çš„ç»“æœå‡å»ç¬¬ä¸€æ¬¡çš„ç»“æœ,å¹¶ä¸”é™¤ä»¥ 10 çš„å»¶è¿Ÿç§’,å¾—åˆ°ç¬æ—¶æµé‡(å¦‚æœè¦åˆ° Mb å•ä½åˆ™å†é™¤ä»¥ 1048576).\nå¦‚æœä½ çš„å»¶è¿Ÿè®¾ç½®çš„ä¸æ˜¯ 10 ç§’,è€Œæ˜¯ 60 ç§’,é‚£ä½ å°±å¾—é™¤ä»¥ 60.\n\necho &#x27;scale=2; (4346338221 - 234844099) / 1048576 / 10&#x27; | bc # å•ä½æ˜¯ Mb/s\n\n392.10\n\nåˆ é™¤è§„åˆ™å¦‚æœåç»­ä½ ä¸æƒ³è¦è¿™ä¸ªè¡¨æˆ–è€…è¿™äº›è§„åˆ™äº†,å¯ä»¥ç›´æ¥åˆ é™¤è¿™å¼ è¡¨,ä»–ä¼šå°†è¿™ä¸ªè¡¨ä¸‹çš„è§„åˆ™,é“¾,è®¡æ•°å™¨ä¸€å¹¶æ¸…ç†.\nnft delete table inet portstats\n","categories":["è¿ç»´"],"tags":["è¿ç»´"]},{"title":"åˆ©ç”¨zabbix apiè®¡ç®—æµé‡æœˆ95å€¼","url":"/2025/07/18/2025-07-18-07/","content":"ç›´æ¥æä¾›è„šæœ¬è™½ç„¶è¿™ä¸ªè„šæœ¬æ˜¯è®© AI å¸®å¿™å†™çš„,ä½†ç»è¿‡å®é™…éªŒè¯,æ˜¯æœ‰æ•ˆçš„,å¹¶ä¸”æˆ‘ä¸€ç›´åœ¨ä½¿ç”¨\n\næ³¨æ„è¿™çš„ 1,2,3 æ­¥éª¤ä¸­çš„ä¸€äº›å‚æ•°éœ€è¦è‡ªå·±é…ç½®,æ¯”å¦‚æ—¶é—´èŒƒå›´,å•ä½æ¢ç®—,æ–‡ä»¶è·¯å¾„ç­‰.\næ ¹æ®ä½ å®é™…æƒ…å†µæ”¹æ”¹,å¦å¤–å°±æ˜¯ä¸€äº›å¿…å¤‡è½¯ä»¶åŒ…å¾—è£…ä¸€ä¸‹,æ¯”å¦‚jq bc curlä»€ä¹ˆçš„.\næœ€é‡è¦çš„æ˜¯ITEM_IDè¿™ä¸ªå˜é‡,ä½ éœ€è¦ä» zabbix ä¸­æ‰¾åˆ°ä½ æƒ³è®¡ç®— 95 çš„æµé‡å›¾,ç„¶åæŠŠä»–çš„ itemid æ‹¿å‡ºæ¥.\n\n#!/usr/bin/env bash# 1. Zabbix API å‚æ•°é…ç½®ZABBIX_URL=&quot;https://xxxxxxx/api_jsonrpc.php&quot; # ä½ çš„ zabbix API åœ°å€ITEM_ID=&quot; 123456&quot; # ä½ çš„ item id,è¿™ä¸ªæ˜¯æµé‡å›¾çš„ itemid,å¯ä»¥è‡ªå·±æ‰¾ä¸€ä¸‹AUTH_TOKEN=&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot; # ä½ çš„ auth token# 2. æ—¶é—´èŒƒå›´,å‡è®¾ï¼ˆ2025-04-01 ~ 2025-04-30ï¼‰TIME_FROM=1743436800 # 2025-04-01 00:00:00 è½¬æ¢åˆ°å¯¹åº”çš„ç§’çº§æ—¶é—´æˆ³TIME_TILL=1746028799 # 2025-04-30 23:59:59 è½¬æ¢åˆ°å¯¹åº”çš„ç§’çº§æ—¶é—´æˆ³# 3. å•ä½æ¢ç®—ï¼šå­—èŠ‚ =&gt; MBBYTES_TO_MB=1048576JSON_PATH=&quot;/tmp/zabbix.json&quot; # zbx è¯·æ±‚æ•°æ®CSV_PATH=&quot;/tmp/zabbix_full_data.csv&quot; # å…¨é‡æ•°æ®(æ¯ 5 åˆ†é’Ÿä¸€ä¸ªç‚¹çš„ 95 å€¼)ROW_PATH=&quot;/tmp/zabbix_row_data.csv&quot; # æ¯åˆ†é’Ÿæ•°æ®# 4. è·å–å†å²æ•°æ®ï¼ˆåªä¸‹è½½ä¸€æ¬¡ï¼‰if [ ! -f &quot;$JSON_PATH&quot; ]; then  echo &quot;æ‹‰å– Zabbix æ•°æ®ä¸­...&quot;  RESPONSE=$(curl -s &quot;$ZABBIX_URL&quot; \\    -H &quot;Content-Type: application/json&quot; \\    --data-raw &quot;&#123;    \\&quot;jsonrpc\\&quot;: \\&quot;2.0\\&quot;,    \\&quot;id\\&quot;: 1,    \\&quot;method\\&quot;: \\&quot;history.get\\&quot;,    \\&quot;params\\&quot;: &#123;      \\&quot;output\\&quot;: \\&quot;extend\\&quot;,      \\&quot;itemids\\&quot;: \\&quot;$ITEM_ID\\&quot;,      \\&quot;history\\&quot;: 3,      \\&quot;time_from\\&quot;: $TIME_FROM,      \\&quot;time_till\\&quot;: $TIME_TILL,      \\&quot;sortfield\\&quot;: [\\&quot;clock\\&quot;, \\&quot;itemid\\&quot;],      \\&quot;sortorder\\&quot;: \\&quot;ASC\\&quot;    &#125;,    \\&quot;auth\\&quot;: \\&quot;$AUTH_TOKEN\\&quot;  &#125;&quot;)  echo &quot;$RESPONSE&quot; &gt;&quot;$JSON_PATH&quot;else  RESPONSE=$(awk &#x27;NF&#x27; &quot;$JSON_PATH&quot;)fi# 5. æå–æ—¶é—´å’Œæµé‡ï¼Œè½¬æ¢ä¸º MBï¼Œå¹¶å†™å…¥ CSV æ–‡ä»¶echo &quot;Timestamp,Datetime,Value(MB)&quot; &gt;&quot;$CSV_PATH&quot;# æš‚å­˜ 5 åˆ†é’Ÿåˆ†ç»„åçš„æœ€å¤§å€¼declare -A GROUPED_MAX# ä» JSON ä¸­æå–æ•°æ®å¹¶åˆ†ç»„while IFS= read -r line; do  CLOCK=$(echo &quot;$line&quot; | jq -r &#x27;.clock&#x27;)  VALUE=$(echo &quot;$line&quot; | jq -r &#x27;.value&#x27;)  VALUE_MB=$(awk -v val=&quot;$VALUE&quot; -v factor=&quot;$BYTES_TO_MB&quot; &#x27;BEGIN &#123;printf &quot;%.2f&quot;, val / factor&#125;&#x27;)  # å‘ä¸‹å–æ•´åˆ° 5 åˆ†é’Ÿï¼ˆ300 ç§’ï¼‰ç²’åº¦  GROUP_TS=$((CLOCK / 300 * 300))  # å¦‚æœè¯¥ç»„æœªå­˜åœ¨ï¼Œæˆ–å½“å‰å€¼æ›´å¤§ï¼Œæ›´æ–°æœ€å¤§å€¼  if [[ -z &quot;$&#123;GROUPED_MAX[$GROUP_TS]&#125;&quot; ]] || (($(echo &quot;$VALUE_MB &gt; $&#123;GROUPED_MAX[$GROUP_TS]&#125;&quot; | bc -l))); then    GROUPED_MAX[$GROUP_TS]=$VALUE_MB  fi  # å†™å‡ºæ¯åˆ†é’Ÿçš„æ•°æ®,å¸¦å¯è¯»æ—¶é—´  DATETIME=$(date -d &quot;@$CLOCK&quot; &quot;+%Y-%m-%d %H:%M:%S&quot;)  echo &quot;$DATETIME,$VALUE_MB&quot; &gt;&gt;&quot;$ROW_PATH&quot;done &lt; &lt;(echo &quot;$RESPONSE&quot; | jq -c &#x27;.result | sort_by(.clock)[]&#x27;)# æå–æ’åºåçš„ 5 åˆ†é’Ÿç²’åº¦æ—¶é—´ç‚¹å’Œå€¼ï¼Œå†™å…¥ CSVï¼Œå¹¶ä¿å­˜å€¼ç”¨äº P95VALUES_MB=()for ts in $(printf &quot;%s\\n&quot; &quot;$&#123;!GROUPED_MAX[@]&#125;&quot; | sort -n); do  val=&quot;$&#123;GROUPED_MAX[$ts]&#125;&quot;  datetime=$(date -d &quot;@$ts&quot; &quot;+%Y-%m-%d %H:%M:%S&quot;)  echo &quot;$ts,$datetime,$val&quot; &gt;&gt;&quot;$CSV_PATH&quot;  VALUES_MB+=(&quot;$val&quot;)done# 6. ç»Ÿè®¡ä¸ P95 è®¡ç®—TOTAL=$&#123;#VALUES_MB[@]&#125;if [[ $TOTAL -lt 1 ]]; then  echo &quot;æœªè·å–åˆ°æœ‰æ•ˆæ•°æ®ï¼Œé€€å‡ºã€‚&quot;  exit 1fiSORTED=($(printf &quot;%s\\n&quot; &quot;$&#123;VALUES_MB[@]&#125;&quot; | sort -n))PERCENTILE_INDEX=$(echo &quot;$TOTAL * 0.95&quot; | bc | awk &#x27;&#123;printf(&quot;%d&quot;, ($1==int($1))?$1:$1+1)&#125;&#x27;)P95_VALUE=$&#123;SORTED[$((PERCENTILE_INDEX - 1))]&#125;# 7. è¾“å‡ºæ±‡æ€»echo &quot;âœ… æ•°æ®ç‚¹æ€»æ•°: $TOTAL&quot;echo &quot;ğŸ“ˆ 95 ç™¾åˆ†ä½ä½ç½®: $PERCENTILE_INDEX&quot;echo &quot;ğŸ“Š æ•´ä½“ 95 å€¼: $P95_VALUE MB&quot;echo &quot;ğŸ“ CSV æ–‡ä»¶å·²ç”Ÿæˆ: $CSV_PATH&quot;\n\næœ€ç»ˆç»“æœå¤§æ¦‚é•¿è¿™æ ·:\nâœ… æ•°æ®ç‚¹æ€»æ•°: 3589ğŸ“ˆ 95 ç™¾åˆ†ä½ä½ç½®: 3410ğŸ“Š æ•´ä½“ 95 å€¼: 1955.15 MBğŸ“ CSV æ–‡ä»¶å·²ç”Ÿæˆ: /tmp/zabbix_full_data.csv\n","categories":["è¿ç»´"],"tags":["è¿ç»´"]},{"title":"åœ¨Linuxä¸‹åˆ›å»ºSupervisordæœåŠ¡å•å…ƒ","url":"/2025/07/18/2025-07-18-08/","content":"æ¦‚è¿°Supervisord æ˜¯ä¸€ä¸ªè½»é‡çº§çš„è¿›ç¨‹ç®¡ç†å·¥å…·ã€‚å®ƒå…è®¸åˆ›å»ºå’Œç®¡ç†å¤šä¸ªè¿›ç¨‹ï¼Œå¹¶æä¾›ä¸€äº›é«˜çº§åŠŸèƒ½ï¼Œå¦‚è¿›ç¨‹ç›‘æ§ã€è‡ªåŠ¨é‡å¯ã€æ—¥å¿—ç®¡ç†ç­‰ã€‚\nä»–å’Œ Systemd ä¸€æ ·ï¼Œéƒ½æ˜¯ç”¨äºç®¡ç†è¿›ç¨‹çš„å·¥å…·ã€‚\nå®‰è£…apt install supervisor\n\nå®‰è£…å®Œæˆåæœ‰ä¸ªé…ç½®æ–‡ä»¶: supervisord.conf å¦‚æœæ‰¾ä¸åˆ°çš„è¯ç”¨ find å¯»æ‰¾ä¸€ä¸‹å°±è¡Œ.\nç„¶åéœ€è¦å¯åŠ¨ supervisord æœåŠ¡:\nsupervisord -c /etc/supervisor/supervisord.conf\n\n\næ³¨æ„ä¸‹,è¿™é‡Œçš„é…ç½®æ–‡ä»¶æ˜¯ä½ å®é™…çš„é…ç½®æ–‡ä»¶æ‰€åœ¨è·¯å¾„,å¦‚æœä½ ç§»åŠ¨è¿‡è¿™ä¸ª conf æ–‡ä»¶çš„ä½ç½®,è¯·ä½¿ç”¨å®é™…çš„è·¯å¾„.\n\nè¿›è¡Œé…ç½®å’Œä¸Šä¸€ç¯‡æ–‡ç« ä¸€æ ·ç»§ç»­å‡è®¾æˆ‘ä»¬çš„åº”ç”¨å« project-apps å¹¶ä¸”éœ€è¦åˆ›å»ºä¸€ä¸ªæœåŠ¡å•å…ƒ.\nç»™supervisord æ·»åŠ é…ç½®:\n[supervisord]nodaemon=truelogfile=/dev/nulllogfile_maxbytes=0pidfile=/tmp/supervisord.pid[program:project-apps]command=/usr/local/bin/project-appsuser=nobodyenvironment=PATH=&quot;/usr/local/bin:/usr/bin:/bin&quot;autostart=trueautorestart=truestartsecs=10startretries=3redirect_stderr=truestdout_logfile=/dev/stdoutstderr_logfile=/dev/stderr\n\né€é¡¹è§£é‡Šï¼š\n[supervisord] éƒ¨åˆ†ï¼š\n\nnodaemon=trueï¼šä»¥éå®ˆæŠ¤è¿›ç¨‹æ¨¡å¼è¿è¡Œï¼ˆå®¹å™¨éœ€è¦å‰å°è¿›ç¨‹ï¼‰ã€‚\nlogfile=/dev/nullï¼šç¦ç”¨ supervisord è‡ªèº«çš„æ—¥å¿—æ–‡ä»¶ï¼ˆå®¹å™¨æ—¥å¿—é€šè¿‡ stdout&#x2F;stderr æ”¶é›†ï¼‰ã€‚\nlogfile_maxbytes=0ï¼šé˜²æ­¢æ—¥å¿—æ–‡ä»¶å¢é•¿ã€‚\npidfile=/tmp/supervisord.pidï¼šæŒ‡å®š PID æ–‡ä»¶è·¯å¾„ã€‚\n\n[program:project-apps] éƒ¨åˆ†ï¼š\n\ncommand=/usr/local/bin/project-appsï¼šè¿è¡Œçš„å‘½ä»¤ï¼Œç­‰ä»·äº systemd çš„ ExecStartã€‚\nuser=nobodyï¼šä»¥ nobody ç”¨æˆ·è¿è¡Œï¼Œç­‰ä»·äº systemd çš„ User&#x3D;nobodyã€‚\nenvironment=PATH=...ï¼šè®¾ç½®ç¯å¢ƒå˜é‡ï¼Œç­‰ä»·äº systemd çš„ Environmentã€‚\nautostart=trueï¼šsupervisord å¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨ project-apps\nautorestart=trueï¼šè¿›ç¨‹é€€å‡ºæ—¶è‡ªåŠ¨é‡å¯ï¼Œç­‰ä»·äº systemd çš„ Restart&#x3D;alwaysã€‚\nstartsecs=10ï¼šè¿›ç¨‹è¿è¡Œ 10 ç§’åè®¤ä¸ºå¯åŠ¨æˆåŠŸï¼ˆé¿å…é¢‘ç¹é‡å¯ï¼‰ã€‚\nstartretries=3ï¼šå¯åŠ¨å¤±è´¥æ—¶é‡è¯• 3 æ¬¡ã€‚\nredirect_stderr=trueï¼šå°† stderr é‡å®šå‘åˆ° stdoutã€‚\nstdout_logfile=/dev/stdoutï¼šå°† stdout è¾“å‡ºåˆ°å®¹å™¨æ—¥å¿—ã€‚\nstderr_logfile=/dev/stderrï¼šå°† stderr è¾“å‡ºåˆ°å®¹å™¨æ—¥å¿—ã€‚\n\nå¯åŠ¨supervisord -c /etc/supervisor/supervisord.conf\n\næŸ¥çœ‹çŠ¶æ€supervisorctl status\n\nåœæ­¢supervisorctl stop project-apps\n\né‡å¯supervisorctl restart project-apps\n\næ”¯æŒçš„å„ä¸ªå‚æ•°\n\n\nå‚æ•°å\næè¿°\nç±»å‹\né»˜è®¤å€¼\nç¤ºä¾‹å€¼\nä¸ systemd çš„å¯¹åº”\n\n\n\ncommand\næŒ‡å®šè¦è¿è¡Œçš„å‘½ä»¤æˆ–å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„\nå­—ç¬¦ä¸²\næ— ï¼ˆå¿…å¡«ï¼‰\nproject-apps\nExecStart\n\n\nuser\næŒ‡å®šè¿è¡Œè¿›ç¨‹çš„ç”¨æˆ·\nå­—ç¬¦ä¸²\næ— ï¼ˆä»¥ supervisord çš„ç”¨æˆ·è¿è¡Œï¼‰\nnobody\nUser\n\n\nenvironment\nè®¾ç½®è¿›ç¨‹çš„ç¯å¢ƒå˜é‡ï¼Œæ ¼å¼ä¸º KEY&#x3D;â€valueâ€,KEY2&#x3D;â€value2â€\nå­—ç¬¦ä¸²\næ— \nPATH=&quot;/usr/local/bin:/usr/bin:/bin&quot;\nEnvironment\n\n\ndirectory\nè¿è¡Œå‘½ä»¤å‰åˆ‡æ¢çš„å·¥ä½œç›®å½•\nå­—ç¬¦ä¸²\næ— ï¼ˆå½“å‰ç›®å½•ï¼‰\n/app\nWorkingDirectory\n\n\nautostart\næ˜¯å¦åœ¨ supervisord å¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨è¿›ç¨‹\nå¸ƒå°”å€¼\ntrue\ntrue\nWantedByï¼ˆé—´æ¥å¯¹åº”ï¼‰\n\n\nautorestart\nè¿›ç¨‹é€€å‡ºæ—¶æ˜¯å¦è‡ªåŠ¨é‡å¯ï¼ˆtrue&#x2F;false&#x2F;unexpectedï¼‰\nå­—ç¬¦ä¸²\nfalse\ntrue\nRestartï¼ˆalways å¯¹åº” trueï¼‰\n\n\nstartsecs\nè¿›ç¨‹è¿è¡Œå¤šå°‘ç§’åè®¤ä¸ºå¯åŠ¨æˆåŠŸï¼ˆç”¨äºé‡å¯åˆ¤æ–­ï¼‰\næ•´æ•°\n1\n10\næ— ç›´æ¥å¯¹åº”ï¼ˆç±»ä¼¼ RestartSecï¼‰\n\n\nstartretries\nå¯åŠ¨å¤±è´¥æ—¶çš„æœ€å¤§é‡è¯•æ¬¡æ•°\næ•´æ•°\n3\n3\næ— ç›´æ¥å¯¹åº”\n\n\nexitcodes\nè§†ä¸ºæ­£å¸¸é€€å‡ºçš„é€€å‡ºç ï¼ˆä»…å½“ autorestart&#x3D;unexpected æ—¶ç”Ÿæ•ˆï¼‰\né€—å·åˆ†éš”çš„æ•´æ•°\n0\n0,2\næ— ç›´æ¥å¯¹åº”\n\n\nstopwaitsecs\nåœæ­¢è¿›ç¨‹æ—¶ç­‰å¾…çš„ç§’æ•°ï¼ˆè¶…æ—¶åå‘é€ SIGKILLï¼‰\næ•´æ•°\n10\n10\nTimeoutStopSec\n\n\nstopasgroup\næ˜¯å¦å‘æ•´ä¸ªè¿›ç¨‹ç»„å‘é€åœæ­¢ä¿¡å·\nå¸ƒå°”å€¼\nfalse\ntrue\næ— ç›´æ¥å¯¹åº”ï¼ˆç±»ä¼¼ KillMode&#x3D;process-groupï¼‰\n\n\nkillasgroup\næ˜¯å¦å‘æ•´ä¸ªè¿›ç¨‹ç»„å‘é€ç»ˆæ­¢ä¿¡å·ï¼ˆSIGKILLï¼‰\nå¸ƒå°”å€¼\nfalse\ntrue\næ— ç›´æ¥å¯¹åº”\n\n\nstopsignal\nç”¨äºåœæ­¢è¿›ç¨‹çš„ä¿¡å·\nå­—ç¬¦ä¸²\nTERM\nINT\nKillSignal\n\n\npriority\nè¿›ç¨‹å¯åŠ¨çš„ä¼˜å…ˆçº§ï¼ˆæ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ï¼‰\næ•´æ•°\n999\n100\næ— ç›´æ¥å¯¹åº”ï¼ˆç±»ä¼¼ Nice æˆ–å¯åŠ¨é¡ºåºï¼‰\n\n\nnumprocs\nå¯åŠ¨çš„è¿›ç¨‹å®ä¾‹æ•°ï¼ˆå¤šå®ä¾‹è¿è¡Œï¼‰\næ•´æ•°\n1\n2\næ— ç›´æ¥å¯¹åº”\n\n\nnumprocs_start\nå¤šå®ä¾‹è¿›ç¨‹çš„èµ·å§‹ç¼–å·ï¼ˆä¸ numprocs é…åˆï¼‰\næ•´æ•°\n0\n1\næ— ç›´æ¥å¯¹åº”\n\n\nprocess_name\nè¿›ç¨‹åç§°æ¨¡æ¿ï¼ˆç”¨äºå¤šå®ä¾‹ï¼Œå« % å ä½ç¬¦ï¼‰\nå­—ç¬¦ä¸²\n%(program_name)s\n%(program_name)s_%(process_num)02d\næ— ç›´æ¥å¯¹åº”\n\n\nredirect_stderr\næ˜¯å¦å°† stderr é‡å®šå‘åˆ° stdout\nå¸ƒå°”å€¼\nfalse\ntrue\næ— ç›´æ¥å¯¹åº”ï¼ˆæ—¥å¿—å¤„ç†ç›¸å…³ï¼‰\n\n\nstdout_logfile\nstdout æ—¥å¿—è¾“å‡ºæ–‡ä»¶è·¯å¾„ï¼ˆæ”¯æŒ &#x2F;dev&#x2F;stdoutï¼‰\nå­—ç¬¦ä¸²\nAUTOï¼ˆè‡ªåŠ¨ç”Ÿæˆæ—¥å¿—æ–‡ä»¶ï¼‰\n/dev/stdout\næ— ç›´æ¥å¯¹åº”ï¼ˆsystemd ä½¿ç”¨ journalctlï¼‰\n\n\nstdout_logfile_maxbytes\nstdout æ—¥å¿—æ–‡ä»¶çš„æœ€å¤§å¤§å°\nå­—ç¬¦ä¸²\n50MB\n10MB\næ— ç›´æ¥å¯¹åº”\n\n\nstdout_logfile_backups\nstdout æ—¥å¿—æ–‡ä»¶çš„å¤‡ä»½æ•°é‡\næ•´æ•°\n10\n5\næ— ç›´æ¥å¯¹åº”\n\n\nstderr_logfile\nstderr æ—¥å¿—è¾“å‡ºæ–‡ä»¶è·¯å¾„\nå­—ç¬¦ä¸²\nAUTO\n/dev/stderr\næ— ç›´æ¥å¯¹åº”\n\n\nstderr_logfile_maxbytes\nstderr æ—¥å¿—æ–‡ä»¶çš„æœ€å¤§å¤§å°\nå­—ç¬¦ä¸²\n50MB\n10MB\næ— ç›´æ¥å¯¹åº”\n\n\nstderr_logfile_backups\nstderr æ—¥å¿—æ–‡ä»¶çš„å¤‡ä»½æ•°é‡\næ•´æ•°\n10\n5\næ— ç›´æ¥å¯¹åº”\n\n\nstdout_capture_maxbytes\nstdout æ•è·ç¼“å†²åŒºå¤§å°ï¼ˆç”¨äºäº‹ä»¶ç›‘å¬ï¼‰\nå­—ç¬¦ä¸²\n0\n1MB\næ— ç›´æ¥å¯¹åº”\n\n\nstdout_events_enabled\næ˜¯å¦å¯ç”¨ stdout äº‹ä»¶ï¼ˆç”¨äºäº‹ä»¶ç›‘å¬ï¼‰\nå¸ƒå°”å€¼\nfalse\ntrue\næ— ç›´æ¥å¯¹åº”\n\n\nstderr_events_enabled\næ˜¯å¦å¯ç”¨ stderr äº‹ä»¶\nå¸ƒå°”å€¼\nfalse\ntrue\næ— ç›´æ¥å¯¹åº”\n\n\n","categories":["è¿ç»´"],"tags":["è¿ç»´"]},{"title":"åœ¨Linuxä¸‹åˆ›å»ºSystemæœåŠ¡å•å…ƒ","url":"/2025/07/18/2025-07-18-09/","content":"æ¦‚è¿°Systemd æ˜¯ Linux ç³»ç»Ÿçš„ä¸€ç§åˆå§‹åŒ–ç³»ç»Ÿï¼ˆinitï¼‰ï¼Œä¸»è¦è´Ÿè´£æ§åˆ¶ç³»ç»Ÿçš„å¯åŠ¨å’Œè¿è¡Œï¼Œå¹¶æä¾›äº†ä¸€ç§åŸºäºæœåŠ¡çš„ç®¡ç†æœºåˆ¶ã€‚å®ƒå–ä»£äº†ä¼ ç»Ÿçš„ init ç³»ç»Ÿï¼Œæˆä¸ºç°ä»£ Linux å‘è¡Œç‰ˆçš„æ ‡å‡†ã€‚\nè¿™é‡Œå‡è®¾æˆ‘éœ€è¦ä¸ºæˆ‘çš„åº”ç”¨åˆ›å»ºä¸€ä¸ªåå­—å«project-apps.serviceçš„æœåŠ¡å•å…ƒã€‚\nåˆ›å»ºæœåŠ¡å•å…ƒcat &gt;/etc/systemd/system/project-apps.service &lt;&lt;EOF[Unit]Description=project-apps ServiceAfter=network.target[Service]ExecStart=/usr/local/bin/project-appsRestart=alwaysUser=nobodyGroup=nogroupEnvironment=PATH=/usr/local/bin:/usr/bin:/bin[Install]WantedBy=multi-user.targetEOFsystemctl daemon-reloadsystemctl enable project-apps.servicesystemctl restart project-apps.service\n\n\ncat &gt;: ä½¿ç”¨ cat å‘½ä»¤å°†åç»­å†…å®¹å†™å…¥æ–‡ä»¶ã€‚\n/etc/systemd/system/project-apps.service: æŒ‡å®šæ–‡ä»¶è·¯å¾„ï¼Œsystemd æœåŠ¡å•å…ƒæ–‡ä»¶é€šå¸¸å­˜æ”¾åœ¨ &#x2F;etc&#x2F;systemd&#x2F;system&#x2F; ç›®å½•ä¸‹ã€‚\n&lt;&lt;EOF ... EOF: ä½¿ç”¨ heredoc è¯­æ³•ï¼Œå°†å¤šè¡Œå†…å®¹å†™å…¥æ–‡ä»¶ï¼Œç›´åˆ°é‡åˆ° EOF æ ‡è®°ã€‚\n\n[Unit] éƒ¨åˆ†[Unit]Description=project-apps ServiceAfter=network.target\n\n\nDescription: æœåŠ¡æè¿°ï¼Œæ˜¾ç¤ºä¸º Dcim Serviceï¼Œç”¨äºæ ‡è¯†æœåŠ¡çš„ç”¨é€”ã€‚\nAfter=network.target: æŒ‡å®šæœåŠ¡åœ¨ network.targetï¼ˆç½‘ç»œæœåŠ¡ï¼‰å¯åŠ¨åå†å¯åŠ¨ï¼Œç¡®ä¿ç½‘ç»œå¯ç”¨ã€‚\n\n[Service] éƒ¨åˆ†[Service]ExecStart=/usr/local/bin/project-appsRestart=alwaysUser=nobodyGroup=nogroupEnvironment=PATH=/usr/local/bin:/usr/bin:/bin\n\n\nExecStart: æŒ‡å®šæœåŠ¡å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤ &#x2F;usr&#x2F;local&#x2F;bin&#x2F;project-appsã€‚è¿™æ„å‘³ç€æœ‰ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ project-apps ä½äº &#x2F;usr&#x2F;local&#x2F;bin&#x2F;ã€‚\nRestart=always: å¦‚æœæœåŠ¡å› ä»»ä½•åŸå› åœæ­¢ï¼ˆä¾‹å¦‚å´©æºƒï¼‰ï¼Œsystemd å°†è‡ªåŠ¨é‡å¯æœåŠ¡ã€‚\nUser=nobody: æœåŠ¡ä»¥ nobody ç”¨æˆ·èº«ä»½è¿è¡Œï¼Œè¿™æ˜¯ä¸€ä¸ªä½æƒé™ç”¨æˆ·ï¼Œç”¨äºæé«˜å®‰å…¨æ€§ã€‚\nGroup=nogroup: æœåŠ¡ä»¥ nogroup ç»„èº«ä»½è¿è¡Œï¼ŒåŒæ ·æ˜¯ä¸ºäº†é™åˆ¶æƒé™ã€‚\nEnvironment: è®¾ç½®ç¯å¢ƒå˜é‡ PATHï¼Œç¡®ä¿æœåŠ¡å¯ä»¥æ‰¾åˆ° &#x2F;usr&#x2F;local&#x2F;binã€&#x2F;usr&#x2F;bin å’Œ &#x2F;bin ç›®å½•ä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚\n\n[Install] éƒ¨åˆ†[Install]WantedBy=multi-user.target\n\n\nWantedBy=multi-user.target: æŒ‡å®šæœåŠ¡åœ¨ multi-user.targetï¼ˆå¤šç”¨æˆ·æ¨¡å¼ï¼Œç›¸å½“äºç³»ç»Ÿå¯åŠ¨åˆ°å‘½ä»¤è¡Œç¯å¢ƒï¼‰æ—¶å¯ç”¨ã€‚è¿™æ˜¯å…¸å‹çš„éå›¾å½¢åŒ–æœåŠ¡çš„ç›®æ ‡ã€‚\n\nåç»­æ“ä½œsystemctl daemon-reload\n\n\nsystemctl daemon-reload: é€šçŸ¥ systemd é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ã€‚å› ä¸ºæˆ‘ä»¬åˆšåˆšåˆ›å»ºæˆ–ä¿®æ”¹äº† dcim.service æ–‡ä»¶ï¼Œæ­¤å‘½ä»¤ç¡®ä¿ systemd è¯†åˆ«æ–°çš„æœåŠ¡å®šä¹‰ã€‚\néœ€è¦ sudo æƒé™ï¼Œå› ä¸ºä¿®æ”¹ systemd é…ç½®æ˜¯ç³»ç»Ÿçº§æ“ä½œã€‚\n\nsystemctl enable project-apps.servicesystemctl restart project-apps.service\n\n\nsystemctl enable project-apps.service: å¯ç”¨æœåŠ¡ï¼Œä½¿å…¶åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨ã€‚\nsystemctl restart project-apps.service: é‡æ–°å¯åŠ¨æœåŠ¡ï¼Œç¡®ä¿é…ç½®ç”Ÿæ•ˆã€‚\n\nå¦å¤–ï¼Œå¦‚æœéœ€è¦æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\nsystemctl status project-apps.service\n\nå¸Œæœ›æŸ¥çœ‹æœåŠ¡æ—¥å¿—ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\njournalctl -u project-apps.service\n","categories":["è¿ç»´"],"tags":["è¿ç»´"]},{"title":"Vueè„šæ‰‹æ¶æ¨¡æ¿","url":"/2025/07/18/2025-07-18-10/","content":":::tip æœ‰å•¥ç”¨?æµ…æµ…è®°å½•ä¸€ä¸‹åœ¨ä½¿ç”¨ Vue çš„è½®å­æ—¶,å„ä¸ªæ”¯æŒåº“çš„æ¨¡æ¿,æ–¹ä¾¿åœ¨æ–°èµ·é¡¹ç›®æ—¶å¯ä»¥å¿«é€Ÿ CV ä¸Šå» :):::\nRouter Template\nè¿™æ˜¯è·¯ç”±ç»„ä»¶çš„ ts ä»£ç æ¨¡æ¿,å¯ä»¥ç›´æ¥ CV åˆ°/src/router/index.tsä½¿ç”¨,åˆ é™¤ä¸€äº›è‡ªå·±ä¸éœ€è¦çš„ä¸œè¥¿å°±è¡Œ.\n\n:::details ç‚¹æˆ‘æŸ¥çœ‹ä»£ç \nimport &#123; createRouter, createWebHashHistory, RouteRecordRaw &#125; from &quot;vue-router&quot;;import &#123; useUserStore &#125; from &quot;@/stores/user&quot;; // è‹¥ä½¿ç”¨ Piniaimport &#123; ElMessage &#125; from &quot;element-plus&quot;; // å¯æ¢æˆä»»æ„ UI åº“import NProgress from &quot;nprogress&quot;; // æ›¿ä»£ loadingBar// é¡µé¢ç»„ä»¶å¼•å…¥import ViewLogin from &quot;@/views/Login.vue&quot;;import ViewHome from &quot;@/views/Home.vue&quot;;import View404 from &quot;@/views/404.vue&quot;;// è·¯ç”±é…ç½®const routes: RouteRecordRaw[] = [  &#123;    path: &quot;/&quot;,    redirect: &quot;/home&quot;,  &#125;,  &#123;    path: &quot;/login&quot;,    name: &quot;Login&quot;,    component: ViewLogin,    meta: &#123; public: true &#125;,  &#125;,  &#123;    path: &quot;/home&quot;,    name: &quot;Home&quot;,    component: ViewHome,    meta: &#123; requiresAuth: true &#125;,  &#125;,  &#123;    path: &quot;/:pathMatch(.*)*&quot;,    name: &quot;NotFound&quot;,    component: View404,    meta: &#123; public: true &#125;,  &#125;,];const router = createRouter(&#123;  history: createWebHashHistory(),  routes,&#125;);// è·¯ç”±å®ˆå«router.beforeEach((to, from, next) =&gt; &#123;  NProgress.start();  const userStore = useUserStore();  const isAuthenticated = !!userStore.token;  if (to.meta.requiresAuth &amp;&amp; !isAuthenticated) &#123;    ElMessage.warning(&quot;è¯·å…ˆç™»å½•&quot;);    return next(&#123; name: &quot;Login&quot; &#125;);  &#125;  if (to.path === &quot;/login&quot; &amp;&amp; isAuthenticated) &#123;    return next(&#123; name: &quot;Home&quot; &#125;);  &#125;  next();&#125;);router.afterEach(() =&gt; &#123;  NProgress.done();&#125;);export default router;\n\n:::\nPinia [TypeScript] Template\nè¿™æ˜¯ pinia çŠ¶æ€ç®¡ç†æ’ä»¶çš„ TS æ¨¡æ¿,ä¸€èˆ¬æ˜¯æ”¾åœ¨/src/stores/xxxx.tsçš„\n\n:::details ç‚¹æˆ‘æŸ¥çœ‹ä»£ç \nimport &#123; defineStore &#125; from &quot;pinia&quot;;interface UserInfo &#123;  id: string;  name: string;  email?: string;  [key: string]: any;&#125;export const useUserStore = defineStore(&quot;user&quot;, &#123;  state: (): &#123;    token: string;    userInfo: UserInfo | null;  &#125; =&gt; (&#123;    token: &quot;&quot;,    userInfo: null,  &#125;),  getters: &#123;    isLogin: (state) =&gt; !!state.token,    username: (state) =&gt; state.userInfo?.name || &quot;&quot;,  &#125;,  actions: &#123;    setToken(token: string) &#123;      this.token = token;    &#125;,    setUserInfo(info: UserInfo) &#123;      this.userInfo = info;    &#125;,    logout() &#123;      this.token = &quot;&quot;;      this.userInfo = null;    &#125;,  &#125;,  // æŒä¹…åŒ–ï¼ˆå¯é€‰ï¼Œéœ€è¦é…åˆ pinia-plugin-persistedstate æ’ä»¶ï¼‰  persist: &#123;    key: &quot;user-store&quot;,    paths: [&quot;token&quot;, &quot;userInfo&quot;],    storage: sessionStorage,  &#125;,&#125;);\n\n:::\nPinia [JavaScript] Template\nè¿™æ˜¯ pinia çŠ¶æ€ç®¡ç†æ’ä»¶çš„ JS æ¨¡æ¿,ä¸€èˆ¬æ˜¯æ”¾åœ¨/src/stores/xxxx.jsçš„\n\n:::details ç‚¹æˆ‘æŸ¥çœ‹ä»£ç \nimport &#123; defineStore &#125; from &quot;pinia&quot;;export const useUserStore = defineStore(&quot;user&quot;, &#123;  state: () =&gt; (&#123;    token: &quot;&quot;,    userInfo: null,  &#125;),  getters: &#123;    isLogin: (state) =&gt; !!state.token,    username: (state) =&gt; state.userInfo?.name || &quot;&quot;,  &#125;,  actions: &#123;    setToken(token) &#123;      this.token = token;    &#125;,    setUserInfo(info) &#123;      this.userInfo = info;    &#125;,    logout() &#123;      this.token = &quot;&quot;;      this.userInfo = null;    &#125;,  &#125;,  // å¼€å¯æŒä¹…åŒ–ï¼ˆéœ€è¦ pinia-plugin-persistedstate æ’ä»¶ï¼‰  persist: &#123;    key: &quot;user-store&quot;,    paths: [&quot;token&quot;, &quot;userInfo&quot;],    storage: sessionStorage,  &#125;,&#125;);\n\n:::\naxios äºŒæ¬¡å°è£…\nå¯ä»¥ç›´æ¥å†™åˆ°/src/api/request.ts\n\n:::details ç‚¹æˆ‘æŸ¥çœ‹ä»£ç \nimport axios, &#123; AxiosInstance, AxiosRequestConfig, AxiosResponse &#125; from &quot;axios&quot;;import &#123; ElMessage &#125; from &quot;element-plus&quot;;import &#123; useUserStore &#125; from &quot;@/stores/user&quot;;const BASE_URL = import.meta.env.VITE_API_BASE_URL || &quot;/api&quot;;const service: AxiosInstance = axios.create(&#123;  baseURL: BASE_URL,  timeout: 10000,  headers: &#123;    &quot;Content-Type&quot;: &quot;application/json&quot;,  &#125;,&#125;);// è¯·æ±‚æ‹¦æˆªå™¨service.interceptors.request.use(  (config: AxiosRequestConfig) =&gt; &#123;    const userStore = useUserStore();    const token = userStore.token;    if (token) &#123;      config.headers = &#123;        ...config.headers,        Authorization: `Bearer $&#123;token&#125;`,      &#125;;    &#125;    return config;  &#125;,  (error) =&gt; &#123;    return Promise.reject(error);  &#125;);// å“åº”æ‹¦æˆªå™¨service.interceptors.response.use(  (response: AxiosResponse) =&gt; &#123;    const &#123; data &#125; = response;    // æ ¹æ®ä¸šåŠ¡çº¦å®šå¤„ç†    if (data.code !== 0) &#123;      ElMessage.error(data.message || &quot;è¯·æ±‚å¤±è´¥&quot;);      return Promise.reject(data);    &#125;    return data.data; // é»˜è®¤è¿”å› data ä¸‹çš„ data  &#125;,  (error) =&gt; &#123;    const status = error?.response?.status;    if (status === 401) &#123;      const userStore = useUserStore();      userStore.logout();      ElMessage.error(&quot;ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•&quot;);      // å¯è·³è½¬ç™»å½•é¡µ    &#125; else if (status === 500) &#123;      ElMessage.error(&quot;æœåŠ¡å™¨é”™è¯¯&quot;);    &#125; else &#123;      ElMessage.error(error?.response?.data?.message || &quot;è¯·æ±‚å¼‚å¸¸&quot;);    &#125;    return Promise.reject(error);  &#125;);export default service;\n\n\næ€ä¹ˆä½¿ç”¨? å‚è€ƒä¸‹é¢çš„ä»£ç \n\nimport request from &quot;@/api/request&quot;;interface LoginParams &#123;  username: string;  password: string;&#125;interface LoginResponse &#123;  token: string;  userInfo: &#123;    id: string;    name: string;  &#125;;&#125;export function login(data: LoginParams) &#123;  return request.post&lt;LoginResponse&gt;(&quot;/auth/login&quot;, data);&#125;\n\n:::\n","categories":["Vue.js"],"tags":["Vue.js"]},{"title":"å¼ºåˆ¶æ›´æ–°Gormé›¶å€¼","url":"/2025/07/18/2025-07-18-11/","content":"æ¦‚è¿°åœ¨ä½¿ç”¨ Gorm çš„Updatesæ–¹æ³•æ›´æ–°å­—æ®µæ—¶ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä»–ä¼šå¿½ç•¥æ‰é›¶å€¼ï¼Œä¾‹å¦‚ falseã€0ã€&quot;&quot;ï¼Œè¿™äº›éƒ½å±äºé›¶å€¼\nå¦‚æœä½ æœ‰ä¸ªå­—æ®µå«statusï¼Œç±»å‹ä¸ºboolè¡¨ç¤ºè¯¥è®°å½•çš„çŠ¶æ€ï¼Œé‚£ä¹ˆå½“ä½ æƒ³ä¿®æ”¹ä»–ä¸ºfalseæ—¶æ˜¯ä¸ä¼šæˆåŠŸçš„ã€‚\nè§£å†³æ–¹æ³•:::danger æ³¨æ„å°å¿ƒä½¿ç”¨å“¦,åˆ«æ”¹å´©äº†:::\nGORM é»˜è®¤å¿½ç•¥é›¶å€¼ï¼ˆå¦‚ falseï¼‰ï¼Œç›´æ¥é€šè¿‡Selectæ–¹æ³•æŒ‡å®šå¼ºåˆ¶æ›´æ–°å­—æ®µï¼Œå³ä¾¿ä½ è¿™ä¸ªå­—æ®µå°†è¢«ä¿®æ”¹ä¸ºé›¶å€¼ã€‚\nfunc (TablePass) AddOrUpdate(config TablePass) error &#123;    return farmework.ModuleOrm.Where(&quot;id = ?&quot;, config.ID).        Assign(config).Select(&quot;status&quot;).FirstOrCreate(&amp;config).Error&#125;\n","categories":["Go"],"tags":["Go Gorm"]},{"title":"Wailsä¸­Goç»“æ„æˆ–æ–¹æ³•æ— æ³•æ˜ å°„åˆ°å‰ç«¯","url":"/2025/07/18/2025-07-18-12/","content":"æ¦‚è¿°æœ€è¿‘å‘ç°ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜ï¼Œæˆ‘æ‰§è¡Œwails devæ—¶çªç„¶å‘ç°æˆ‘åœ¨app.goä¸­æš´éœ²ç»™å‰ç«¯çš„å‡½æ•°å±…ç„¶æ²¡èƒ½è‡ªåŠ¨ç»‘å®šåˆ°å‰ç«¯çš„wailsjs/go/apps/xxxä¸‹ã€‚\nç»è¿‡ä¸€æ®µæ—¶é—´æ’æŸ¥å‘ç°æ˜¯ go è¯­è¨€å¯¼å‡ºå‡½æ•°çš„è¿”å›å€¼å¸¦æœ‰å¤æ‚ç±»å‹ï¼Œå°±æ˜¯time.Timeè¿™ä¸ªç±»å‹å¯¼è‡´çš„ï¼ŒåŸå› å¾ˆç®€å•ã€‚\næ‰§è¡Œå‘½ä»¤å°è¯•æ‰‹åŠ¨è®©ä»–å»ç»‘å®šï¼š\nwails generate module\n\nç„¶åå‡ºç°äº†é”™è¯¯\nâ•­â”€hyhacct@hyhacctdeMacBook-Air ~/workspace/PeachDRAC/PeachDRAC â€¹mainâ—â€ºâ•°â”€$ wails generate module                                                                                                                  1 â†µ2025/04/24 13:24:14 KnownStructs: model.TablePass       model.WailsCommunicateNot found: time.TimeKnownStructs: model.TablePass   model.WailsCommunicateNot found: time.Time â™¥   If Wails is useful to you or your company, please consider sponsoring the project:\n\nè¿™é‡Œå°±æ˜¯åœ¨è¯´ wails å…¶å®å¹¶ä¸æ”¯æŒtime.Timeè¿™ä¸ªç±»å‹ï¼Œä½†æ˜¯æ°å¥½æˆ‘æš´éœ²çš„å‡½æ•°ä¸­ï¼Œæœ‰ä¸€ä¸ªè¿”å›å€¼æ˜¯ç»“æ„ä½“ï¼Œç»“æ„ä½“é‡Œé¢æœ‰ä¸ªå€¼ç±»å‹å°±æ˜¯time.Timeã€‚\nç„¶åè¿™ä¸ªé—®é¢˜å°±é¡ºå…¶è€Œç„¶çš„äº§ç”Ÿäº†â€¦\nè§£å†³åŠæ³•ç›´æ¥åœ¨å¯¹åº”çš„ç»“æ„ä½“è¿™ä¸ªç±»å‹ä¸‹ï¼Œç»™ä»–æ·»åŠ ä¸€ä¸ªæ˜ å°„: ts_type:&quot;string&quot;\næ„æ€å°±æ˜¯å‘Šè¯‰ Wails å°† time.Time åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œä¸å°†ä»–ä½œä¸ºä¸€ä¸ªç‰¹æ®Šç±»å‹å¤„ç†ï¼Œå…¶å®å°±å¯ä»¥äº†ã€‚\nå…·ä½“ç¤ºä¾‹ï¼š(åœ¨å¯¹åº”çš„ç‰¹æ®Šç±»å‹åé¢æ·»åŠ ts_typeæ˜ å°„)\ntype TablePass struct &#123;\tID        int       `gorm:&quot;primary_key&quot; json:&quot;id&quot;`\tUsername  string    `gorm:&quot;not null&quot; json:&quot;username&quot;`\tPassword  string    `gorm:&quot;not null&quot; json:&quot;password&quot;`\tPort      string    `gorm:&quot;not null&quot; json:&quot;port&quot;`\tStatus    bool      `gorm:&quot;not null&quot; json:&quot;status&quot;`   // æ˜¯å¦å¯ç”¨\tPriority  int       `gorm:&quot;not null&quot; json:&quot;priority&quot;` // ä¼˜å…ˆçº§,æ•°å­—è¶Šå¤§è¶Šé«˜\tCreatedAt time.Time `gorm:&quot;autoCreateTime&quot; json:&quot;created_at&quot; ts_type:&quot;string&quot;`\tUpdatedAt time.Time `gorm:&quot;autoUpdateTime&quot; json:&quot;updated_at&quot; ts_type:&quot;string&quot;`&#125;\n\nç„¶åæ‰§è¡Œè‡ªåŠ¨ç»‘å®šï¼Œå‘ç°æ²¡æœ‰ä»»ä½•é”™è¯¯ï¼ŒOKï¼Œé—®é¢˜é¡ºåˆ©è§£å†³ã€‚\nâ•­â”€hyhacct@hyhacctdeMacBook-Air ~/workspace/PeachDRAC/PeachDRAC â€¹mainâ—â€ºâ•°â”€$ wails generate module â™¥   If Wails is useful to you or your company, please consider sponsoring the project:https://github.com/sponsors/leaanthonyâ•­â”€hyhacct@hyhacctdeMacBook-Air ~/workspace/PeachDRAC/PeachDRAC â€¹mainâ—â€ºâ•°â”€$\n","categories":["Go"],"tags":["Go Wails"]},{"title":"ä½¿ç”¨Vueå®ç°ç€‘å¸ƒæµå¸ƒå±€","url":"/2025/07/18/2025-07-18-13/","content":"æ¦‚è¿°ç€‘å¸ƒæµå¸ƒå±€ç›¸æ¯”æ …æ ¼ç½‘æ ¼ä¸åŒçš„å°±æ˜¯ï¼Œåªè¦å¡ç‰‡å¡çš„åˆç†ï¼Œä¸€èˆ¬æ˜¯ä¸ä¼šå‡ºç°ç©ºæ ¼ã€‚\nä¸åƒæ …æ ¼ï¼Œåªèƒ½åšæ°´å¹³å¯¹é½ï¼Œä½†æ˜¯å¦‚æœå¡ç‰‡çš„é«˜åº¦ä¸èƒ½ç»Ÿä¸€ï¼Œé‚£å°±ä¼šå‡ºç°å¾ˆå¤šç©ºç™½çš„åŒºåŸŸï¼Œå½±å“ç¾è§‚ã€‚\nå®‰è£…åŒ…vue é‡Œé¢vue-masonry-wallå°±æ˜¯ç”¨æ¥åšç€‘å¸ƒæ ·å¼çš„ï¼Œå¯ä»¥ç›´æ¥å®‰è£…å¼•å…¥ã€‚\n\nå®‰è£…ä¹‹å‰å…ˆæ³¨æ„ï¼Œå¦‚æœä½ æ˜¯vue2ç‰ˆæœ¬çš„è¯å¯èƒ½æ˜¯è¦ç”¨npm install vue-masonry-wallè¿™ä¸ªã€‚\nä¸‹é¢è¿™ä¸ªæ˜¯vue3çš„å®‰è£…ï¼Œå®é™…ä¸Šæˆ‘æµ‹è¯•è¿‡åœ¨vue3é‡Œé¢ç›´æ¥æ‰§è¡Œpnpm install vue-masonry-wallï¼Œå¹¶ä¸”ä½¿ç”¨ã€‚\nä¼šå‡ºç°API å…¼å®¹æ€§é—®é¢˜ï¼Œå¯¼è‡´å‡ºç°é”™è¯¯ï¼Œæ‰€ä»¥æˆ‘çŒœæµ‹è¿™ä¸¤ä¸ªåº”è¯¥æ˜¯åˆ†ä¸º vue3 å’Œ vue2 ä¸¤ä¸ªç‰ˆæœ¬ä½¿ç”¨çš„ã€‚\n\nyarn add @yeger/vue-masonry-wallnpm install @yeger/vue-masonry-wall\n\nç¤ºä¾‹ä»£ç å…¨å±€å¼•å…¥import &#123; createApp &#125; from &quot;vue&quot;;import MasonryWall from &quot;@yeger/vue-masonry-wall&quot;;const app = createApp();app.use(MasonryWall);\n\nç»„ä»¶å†…ä½¿ç”¨:::warning å»ºè®®å€¼å¾—æ³¨æ„çš„æ˜¯å½“æ•°æ®é‡æ¯”è¾ƒå¤§æ—¶æ¸²æŸ“å‹åŠ›ä¼šå¢åŠ ,å»ºè®®åšåˆ†é¡µæ¥ç¼“è§£å‰ç«¯çš„æ¸²æŸ“å‹åŠ›:::\n&lt;template&gt;  &lt;masonry-wall :items=&quot;items&quot; :column-width=&quot;300&quot; :gap=&quot;16&quot;&gt;    &lt;template #default=&quot;&#123; item &#125;&quot;&gt;      &lt;div class=&quot;item&quot;&gt;        &lt;img  : src=&quot;item.image&quot;  :alt=&quot;item.title&quot; &gt;        &lt;h3&gt;&#123;&#123; item.title &#125;&#125;&lt;/h3&gt;        &lt;p&gt;&#123;&#123; item.description &#125;&#125;&lt;/p&gt;      &lt;/div&gt;    &lt;/template&gt;  &lt;/masonry-wall&gt;&lt;/template&gt;&lt;script setup&gt;import &#123; ref &#125; from &quot;vue&quot;;const items = ref([  &#123;    id: 1,    title: &quot;æ ‡é¢˜1&quot;,    description: &quot;æè¿°1&quot;,    image: &quot;å›¾ç‰‡åœ°å€1&quot;,  &#125;,  // ... æ›´å¤šæ•°æ®]);&lt;/script&gt;&lt;style scoped&gt;.item &#123;  background: #fff;  border-radius: 8px;  padding: 16px;  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);&#125;.item img &#123;  width: 100%;  height: auto;  border-radius: 4px;&#125;&lt;/style&gt;\n\né…ç½®é€‰é¡¹masonry-wall ç»„ä»¶æ”¯æŒä»¥ä¸‹ä¸»è¦é…ç½®ï¼š\n\nitems: æ•°ç»„ï¼Œå¿…éœ€ï¼Œè¦æ˜¾ç¤ºçš„æ•°æ®é¡¹\ncolumn-width: æ•°å­—ï¼Œæ¯åˆ—çš„å®½åº¦ï¼ˆåƒç´ ï¼‰\ngap: æ•°å­—ï¼Œåˆ—ä¹‹é—´çš„é—´è·ï¼ˆåƒç´ ï¼‰\nrtl: å¸ƒå°”å€¼ï¼Œæ˜¯å¦ä»å³åˆ°å·¦å¸ƒå±€\nssr-columns: æ•°å­—ï¼ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“æ—¶çš„åˆ—æ•°\n\nå“åº”å¼å¤„ç†ä¸ºäº†åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹è·å¾—æœ€ä½³æ˜¾ç¤ºæ•ˆæœï¼Œå¯ä»¥ä½¿ç”¨è®¡ç®—å±æ€§åŠ¨æ€è®¾ç½®åˆ—å®½ï¼š\n&lt;script setup&gt;import &#123; computed &#125; from &quot;vue&quot;;const columnWidth = computed(() =&gt; &#123;  const screenWidth = window.innerWidth;  if (screenWidth &lt; 600) return 150;  if (screenWidth &lt; 900) return 200;  return 300;&#125;);&lt;/script&gt;\n","categories":["Vue.js"],"tags":["Vue.js"]},{"title":"åœ¨Ubuntuä¸‹éƒ¨ç½²ikuaiè½¯è·¯ç”±","url":"/2025/07/18/2025-07-18-14/","content":"æ¦‚è¿°ikuai æä¾›çš„æ˜¯ä¸€ä¸ªç³»ç»Ÿé•œåƒ,æ‰€ä»¥éœ€è¦ç”¨åˆ° kvm æ¥è¿è¡Œä»–,è¿™é‡Œè®°å½•ä¸€ä¸‹æˆ‘çš„éƒ¨ç½²è¿‡ç¨‹\nå‡†å¤‡ç¯å¢ƒå®‰è£… kvm,è¿™ä¸€æ­¥æ˜¯å¿…é¡»çš„\n#!/usr/bin/env bash&#123;  apt update  apt install -y qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils virt-manager  lsmod | grep kvm  usermod -aG libvirt $(whoami)  usermod -aG kvm $(whoami)  newgrp libvirt  systemctl enable libvirtd  systemctl start libvirtd  systemctl status libvirtd&#125;\n\nå®¿ä¸»æœºé…ç½®ç½‘ç»œå®¿ä¸»æœºè‡³å°‘éœ€è¦æœ‰ä¸€ä¸ªå£å¯ä»¥ç”¨æ¥ä¸Šç½‘,å› ä¸º ikuai éœ€è¦ä¸¤ä¸ªç½‘å£,ä¸€ä¸ª wan ä¸€ä¸ª lan,wan å£ç”¨æ¥ä¸Šç½‘,lan å£åˆ™å¯ä»¥ä½œä¸ºå†…ç½‘ç½‘å…³.\nè¿™é‡Œç›´æ¥ä½¿ç”¨ç½‘æ¡¥æ¥åˆ›å»ºå°±è¡Œ,å†™ä¸€ä¸ªé…ç½®æ–‡ä»¶,å°†ä¸‹é¢çš„é…ç½®å†™è¿›å»,å…¶å®è¿™ä¸ªæ˜¯è‡ªå·±éšä¾¿å®šçš„,ä½ å¯ä»¥æ˜¯ 172 æ®µçš„ IP,å†…ç½‘æ— æ‰€è°“,éšä¾¿å®šä¹‰,çœ‹è‡ªå·±å–œæ¬¢.\n\nåœ°å€: 192.168.9.250æ©ç : 16ç½‘å…³: 192.168.9.1\n\nå°†ä¸‹é¢çš„é…ç½®å†™å…¥åˆ°/etc/netplan/01-br-lan1.yamlæ–‡ä»¶ä¸­\nnetwork:  version: 2  renderer: networkd  ethernets:    eno1: # æ”¹ä¸ºä½ å®¿ä¸»æœºçš„ç½‘å£      dhcp4: false  bridges:    br-en01:      interfaces: [eno1] # æ”¹ä¸ºä½ å®¿ä¸»æœºçš„ç½‘å£      dhcp4: false      addresses:        - 192.168.9.250/16 # éšä¾¿åˆ†é…ä¸ªåœ°å€      gateway4: 192.168.9.1 # æŒ‡å®šç½‘å…³      nameservers:        addresses:          - 223.5.5.5          - 119.29.29.29\n\næ‰§è¡Œæ­¤å‘½ä»¤è®©å…¶ç”Ÿæ•ˆ\nnetplan apply\n\nä¸‹è½½ ikuai é•œåƒåˆ°å®˜ç½‘ https://www.ikuai8.com/component/download æŒ‰éœ€é€‰æ‹©é•œåƒå¹¶ä¸”ä¸‹è½½åˆ°ä½ çš„å®¿ä¸»æœº.\nä¸‹è½½å®Œæˆåå‡†å¤‡å¯åŠ¨ kvm è™šæ‹Ÿæœºå°±è¡Œäº†,æˆ‘è¿™é‡Œä¸‹è½½çš„æ˜¯ iKuai8_x64_3.7.20_Build202506041743.iso,ä½ å¯ä»¥ç‚¹å‡»ä¸‹è½½ä¹Ÿè¡Œ.\næˆ–è€…é€šè¿‡å‘½ä»¤ä¸‹è½½åˆ°å®¿ä¸»æœº:\nwget https://patch.ikuai8.com/3.x/iso/iKuai8_x64_3.7.20_Build202506041743.iso -O ikuai8_x64.iso\n\nå¯åŠ¨ KVM è™šæ‹Ÿæœº:::warning ç‰¹åˆ«æ³¨æ„\n\nå¦‚æœä½ æƒ³ç›´æ¥è¿è¡Œè¿™ä¸ªè„šæœ¬,ä½ éœ€è¦å°† ikuai é•œåƒç§»åŠ¨åˆ°/opt/iso/ikuai-x86.iso.\nè®¾ç½®åˆ›å»ºç£ç›˜çš„å¤§å°,è¿™é‡Œé»˜è®¤æ˜¯100Gå¦‚æœå¯ä»¥åˆ™ä¸éœ€è¦ä¿®æ”¹.\nè®¾ç½®å†…å­˜å’Œ CPU,æ ¹æ®ä½ çš„å®é™…æƒ…å†µæ¥ä¿®æ”¹,å¦‚æœè¶³å¤Ÿæ‡’,ä½ ä¹Ÿå¯ä»¥ä¸ä¿®æ”¹ç›´æ¥è¿è¡Œ :)\nå¦‚æœä½ çš„å®¿ä¸»æœºä¸å…·å¤‡å›¾å½¢ç•Œé¢åˆ™éœ€è¦å¯ç”¨VNCåŠŸèƒ½,å¦åˆ™ä½ æ²¡æœ‰åŠæ³•è¿æ¥åˆ° ikuai å³ä¾¿ä½ ä½¿ç”¨ virsh console è¿›å»ä¹Ÿæ²¡æ³•æ“ä½œ, è¿™é‡Œé»˜è®¤ç«¯å£è®¾ç½®ä¸º 5900 äº†\nå°†ä½ å®¿ä¸»æœºçš„ç‰©ç†ç½‘å¡å’Œåˆšæ‰åˆ›å»ºçš„è™šæ‹Ÿç½‘æ¡¥å…±äº«ç»™è™šæ‹Ÿæœº,è¯¦æƒ…è§networkå‚æ•°éƒ¨åˆ†.\n\n:::\n\neno1 ä½œä¸º ikuai çš„ wan å£,ç”¨æ¥ä¸Šç½‘.\nbr-lan1 ä½œä¸º ikuai çš„ lan å£,ç”¨æ¥ä½œä¸ºç½‘å…³.\n\n&#123;  _kvm_disk_path=&quot;/opt/iso/ikuai-x86.qcow2&quot;  _kvm_iso_path=&quot;/opt/iso/ikuai-x86.iso&quot;  mkdir -p &quot;$(dirname &quot;$_kvm_disk_path&quot;)&quot;  mkdir -p &quot;$(dirname &quot;$_kvm_iso_path&quot;)&quot;  # åˆ›å»ºç£ç›˜  qemu-img create -f qcow2 &quot;$_kvm_disk_path&quot; 100G  # å®‰è£…è™šæ‹Ÿæœº(4Gå†…å­˜, 10Gç£ç›˜, 4æ ¸CPU)ï¼Œå›¾å½¢ç•Œé¢ + æ¡¥æ¥ç½‘ç»œ  virt-install \\    --name ikuai \\    --ram 4096 \\    --vcpus 4 \\    --os-type linux \\    --hvm \\    --virt-type kvm \\    --cdrom &quot;$_kvm_iso_path&quot; \\    --disk path=&quot;$_kvm_disk_path&quot;,format=qcow2,bus=virtio \\    --network bridge=eno1,model=virtio \\    --network bridge=br-lan1,model=virtio \\    --graphics vnc,listen=0.0.0.0,port=5900 \\    --noautoconsole \\    --osinfo detect=on,name=linux2020&#125;\n\næœ€åå½“ä½ æ‰§è¡Œä¸‹é¢çš„è„šæœ¬å,æµç¨‹å·®ä¸å¤šå°±ç»“æŸäº†,å‰©ä¸‹çš„å·¥ä½œå°±å¾ˆç®€å•äº†,ä½ åªéœ€è¦:\n\nç­‰å¾…ç³»ç»Ÿå®‰è£…å®Œæˆ,å®‰è£…å®Œæˆåè™šæ‹Ÿæœºä¼šé‡å¯,é‡å¯åæ‰‹åŠ¨virsh start ikuaiå¯åŠ¨è™šæ‹Ÿæœºå°±è¡Œ,å¦‚æœçœ‹ä¸åˆ°è™šæ‹Ÿæœºåˆ™æ‰§è¡Œvirsh list --all.\næ‰“å¼€ VNC å·¥å…·è¿æ¥åˆ°ä½ çš„ ikuai è™šæ‹Ÿæœº,æ‰‹åŠ¨é…ç½®ä¸€ä¸‹ç½‘å£å°±è¡Œ (å¾ˆç®€å•,å›¾å½¢åŒ–æ“ä½œ)\næ³¨æ„ lan å£å¯¹åº”çš„æ˜¯ä½ å®¿ä¸»æœºçš„br-lan1,å› æ­¤ä½ åœ¨ ikuai é…ç½® lan å£æ—¶çš„åœ°å€å’Œæ©ç ä»¥åŠç½‘å…³éƒ½éœ€è¦æ³¨æ„ä¸€ä¸‹\n\n","categories":["è¿ç»´"],"tags":["è¿ç»´"]},{"title":"åœ¨Ubuntuä¸‹å®‰è£…sysbox","url":"/2025/07/18/2025-07-18-15/","content":"æ—§ç‰ˆæœ¬åº”è¯¥å­˜åœ¨ä¸€äº›é—®é¢˜,æŸäº›åœºæ™¯ä¸‹ docker çš„åŠŸèƒ½ä¸å…¼å®¹æˆ–è€…ä¸å¯ç”¨,åœ¨ dind ä¸­æ›´æ˜æ˜¾,æ‰€ä»¥ç›´æ¥å®‰è£…æœ€é«˜ç‰ˆæœ¬.\n# è¿™é‡Œéœ€è¦æŠŠå®¹å™¨å…ˆå…¨éƒ¨åˆ é™¤,æ³¨æ„ä¸‹,å¦‚æœæœ‰é‡è¦æ•°æ®å¾—å¤‡ä»½å¥½docker rm $(docker ps -a -q) -f# å¼€å§‹ä¸‹è½½å®‰è£…wget https://downloads.nestybox.com/sysbox/releases/v0.6.7/sysbox-ce_0.6.7-0.linux_amd64.debapt -y install ./sysbox-ce_0.6.7-0.linux_amd64.debsystemctl restart sysboxsystemctl enable sysbox\n","categories":["è¿ç»´"],"tags":["è¿ç»´"]},{"title":"PCL2ä¸‹è½½","url":"/2025/07/18/2025-07-18-16/","content":"ä¸‹è½½åœ°å€æŠ—æäº‘ä¸‹è½½åœ°å€: https://ltcat.lanzouv.com/b0aj6gsid\næå–ç : pcl2\n","categories":["Minecraft"],"tags":["PCL2 Minecraft"]},{"title":"Categrefå¿ƒè·³æŠ¥é”™","url":"/2025/07/19/2025-07-19-01/","content":"æè¿°ä¹‹å‰åœ¨å·¥ä½œä¸­ç¢°åˆ°çš„é—®é¢˜ï¼Œåœ¨å®¹å™¨ç¯å¢ƒä¸­è¿è¡Œå¤œèºçš„categrefé‡‡é›†å™¨ä¼šå‡ºç°å¿ƒè·³å¤±è´¥çš„æƒ…å†µï¼Œå¦‚ä¸‹ï¼š\nroot@localhost:/apps/data# /usr/local/bin/categraf --configs /apps/data/.gitrce/categraf/conf2024/12/10 22:06:57 main.go:149: I! runner.binarydir: /usr/local/bin2024/12/10 22:06:57 main.go:150: I! runner.hostname: localhost.localdomain2024/12/10 22:06:57 main.go:151: I! runner.fd_limits: (soft=1048576, hard=1048576)2024/12/10 22:06:57 main.go:152: I! runner.vm_limits: (soft=unlimited, hard=unlimited)2024/12/10 22:06:57 provider_manager.go:60: I! use input provider: [local]2024/12/10 22:06:57 prometheus_agent.go:19: I! prometheus scraping disabled!2024/12/10 22:06:57 ibex_agent.go:19: I! ibex agent disabled!2024/12/10 22:06:57 agent.go:38: I! agent starting2024/12/10 22:06:57 metrics_agent.go:319: I! input: local.cpu started2024/12/10 22:06:57 diskio.go:64: E! failed to get disk io: open /hostfs/proc/diskstats: no such file or directory2024/12/10 22:06:57 metrics_agent.go:319: I! input: local.diskio started2024/12/10 22:06:57 metrics_agent.go:319: I! input: local.ipmi started2024/12/10 22:06:57 metrics_agent.go:319: I! input: local.mem started2024/12/10 22:06:57 net.go:65: E! failed to get net io metrics: open /hostfs/proc/net/dev: no such file or directory2024/12/10 22:06:57 metrics_agent.go:319: I! input: local.net started2024/12/10 22:06:57 metrics_agent.go:319: I! input: local.netstat started2024/12/10 22:06:57 netstat.go:69: E! failed to read sockstat /hostfs/proc/net/sockstat open /hostfs/proc/net/sockstat: no such file or directory2024/12/10 22:06:57 diskstats_common.go:99: I! Parsing flag --collector.diskstats.device-exclude flag ^(z?ram|loop|fd|(h|s|v|xv)d[a-z]|nvme\\d+n\\d+p)\\d+$2024/12/10 22:06:57 metrics_agent.go:319: I! input: local.node_exporter started2024/12/10 22:06:57 collector.go:189: I! collector succeeded name filenotify duration_seconds 0.0001307812024/12/10 22:06:57 collector.go:189: I! collector succeeded name netdev duration_seconds 0.0009653172024/12/10 22:06:57 collector.go:189: I! collector succeeded name diskstats duration_seconds 0.0013399312024/12/10 22:06:57 collector.go:189: I! collector succeeded name netstat duration_seconds 0.0014830272024/12/10 22:06:57 metrics_agent.go:319: I! input: local.smart started2024/12/10 22:06:57 metrics_agent.go:319: I! input: local.system started2024/12/10 22:06:57 system.go:46: E! failed to gather cpu number: open /hostfs/proc/stat: no such file or directory2024/12/10 22:06:57 agent.go:46: I! [*agent.MetricsAgent] started2024/12/10 22:06:57 agent.go:49: I! agent started2024/12/10 22:07:00 heartbeat.go:150: E! failed to marshal heartbeat request: json: unsupported value: NaN // [!code error]^C2024/12/10 22:07:01 main.go:131: I! received signal: interrupt2024/12/10 22:07:01 agent.go:53: I! agent stopping2024/12/10 22:07:01 agent.go:61: I! [*agent.MetricsAgent] stopped2024/12/10 22:07:01 agent.go:64: I! agent stopped2024/12/10 22:07:01 main.go:144: I! exitedroot@localhost:/apps/data#\n\n\nåœ¨è¿™é‡Œå‡ºç°äº†ä¸€ä¸ªNaNçš„æŠ¥é”™ï¼Œç„¶åæˆ‘åœ¨ GitHub ä¸Šæäº¤äº†ä¸€ä¸ªissueï¼Œå¹¶ä¸”å¾—åˆ°äº†è§£å†³æ–¹æ¡ˆ\nè§£å†³æ–¹æ¡ˆæœ‰ä½å¤§ä½¬æä¾›äº†ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆï¼Œæˆ‘å¤§æ¦‚çœ‹äº†ä¸‹ï¼Œåº”è¯¥æ˜¯æˆ‘å¯åŠ¨å®¹å™¨æ—¶çš„envç¯å¢ƒçš„é—®é¢˜\n\næŒ‰ç…§å¤§ä½¬æ‰€è¯´çš„ï¼Œæˆ‘åœ¨å®¹å™¨å¯åŠ¨é…ç½®ä¸­å°†HOST_PROCè¿™ä¸ªå‚æ•°åˆ æ‰äº†ï¼Œç„¶åé‡å»ºå®¹å™¨ï¼Œå†æ¬¡æŸ¥çœ‹ï¼Œå¿ƒè·³æ­£å¸¸ï¼Œé—®é¢˜æˆåŠŸè§£å†³ï¼\n&#123;    cat &gt;$_compose_file &lt;&lt;EOFservices:  master:    container_name: $_container_name    image: $_image2    restart: always    network_mode: host    ipc: host    uts: host    privileged: true    security_opt:      - apparmor:unconfined    environment:      - TINI_SUBREAPER=1      - GIT_REMOTE_REPO=$_gre_remote_repo      - APPS_DATA=$_apps_data      - CONTAINER_NAME=$_container_name      - HOST_PROC=/hostfs/proc // [!code --]      - HOST_MOUNT_PREFIX=/hostfsEOF&#125;\n","categories":["å¤œèºç›‘æ§"],"tags":["å¤œèºç›‘æ§"]},{"title":"Dockerå®ˆæŠ¤è¿›ç¨‹è¿æ¥é”™è¯¯","url":"/2025/07/19/2025-07-19-02/","content":"é—®é¢˜æè¿°åœ¨ä½¿ç”¨ docker æ—¶ï¼Œå‘ç° docker å®ˆæŠ¤è¿›ç¨‹å‡ºç°è¿æ¥é”™è¯¯ï¼Œå¦‚ä¸‹ï¼š\n[root@localhost ~]# docker restart -t1 tools-nginx-1Error response from daemon: Cannot restart container tools-nginx-1: connection error: desc = &quot;transport: Error while dialing: dial unix /run/containerd/containerd.sock: connect: connection refused&quot;: unavailable[root@localhost ~]#\n\nå°è¯•è§£å†³å…ˆæ£€æŸ¥äº†ä¸€ä¸‹containerdçš„çŠ¶æ€ï¼Œçœ‹äº†ä¸‹æ˜¯å¼‚å¸¸äº†ï¼Œç›®å‰é€€å‡ºä»£ç ä¸º2(status&#x3D;2)\n[root@localhost ~]# systemctl status containerdâ— containerd.service - containerd container runtime   Loaded: loaded (/usr/local/lib/systemd/system/containerd.service; disabled; vendor preset: disabled)   Active: activating (auto-restart) (Result: exit-code) since Sun 2024-12-22 18:36:42 CST; 3s ago     Docs: https://containerd.io  Process: 48729 ExecStart=/usr/local/bin/containerd (code=exited, status=2)  Process: 48727 ExecStartPre=/sbin/modprobe overlay (code=exited, status=0/SUCCESS) Main PID: 48729 (code=exited, status=2)Dec 22 18:36:42 localhost systemd[1]: containerd.service: main process exited, code=exited, status=2/INVALIDARGUMENTDec 22 18:36:42 localhost systemd[1]: Unit containerd.service entered failed state.Dec 22 18:36:42 localhost systemd[1]: containerd.service failed.[root@localhost ~]#\n\nå°è¯•é‡å¯ä¸€ä¸‹containerdæœåŠ¡ï¼š\n[root@localhost ~]# systemctl restart containerd[root@localhost ~]# systemctl status containerdâ— containerd.service - containerd container runtime   Loaded: loaded (/usr/local/lib/systemd/system/containerd.service; disabled; vendor preset: disabled)   Active: activating (auto-restart) (Result: exit-code) since Sun 2024-12-22 18:37:32 CST; 1s ago     Docs: https://containerd.io  Process: 49241 ExecStart=/usr/local/bin/containerd (code=exited, status=2)  Process: 49239 ExecStartPre=/sbin/modprobe overlay (code=exited, status=0/SUCCESS) Main PID: 49241 (code=exited, status=2)Dec 22 18:37:32 localhost containerd[49241]: github.com/containerd/containerd/gc/scheduler.(*gcScheduler).run(0xc00078ec00, 0x5636f1cb28b0, 0xc000040038)Dec 22 18:37:32 localhost containerd[49241]: /home/runner/work/containerd-nightlies/containerd-nightlies/src/github.com/containerd/containerd/g...0 +0x4bfDec 22 18:37:32 localhost containerd[49241]: created by github.com/containerd/containerd/gc/scheduler.init.0.func1Dec 22 18:37:32 localhost containerd[49241]: /home/runner/work/containerd-nightlies/containerd-nightlies/src/github.com/containerd/containerd/g...2 +0x445Dec 22 18:37:32 localhost systemd[1]: Unit containerd.service entered failed state.Dec 22 18:37:32 localhost systemd[1]: containerd.service failed.Hint: Some lines were ellipsized, use -l to show in full.[root@localhost ~]#\n\nä½†æ˜¯å¹¶æ²¡æœ‰åµç”¨ï¼Œè¿˜æ˜¯æ²¡èµ·æ¥ï¼Œå°è¯•ä¸‹å…¶ä»–åŠæ³•ï¼ŒæŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼Œå¦‚ä¸‹ï¼š\njournalctl -u containerd -n 50 --no-pager\n\n-- Logs begin at Sun 2024-12-22 17:12:15 CST, end at Sun 2024-12-22 18:40:57 CST. --Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.241193631+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.runtime.v1.linux\\&quot;...&quot; type=io.containerd.runtime.v1Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.241259832+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.runtime.v2.task\\&quot;...&quot; type=io.containerd.runtime.v2Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.241334756+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.monitor.v1.cgroups\\&quot;...&quot; type=io.containerd.monitor.v1Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.242006839+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.service.v1.tasks-service\\&quot;...&quot; type=io.containerd.service.v1Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.242068886+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.internal.v1.restart\\&quot;...&quot; type=io.containerd.internal.v1Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.242163233+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.containers\\&quot;...&quot; type=io.containerd.grpc.v1Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.242191794+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.content\\&quot;...&quot; type=io.containerd.grpc.v1Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.242212102+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.diff\\&quot;...&quot; type=io.containerd.grpc.v1Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.242231735+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.events\\&quot;...&quot; type=io.containerd.grpc.v1Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.242253326+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.healthcheck\\&quot;...&quot; type=io.containerd.grpc.v1Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.242273932+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.images\\&quot;...&quot; type=io.containerd.grpc.v1Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.242296738+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.leases\\&quot;...&quot; type=io.containerd.grpc.v1Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.242321583+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.namespaces\\&quot;...&quot; type=io.containerd.grpc.v1Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.242340220+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.internal.v1.opt\\&quot;...&quot; type=io.containerd.internal.v1Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.242390209+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.snapshots\\&quot;...&quot; type=io.containerd.grpc.v1Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.242431370+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.tasks\\&quot;...&quot; type=io.containerd.grpc.v1Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.242456434+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.version\\&quot;...&quot; type=io.containerd.grpc.v1Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.242489898+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.introspection\\&quot;...&quot; type=io.containerd.grpc.v1Dec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.242827737+08:00&quot; level=info msg=serving... address=/run/containerd/containerd.sock.ttrpcDec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.242932534+08:00&quot; level=info msg=serving... address=/run/containerd/containerd.sockDec 22 18:40:57 localhost containerd[50977]: time=&quot;2024-12-22T18:40:57.243027297+08:00&quot; level=info msg=&quot;containerd successfully booted in 0.043640s&quot;Dec 22 18:40:57 localhost containerd[50977]: panic: invalid page type: 2: 10 // [!code highlight]Dec 22 18:40:57 localhost containerd[50977]: goroutine 114 [running]:Dec 22 18:40:57 localhost containerd[50977]: go.etcd.io/bbolt.(*Cursor).search(0xc00026b080, 0x561b6f733918, 0x6, 0x6, 0x2)Dec 22 18:40:57 localhost containerd[50977]: /home/runner/work/containerd-nightlies/containerd-nightlies/src/github.com/containerd/containerd/vendor/go.etcd.io/bbolt/cursor.go:250 +0x345Dec 22 18:40:57 localhost containerd[50977]: go.etcd.io/bbolt.(*Cursor).seek(0xc00026b080, 0x561b6f733918, 0x6, 0x6, 0xc00033c200, 0x4, 0x4, 0x7fd8a035d034, 0x10, 0x10, ...)Dec 22 18:40:57 localhost containerd[50977]: /home/runner/work/containerd-nightlies/containerd-nightlies/src/github.com/containerd/containerd/vendor/go.etcd.io/bbolt/cursor.go:159 +0x7fDec 22 18:40:57 localhost containerd[50977]: go.etcd.io/bbolt.(*Bucket).Bucket(0xc00033c200, 0x561b6f733918, 0x6, 0x6, 0xc00033c200)Dec 22 18:40:57 localhost containerd[50977]: /home/runner/work/containerd-nightlies/containerd-nightlies/src/github.com/containerd/containerd/vendor/go.etcd.io/bbolt/bucket.go:105 +0xdaDec 22 18:40:57 localhost containerd[50977]: github.com/containerd/containerd/metadata.scanRoots.func2(0x7fd8a035d030, 0x4, 0x4, 0x0, 0x0, 0x0, 0x0, 0x561b6d685131)Dec 22 18:40:57 localhost containerd[50977]: /home/runner/work/containerd-nightlies/containerd-nightlies/src/github.com/containerd/containerd/metadata/gc.go:101 +0xf1Dec 22 18:40:57 localhost containerd[50977]: go.etcd.io/bbolt.(*Bucket).ForEach(0xc00033c180, 0xc00026b6e8, 0x6, 0x6)Dec 22 18:40:57 localhost containerd[50977]: /home/runner/work/containerd-nightlies/containerd-nightlies/src/github.com/containerd/containerd/vendor/go.etcd.io/bbolt/bucket.go:390 +0x104Dec 22 18:40:57 localhost containerd[50977]: github.com/containerd/containerd/metadata.scanRoots(0x561b6edc8878, 0xc00033c000, 0xc00043c000, 0xc00013c840, 0xc0005ac000, 0x0)Dec 22 18:40:57 localhost containerd[50977]: /home/runner/work/containerd-nightlies/containerd-nightlies/src/github.com/containerd/containerd/metadata/gc.go:94 +0x875Dec 22 18:40:57 localhost containerd[50977]: github.com/containerd/containerd/metadata.(*DB).getMarked.func1(0xc00043c000, 0x0, 0x0)Dec 22 18:40:57 localhost containerd[50977]: /home/runner/work/containerd-nightlies/containerd-nightlies/src/github.com/containerd/containerd/metadata/db.go:384 +0x16eDec 22 18:40:57 localhost containerd[50977]: go.etcd.io/bbolt.(*DB).View(0xc00020e400, 0xc0001d2890, 0x0, 0x0)Dec 22 18:40:57 localhost containerd[50977]: /home/runner/work/containerd-nightlies/containerd-nightlies/src/github.com/containerd/containerd/vendor/go.etcd.io/bbolt/db.go:725 +0x93Dec 22 18:40:57 localhost containerd[50977]: github.com/containerd/containerd/metadata.(*DB).getMarked(0xc0003170a0, 0x561b6edc88b0, 0xc000040038, 0x203000, 0x203000, 0x0)Dec 22 18:40:57 localhost systemd[1]: containerd.service: main process exited, code=exited, status=2/INVALIDARGUMENTDec 22 18:40:57 localhost containerd[50977]: /home/runner/work/containerd-nightlies/containerd-nightlies/src/github.com/containerd/containerd/metadata/db.go:367 +0x7eDec 22 18:40:57 localhost containerd[50977]: github.com/containerd/containerd/metadata.(*DB).GarbageCollect(0xc0003170a0, 0x561b6edc88b0, 0xc000040038, 0x0, 0x3, 0x1, 0x2)Dec 22 18:40:57 localhost containerd[50977]: /home/runner/work/containerd-nightlies/containerd-nightlies/src/github.com/containerd/containerd/metadata/db.go:284 +0xa5Dec 22 18:40:57 localhost containerd[50977]: github.com/containerd/containerd/gc/scheduler.(*gcScheduler).run(0xc000131020, 0x561b6edc88b0, 0xc000040038)Dec 22 18:40:57 localhost containerd[50977]: /home/runner/work/containerd-nightlies/containerd-nightlies/src/github.com/containerd/containerd/gc/scheduler/scheduler.go:310 +0x4bfDec 22 18:40:57 localhost containerd[50977]: created by github.com/containerd/containerd/gc/scheduler.init.0.func1Dec 22 18:40:57 localhost containerd[50977]: /home/runner/work/containerd-nightlies/containerd-nightlies/src/github.com/containerd/containerd/gc/scheduler/scheduler.go:132 +0x445Dec 22 18:40:57 localhost systemd[1]: Unit containerd.service entered failed state.Dec 22 18:40:57 localhost systemd[1]: containerd.service failed.You have mail in /var/spool/mail/root\n\nç¡®å®šæ•…éšœåŸå› ä¸Šé¢çœ‹åˆ°æœ‰ä¸€ä¸ªé”™è¯¯ï¼Œpanic: invalid page type: 2: 10åº”è¯¥æ˜¯ç”±äºæ•°æ®åº“æ–‡ä»¶æŸåå¯¼è‡´çš„ã€‚\né‚£ä¹ˆå¯ä»¥å°è¯•ä¸€ä¸‹åˆ é™¤æ•°æ®åº“æ–‡ä»¶å¹¶ä¸”é‡å»ºåå†å¯åŠ¨containerdè¯•è¯•ã€‚\n:::dangerè¯·æ³¨æ„ï¼Œåˆ é™¤ä¹‹å‰å»ºè®®å…ˆåšä¸ªå¤‡ä»½:::\ncp -r /var/lib/containerd /var/lib/containerd.bak\n\nç„¶åç›´æ¥åˆ é™¤æ•°æ®åº“æ–‡ä»¶ï¼š\nrm -rf /var/lib/containerd/*\n\nç„¶åæˆ‘ä»¬é‡å¯ä¸‹containerdæœåŠ¡ï¼š\nsystemctl restart containerd\n\né‡å¯å®Œæˆåï¼Œå†æŸ¥çœ‹ä¸€ä¸‹containerdæœåŠ¡çŠ¶æ€ï¼š\n[root@localhost ~]# systemctl status containerdâ— containerd.service - containerd container runtime   Loaded: loaded (/usr/local/lib/systemd/system/containerd.service; disabled; vendor preset: disabled)   Active: active (running) since Sun 2024-12-22 18:47:08 CST; 4s ago     Docs: https://containerd.io  Process: 54168 ExecStartPre=/sbin/modprobe overlay (code=exited, status=0/SUCCESS) Main PID: 54172 (containerd)    Tasks: 22   Memory: 25.0M   CGroup: /system.slice/containerd.service           â””â”€54172 /usr/local/bin/containerdDec 22 18:47:08 localhost containerd[54172]: time=&quot;2024-12-22T18:47:08.314169308+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.....grpc.v1Dec 22 18:47:08 localhost containerd[54172]: time=&quot;2024-12-22T18:47:08.314183237+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.....grpc.v1Dec 22 18:47:08 localhost containerd[54172]: time=&quot;2024-12-22T18:47:08.314197462+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.internal...ernal.v1Dec 22 18:47:08 localhost containerd[54172]: time=&quot;2024-12-22T18:47:08.314239313+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.....grpc.v1Dec 22 18:47:08 localhost containerd[54172]: time=&quot;2024-12-22T18:47:08.314260981+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.....grpc.v1Dec 22 18:47:08 localhost containerd[54172]: time=&quot;2024-12-22T18:47:08.314276778+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.....grpc.v1Dec 22 18:47:08 localhost containerd[54172]: time=&quot;2024-12-22T18:47:08.314292198+08:00&quot; level=info msg=&quot;loading plugin \\&quot;io.containerd.grpc.v1.....grpc.v1Dec 22 18:47:08 localhost containerd[54172]: time=&quot;2024-12-22T18:47:08.314520493+08:00&quot; level=info msg=serving... address=/run/containerd/conta...ck.ttrpcDec 22 18:47:08 localhost containerd[54172]: time=&quot;2024-12-22T18:47:08.314560935+08:00&quot; level=info msg=serving... address=/run/containerd/containerd.sockDec 22 18:47:08 localhost containerd[54172]: time=&quot;2024-12-22T18:47:08.314621503+08:00&quot; level=info msg=&quot;containerd successfully booted in 0.039119s&quot;Hint: Some lines were ellipsized, use -l to show in full.[root@localhost ~]#\n\nå¯ä»¥çœ‹åˆ°containerdæœåŠ¡å·²ç»æ­£å¸¸å¯åŠ¨äº†ã€‚\néªŒè¯è§£å†³æ–¹æ¡ˆæˆ‘ä»¬å†è¯•è¯•é‡å¯å®¹å™¨ï¼š\n[root@localhost ~]# docker restart -t1 tools-nginx-1tools-nginx-1[root@localhost ~]# docker ps -aCONTAINER ID   IMAGE                    COMMAND                  CREATED          STATUS                                    PORTS     NAMES0b68949ab785   xxxxxxxxxxxxxx   &quot;tini -- sh -c &#x27;bashâ€¦&quot;   11 minutes ago   Up 8 seconds                                        tools-nginx-1[root@localhost ~]# docker ps -a\n\nå¯ä»¥çœ‹åˆ°å®¹å™¨å·²ç»é‡å¯æˆåŠŸï¼Œé‚£ä¹ˆè‡³æ­¤ containerd æœåŠ¡å¼‚å¸¸çš„é—®é¢˜å°±è§£å†³äº†ï¼Œå¾—å‡ºç»“è®ºï¼Œæ•°æ®åº“æ–‡ä»¶æŸåå¯¼è‡´çš„containerdæœåŠ¡å¼‚å¸¸ï¼Œå¯ä»¥å°è¯•åˆ é™¤æ•°æ®åº“æ–‡ä»¶ï¼Œé‡å»ºåå†å¯åŠ¨containerdæœåŠ¡ã€‚\n","categories":["Docker"],"tags":["Docker"]},{"title":"å…³è”æ•°ç»„çš„å£°æ˜å’Œä½¿ç”¨","url":"/2025/07/19/2025-07-19-03/","content":"åœ¨ Vue ä¸­const IterateState = (row) =&gt; &#123;  const state = &#123;    1: &quot;Success&quot;,    2: &quot;Warning&quot;,    3: &quot;Error&quot;,  &#125;;  return state[row] || &quot;Unknown&quot;; // å¦‚æœ row ä¸åœ¨å¯¹è±¡ä¸­ï¼Œè¿”å› &quot;Unknown&quot;&#125;;\n\nåœ¨ Shell ä¸­# å£°æ˜ä¸€ä¸ªå…³è”æ•°ç»„declare -A _cfg# ç»™æ•°ç»„èµ‹å€¼_cfg[&quot;sleep&quot;]=&quot;this is sleep&quot;_cfg[&quot;data&quot;]=&quot;this is data&quot;_cfg[&quot;name&quot;]=&quot;this is name&quot;_cfg[&quot;type&quot;]=&quot;this is type&quot;# è¾“å‡ºæ•°ç»„çš„å€¼echo &quot;$&#123;_cfg[&quot;sleep&quot;]&#125;&quot;echo &quot;$&#123;_cfg[&quot;data&quot;]&#125;&quot;echo &quot;$&#123;_cfg[&quot;name&quot;]&#125;&quot;echo &quot;$&#123;_cfg[&quot;type&quot;]&#125;&quot;# è¾“å‡ºæ‰€æœ‰é”®echo &quot;$&#123;!_cfg[@]&#125;&quot;# è¾“å‡ºæ‰€æœ‰å€¼echo &quot;$&#123;_cfg[@]&#125;&quot;\n\nåœ¨ Go ä¸­package mainimport &quot;fmt&quot;func main() &#123;    var cfg = map[string]string&#123;        &quot;sleep&quot;: &quot;this is sleep&quot;,        &quot;data&quot;: &quot;this is data&quot;,        &quot;name&quot;: &quot;this is name&quot;,        &quot;type&quot;: &quot;this is type&quot;,    &#125;    // è¾“å‡ºæ•°ç»„çš„å€¼    fmt.Println(cfg[&quot;sleep&quot;])    fmt.Println(cfg[&quot;data&quot;])    fmt.Println(cfg[&quot;name&quot;])    fmt.Println(cfg[&quot;type&quot;])&#125;\n","categories":["å…³è”æ•°ç»„"],"tags":["å…³è”æ•°ç»„ Shell Go Vue.js"]},{"title":"Vueè¡¨å•è§„åˆ™","url":"/2025/07/19/2025-07-19-04/","content":"rules è§„åˆ™æ˜¯ Vue.js ä¸­éå¸¸é‡è¦çš„å±æ€§ï¼Œå®ƒå¯ä»¥å¯¹è¡¨å•çš„è¾“å…¥è¿›è¡Œæ ¡éªŒï¼Œå¹¶ç»™å‡ºæç¤ºä¿¡æ¯, è¿™é‡Œæµ…æµ…çš„è®°å½•ä¸€ä¸‹æœ‰å…³ rules è§„åˆ™çš„å¸¸ç”¨ç”¨æ³•ã€‚\nåŸºç¡€ç”¨æ³•rules è§„åˆ™æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸€é¡¹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­åŒ…å«ä¸¤ä¸ªå±æ€§ï¼š\n\n\n\nå±æ€§åç§°\nåŠŸèƒ½æè¿°\n\n\n\nmessage\nå½“éªŒè¯å¤±è´¥æ—¶æ˜¾ç¤ºçš„é”™è¯¯ä¿¡æ¯\n\n\ntrigger\næŒ‡å®šä½•æ—¶è§¦å‘éªŒè¯ï¼Œå¸¸è§çš„å€¼æœ‰ blurï¼ˆå¤±å»ç„¦ç‚¹æ—¶ï¼‰ã€changeï¼ˆå€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼‰\n\n\ntype\næŒ‡å®šæ•°æ®ç±»å‹ï¼Œå¦‚ stringã€numberã€email ç­‰\n\n\nmin å’Œ max\nç”¨äºé™åˆ¶è¾“å…¥çš„æœ€å°å’Œæœ€å¤§é•¿åº¦\n\n\npattern\nä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒéªŒè¯\n\n\nvalidator\nè‡ªå®šä¹‰éªŒè¯å‡½æ•°ï¼Œå…è®¸ä½ ç¼–å†™æ›´å¤æ‚çš„éªŒè¯é€»è¾‘\n\n\nrequired\næ˜¯å¦å¿…å¡«ï¼Œå€¼ä¸º true æˆ– falseã€‚\n\n\nä¾‹å¦‚ï¼š\nrules: [  &#123; required: true, message: &quot;ä¸èƒ½ä¸ºç©º&quot; &#125;,  &#123; min: 6, max: 12, message: &quot;é•¿åº¦å¿…é¡»åœ¨6åˆ°12ä¹‹é—´&quot; &#125;,  &#123; pattern: /^[a-zA-Z]+$/, message: &quot;åªèƒ½è¾“å…¥å­—æ¯&quot; &#125;,];\n\nä¸Šè¿°ä¾‹å­ä¸­ï¼Œç¬¬ä¸€ä¸ªè§„åˆ™è¡¨ç¤ºå¿…å¡«ï¼Œç¬¬äºŒä¸ªè§„åˆ™è¡¨ç¤ºé•¿åº¦å¿…é¡»åœ¨ 6 åˆ° 12 ä¹‹é—´ï¼Œç¬¬ä¸‰ä¸ªè§„åˆ™è¡¨ç¤ºåªèƒ½è¾“å…¥å­—æ¯ã€‚\n&lt;template&gt;  &lt;n-form ref=&quot;formRef&quot; label-placement=&quot;left&quot; :label-width=&quot;80&quot; :model=&quot;formValue&quot; :rules=&quot;rules&quot;&gt;    &lt;n-form-item label=&quot;èŠ‚ç‚¹åç§°&quot; path=&quot;name&quot;&gt;      &lt;n-input v-model:value=&quot;formValue.name&quot; placeholder=&quot;è¯·è¾“å…¥èŠ‚ç‚¹åç§°&quot; /&gt;    &lt;/n-form-item&gt;    &lt;n-form-item label=&quot;èŠ‚ç‚¹ç±»å‹&quot; path=&quot;type&quot;&gt;      &lt;n-select v-model:value=&quot;formValue.type&quot; :options=&quot;OptionsType&quot; placeholder=&quot;è¯·é€‰æ‹©&quot; /&gt;    &lt;/n-form-item&gt;    &lt;n-form-item label=&quot;è¿è¥å•†&quot; path=&quot;operator&quot;&gt;      &lt;n-select v-model:value=&quot;formValue.operator&quot; :options=&quot;OptionsOperator&quot; placeholder=&quot;è¯·é€‰æ‹©&quot; /&gt;    &lt;/n-form-item&gt;    &lt;n-form-item label=&quot;è°ƒåº¦ç±»å‹&quot; path=&quot;dispatch&quot;&gt;      &lt;n-select v-model:value=&quot;formValue.dispatch&quot; :options=&quot;OptionsDispatch&quot; placeholder=&quot;è¯·é€‰æ‹©&quot; /&gt;    &lt;/n-form-item&gt;  &lt;/n-form&gt;&lt;/template&gt;&lt;script setup&gt;import &#123; ref &#125; from &quot;vue&quot;;const showModal = true;const formValue = ref(&#123;  name: &quot;&quot;,  type: null,  operator: null,  dispatch: null,&#125;);const rules = &#123;  name: [    &#123; required: true, message: &quot;è¯·è¾“å…¥èŠ‚ç‚¹åç§°&quot;, trigger: &quot;blur&quot; &#125;,    &#123; min: 2, max: 20, message: &quot;é•¿åº¦åœ¨ 2 åˆ° 20 ä¸ªå­—ç¬¦&quot;, trigger: &quot;blur&quot; &#125;,  ],  type: [&#123; required: true, message: &quot;è¯·é€‰æ‹©èŠ‚ç‚¹ç±»å‹&quot;, trigger: &quot;change&quot; &#125;],  operator: [&#123; required: true, message: &quot;è¯·é€‰æ‹©è¿è¥å•†&quot;, trigger: &quot;change&quot; &#125;],  dispatch: &#123; required: true, message: &quot;è¯·é€‰æ‹©è°ƒåº¦ç±»å‹&quot;, trigger: [&quot;blur&quot;, &quot;change&quot;, &quot;input&quot;], type: &quot;array&quot; &#125;,&#125;;&lt;/script&gt;\n\ntrigger è§¦å‘ä»‹ç»\nåœ¨è¡¨å•éªŒè¯ä¸­ï¼Œblurã€change å’Œ input æ˜¯å¸¸è§çš„äº‹ä»¶ï¼Œç”¨äºè§¦å‘éªŒè¯é€»è¾‘ã€‚ä¸‹é¢åˆ†åˆ«ä»‹ç»è¿™ä¸‰ä¸ªäº‹ä»¶çš„å«ä¹‰å’Œç”¨é€”ï¼Œä»¥åŠä¸€äº›å…¶ä»–å¯èƒ½ç”¨åˆ°çš„äº‹ä»¶ã€‚\n\ninput äº‹ä»¶\n\nå«ä¹‰ï¼šæ¯å½“è¾“å…¥æ¡†çš„å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç«‹å³è§¦å‘éªŒè¯ã€‚\nç”¨é€”ï¼šé€‚ç”¨äºéœ€è¦å®æ—¶åé¦ˆçš„åœºæ™¯ï¼Œä¾‹å¦‚ç”¨æˆ·åœ¨è¾“å…¥è¿‡ç¨‹ä¸­ï¼Œå¸Œæœ›ç«‹å³çœ‹åˆ°è¾“å…¥å†…å®¹æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚è¿™å¯ä»¥æä¾›å³æ—¶çš„ç”¨æˆ·ä½“éªŒï¼Œå¸®åŠ©ç”¨æˆ·åŠæ—¶çº æ­£é”™è¯¯ã€‚\nç¤ºä¾‹ï¼šç”¨æˆ·åœ¨è¾“å…¥é‚®ç®±åœ°å€æ—¶ï¼Œæ¯æ¬¡é”®å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œéƒ½ä¼šè§¦å‘éªŒè¯ï¼Œæ£€æŸ¥é‚®ç®±æ ¼å¼æ˜¯å¦æ­£ç¡®ã€‚\n\nblur äº‹ä»¶\n\nå«ä¹‰ï¼šå½“è¾“å…¥æ¡†å¤±å»ç„¦ç‚¹æ—¶è§¦å‘éªŒè¯ã€‚\nç”¨é€”ï¼šé€‚ç”¨äºç”¨æˆ·å®Œæˆè¾“å…¥å¹¶ç¦»å¼€è¾“å…¥æ¡†åè¿›è¡ŒéªŒè¯ã€‚è¿™å¯ä»¥å‡å°‘ä¸å¿…è¦çš„éªŒè¯è°ƒç”¨ï¼Œæé«˜æ€§èƒ½ï¼ŒåŒæ—¶åœ¨ç”¨æˆ·å®Œæˆè¾“å…¥åæä¾›éªŒè¯ç»“æœã€‚\nç¤ºä¾‹ï¼šç”¨æˆ·åœ¨è¾“å…¥å§“ååï¼Œç‚¹å‡»å…¶ä»–åœ°æ–¹æˆ–åˆ‡æ¢åˆ°å…¶ä»–è¾“å…¥æ¡†ï¼Œæ­¤æ—¶è§¦å‘éªŒè¯ï¼Œæ£€æŸ¥å§“åæ˜¯å¦ä¸ºç©ºã€‚\n\nchange äº‹ä»¶\n\nå«ä¹‰ï¼šå½“è¾“å…¥æ¡†çš„å†…å®¹å‘ç”Ÿå˜åŒ–å¹¶ä¸”è¾“å…¥æ¡†å¤±å»ç„¦ç‚¹æ—¶è§¦å‘éªŒè¯ã€‚\nç”¨é€”ï¼šé€‚ç”¨äºéœ€è¦åœ¨ç”¨æˆ·å®Œæˆè¾“å…¥å¹¶ç¦»å¼€è¾“å…¥æ¡†åè¿›è¡ŒéªŒè¯çš„åœºæ™¯ï¼Œä½†ä¸ blur äº‹ä»¶ä¸åŒçš„æ˜¯ï¼Œchange äº‹ä»¶åªæœ‰åœ¨å†…å®¹å®é™…å‘ç”Ÿå˜åŒ–åæ‰ä¼šè§¦å‘ã€‚\nç¤ºä¾‹ï¼šç”¨æˆ·åœ¨è¾“å…¥å¯†ç åï¼Œç‚¹å‡»å…¶ä»–åœ°æ–¹æˆ–åˆ‡æ¢åˆ°å…¶ä»–è¾“å…¥æ¡†ï¼Œå¦‚æœå¯†ç å†…å®¹å‘ç”Ÿäº†å˜åŒ–ï¼Œæ‰ä¼šè§¦å‘éªŒè¯ï¼Œæ£€æŸ¥å¯†ç æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚\n\nfocus äº‹ä»¶\n\nå«ä¹‰ï¼šå½“è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹æ—¶è§¦å‘ã€‚\nç”¨é€”ï¼šå¯ä»¥ç”¨äºåˆå§‹åŒ–ä¸€äº›çŠ¶æ€æˆ–æ˜¾ç¤ºæç¤ºä¿¡æ¯ã€‚\nç¤ºä¾‹ï¼šç”¨æˆ·ç‚¹å‡»è¾“å…¥æ¡†æ—¶ï¼Œæ˜¾ç¤ºä¸€ä¸ªæç¤ºä¿¡æ¯ï¼Œæç¤ºç”¨æˆ·è¾“å…¥çš„å†…å®¹è¦æ±‚ã€‚\n\nkeyup äº‹ä»¶\n\nå«ä¹‰ï¼šå½“ç”¨æˆ·æ¾å¼€é”®ç›˜ä¸Šçš„é”®æ—¶è§¦å‘ã€‚\nç”¨é€”ï¼šå¯ä»¥ç”¨äºéœ€è¦åœ¨ç”¨æˆ·å®Œæˆé”®å…¥æ“ä½œåç«‹å³è¿›è¡ŒéªŒè¯çš„åœºæ™¯ã€‚\nç¤ºä¾‹ï¼šç”¨æˆ·åœ¨è¾“å…¥æœç´¢å…³é”®è¯æ—¶ï¼Œæ¯æ¬¡æ¾å¼€é”®æ—¶è§¦å‘æœç´¢å»ºè®®çš„æ˜¾ç¤ºã€‚\n\nkeydown äº‹ä»¶\n\nå«ä¹‰ï¼šå½“ç”¨æˆ·æŒ‰ä¸‹é”®ç›˜ä¸Šçš„é”®æ—¶è§¦å‘ã€‚\nç”¨é€”ï¼šå¯ä»¥ç”¨äºéœ€è¦åœ¨ç”¨æˆ·å¼€å§‹é”®å…¥æ—¶è¿›è¡Œä¸€äº›æ“ä½œçš„åœºæ™¯ï¼Œä¾‹å¦‚é™åˆ¶è¾“å…¥å†…å®¹ã€‚\nç¤ºä¾‹ï¼šç”¨æˆ·åœ¨è¾“å…¥æ•°å­—è¾“å…¥æ¡†æ—¶ï¼ŒæŒ‰ä¸‹éæ•°å­—é”®æ—¶é˜»æ­¢è¾“å…¥ã€‚\n\nkeypress äº‹ä»¶\n\nå«ä¹‰ï¼šå½“ç”¨æˆ·æŒ‰ä¸‹é”®ç›˜ä¸Šçš„é”®å¹¶äº§ç”Ÿå­—ç¬¦å€¼æ—¶è§¦å‘ã€‚\nç”¨é€”ï¼šå¯ä»¥ç”¨äºéœ€è¦åœ¨ç”¨æˆ·è¾“å…¥å­—ç¬¦æ—¶è¿›è¡Œä¸€äº›æ“ä½œçš„åœºæ™¯ï¼Œä½†ç°ä»£å¼€å‘ä¸­é€šå¸¸æ¨èä½¿ç”¨ input äº‹ä»¶ã€‚\nç¤ºä¾‹ï¼šç”¨æˆ·åœ¨è¾“å…¥æ–‡æœ¬æ—¶ï¼Œæ¯æ¬¡è¾“å…¥å­—ç¬¦æ—¶è¿›è¡Œä¸€äº›å¤„ç†ï¼Œä¾‹å¦‚è‡ªåŠ¨æ ¼å¼åŒ–è¾“å…¥å†…å®¹ã€‚\n\næ€»ç»“\n\n\näº‹ä»¶\næ€»ç»“\n\n\n\ninput\nå®æ—¶åé¦ˆï¼Œæ¯æ¬¡å†…å®¹å˜åŒ–æ—¶è§¦å‘ã€‚\n\n\nblur\nç”¨æˆ·å®Œæˆè¾“å…¥å¹¶ç¦»å¼€è¾“å…¥æ¡†æ—¶è§¦å‘ã€‚\n\n\nchange\nç”¨æˆ·å®Œæˆè¾“å…¥å¹¶ç¦»å¼€è¾“å…¥æ¡†ä¸”å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ã€‚\n\n\nfocus\nè¾“å…¥æ¡†è·å¾—ç„¦ç‚¹æ—¶è§¦å‘ï¼Œç”¨äºåˆå§‹åŒ–çŠ¶æ€æˆ–æ˜¾ç¤ºæç¤ºã€‚\n\n\nkeyup\nç”¨æˆ·æ¾å¼€é”®æ—¶è§¦å‘ï¼Œç”¨äºéœ€è¦åœ¨é”®å…¥æ“ä½œå®Œæˆåç«‹å³è¿›è¡Œçš„æ“ä½œã€‚\n\n\nkeydown\nç”¨æˆ·æŒ‰ä¸‹é”®æ—¶è§¦å‘ï¼Œç”¨äºéœ€è¦åœ¨é”®å…¥æ“ä½œå¼€å§‹æ—¶è¿›è¡Œçš„æ“ä½œã€‚\n\n\nkeypress\nç”¨æˆ·æŒ‰ä¸‹é”®å¹¶äº§ç”Ÿå­—ç¬¦å€¼æ—¶è§¦å‘ï¼Œç°ä»£å¼€å‘ä¸­æ¨èä½¿ç”¨ input äº‹ä»¶ã€‚\n\n\né€šè¿‡æŒ‰é’®è§¦å‘éªŒè¯&lt;template&gt;  &lt;el-form ref=&quot;formRef&quot; :model=&quot;form&quot; :rules=&quot;rules&quot;&gt;    &lt;el-form-item label=&quot;ç”¨æˆ·å&quot; prop=&quot;username&quot;&gt;      &lt;el-input v-model=&quot;form.username&quot;&gt;&lt;/el-input&gt;    &lt;/el-form-item&gt;    &lt;el-form-item label=&quot;å¯†ç &quot; prop=&quot;password&quot;&gt;      &lt;el-input type=&quot;password&quot; v-model=&quot;form.password&quot;&gt;&lt;/el-input&gt;    &lt;/el-form-item&gt;    &lt;el-button type=&quot;primary&quot; @click=&quot;handleValidateButtonClick&quot;&gt;éªŒè¯&lt;/el-button&gt;  &lt;/el-form&gt;&lt;/template&gt;&lt;script setup&gt;import &#123; ref &#125; from &quot;vue&quot;;import &#123; ElMessage as message &#125; from &quot;element-plus&quot;;const formRef = ref(null);const form = ref(&#123;  username: &quot;&quot;,  password: &quot;&quot;,&#125;);const rules = &#123;  username: [&#123; required: true, message: &quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;, trigger: &quot;blur&quot; &#125;],  password: [    &#123; required: true, message: &quot;è¯·è¾“å…¥å¯†ç &quot;, trigger: &quot;blur&quot; &#125;,    &#123; min: 6, message: &quot;å¯†ç é•¿åº¦è‡³å°‘ä¸º6ä½&quot;, trigger: &quot;blur&quot; &#125;,  ],&#125;;const handleValidateButtonClick = (e) =&gt; &#123;  e.preventDefault();  formRef.value?.validate((errors) =&gt; &#123;    if (!errors) &#123;      message.success(&quot;éªŒè¯æˆåŠŸ&quot;);    &#125; else &#123;      console.log(errors);      message.error(&quot;éªŒè¯å¤±è´¥&quot;);    &#125;  &#125;);&#125;;&lt;/script&gt;\n\nè¿™é‡Œç›´æ¥é€šè¿‡formRef.value?.validateæ¥å¯¹æ‰€æœ‰çš„è¡¨å•é¡¹è¿›è¡Œè¡¨å•è§„åˆ™éªŒè¯ã€‚\né˜»æ­¢é»˜è®¤äº‹ä»¶è¿™é‡Œé¢e.preventDefault();çš„å«ä¹‰æ˜¯é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºã€‚\nè¯¦ç»†è§£é‡Š\n\näº‹ä»¶é»˜è®¤è¡Œä¸º\n\n\nè¡¨å•æäº¤ï¼šå½“ç”¨æˆ·ç‚¹å‡»è¡¨å•çš„æäº¤æŒ‰é’®æ—¶ï¼Œæµè§ˆå™¨ä¼šé»˜è®¤å°†è¡¨å•æ•°æ®å‘é€åˆ°æœåŠ¡å™¨ã€‚è¿™ä¸ªé»˜è®¤è¡Œä¸ºå¯èƒ½ä¼šå¯¼è‡´é¡µé¢é‡æ–°åŠ è½½ã€‚\né“¾æ¥ç‚¹å‡»ï¼šå½“ç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªé“¾æ¥æ—¶ï¼Œæµè§ˆå™¨ä¼šé»˜è®¤å¯¼èˆªåˆ°é“¾æ¥æŒ‡å®šçš„ URLï¼Œå¯¼è‡´é¡µé¢è·³è½¬ã€‚\nè¾“å…¥æ¡†èšç„¦ï¼šå½“ç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªè¾“å…¥æ¡†æ—¶ï¼Œæµè§ˆå™¨ä¼šé»˜è®¤å°†å…‰æ ‡èšç„¦åˆ°è¾“å…¥æ¡†ä¸­ã€‚\n\n\ne.preventDefault() çš„ä½œç”¨\n\n\né˜»æ­¢è¡¨å•æäº¤ï¼šåœ¨è¡¨å•æäº¤äº‹ä»¶ä¸­ä½¿ç”¨ e.preventDefault() å¯ä»¥é˜»æ­¢è¡¨å•æ•°æ®å‘é€åˆ°æœåŠ¡å™¨ï¼Œä»è€Œé˜²æ­¢é¡µé¢é‡æ–°åŠ è½½ã€‚è¿™åœ¨ä½¿ç”¨ AJAX æˆ–å…¶ä»–å‰ç«¯æ¡†æ¶ï¼ˆå¦‚ Vueã€Reactï¼‰è¿›è¡Œå¼‚æ­¥è¡¨å•å¤„ç†æ—¶éå¸¸æœ‰ç”¨ã€‚\né˜»æ­¢é“¾æ¥è·³è½¬ï¼šåœ¨é“¾æ¥ç‚¹å‡»äº‹ä»¶ä¸­ä½¿ç”¨ e.preventDefault() å¯ä»¥é˜»æ­¢æµè§ˆå™¨å¯¼èˆªåˆ°é“¾æ¥æŒ‡å®šçš„ URLï¼Œä»è€Œé˜²æ­¢é¡µé¢è·³è½¬ã€‚è¿™åœ¨ä½¿ç”¨å•é¡µåº”ç”¨ï¼ˆSPAï¼‰æ—¶éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥å®ç°é¡µé¢å†…å¯¼èˆªè€Œä¸é‡æ–°åŠ è½½é¡µé¢ã€‚\né˜»æ­¢å…¶ä»–é»˜è®¤è¡Œä¸ºï¼šåœ¨å…¶ä»–äº‹ä»¶ä¸­ï¼Œe.preventDefault() ä¹Ÿå¯ä»¥ç”¨äºé˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œä¾‹å¦‚é˜»æ­¢è¾“å…¥æ¡†çš„é»˜è®¤èšç„¦è¡Œä¸ºã€‚\n\nè¡¨å•å†…ç½®çš„éªŒè¯è§„åˆ™åœ¨è¡¨å•éªŒè¯ä¸­ï¼Œé€šå¸¸æœ‰å¤šç§å†…ç½®çš„éªŒè¯è§„åˆ™å¯ä»¥ä½¿ç”¨ã€‚è¿™äº›è§„åˆ™å¯ä»¥å¸®åŠ©ä½ ç¡®ä¿ç”¨æˆ·è¾“å…¥çš„æ•°æ®ç¬¦åˆç‰¹å®šçš„è¦æ±‚ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„éªŒè¯è§„åˆ™åŠå…¶ç”¨é€”ï¼š\n\nrequired\n\nç”¨é€”ï¼šç¡®ä¿å­—æ®µä¸ä¸ºç©ºã€‚\n&#123; required: true, message: &quot;è¯·è¾“å…¥èŠ‚ç‚¹åç§°&quot;, trigger: &quot;blur&quot; &#125;\n\n\nmin å’Œ max\n\nç”¨é€”ï¼šç¡®ä¿å­—æ®µçš„é•¿åº¦åœ¨æŒ‡å®šçš„èŒƒå›´å†…ã€‚\n&#123; min: 2, max: 20, message: &quot;é•¿åº¦åœ¨ 2 åˆ° 20 ä¸ªå­—ç¬¦&quot;, trigger: &quot;blur&quot; &#125;\n\n\nminLength å’Œ maxLength\n\nç”¨é€”ï¼šç¡®ä¿å­—æ®µçš„é•¿åº¦è‡³å°‘ä¸º minLengthï¼Œæœ€å¤šä¸º maxLengthã€‚\n&#123; minLength: 2, message: &quot;é•¿åº¦è‡³å°‘ä¸º 2 ä¸ªå­—ç¬¦&quot;, trigger: &quot;blur&quot; &#125;&#123; maxLength: 20, message: &quot;é•¿åº¦æœ€å¤šä¸º 20 ä¸ªå­—ç¬¦&quot;, trigger: &quot;blur&quot; &#125;\n\n\npatternç”¨é€”ï¼šç¡®ä¿å­—æ®µçš„å€¼åŒ¹é…æŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚\n\n&#123; pattern: /^[a-zA-Z0-9]+$/, message: &quot;åªèƒ½è¾“å…¥å­—æ¯å’Œæ•°å­—&quot;, trigger: &quot;blur&quot; &#125;\n\n\nemail\n\nç”¨é€”ï¼šç¡®ä¿å­—æ®µçš„å€¼æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç”µå­é‚®ä»¶åœ°å€ã€‚\n&#123; email: true, message: &quot;è¯·è¾“å…¥æœ‰æ•ˆçš„ç”µå­é‚®ä»¶åœ°å€&quot;, trigger: &quot;blur&quot; &#125;\n\n\ntype\n\nç”¨é€”ï¼šç¡®ä¿å­—æ®µçš„å€¼æ˜¯ç‰¹å®šçš„ç±»å‹ï¼Œå¦‚ stringã€numberã€array ç­‰ã€‚\n&#123; type: &#x27;string&#x27;, message: &quot;è¯·è¾“å…¥å­—ç¬¦ä¸²&quot;, trigger: &quot;blur&quot; &#125;&#123; type: &#x27;number&#x27;, message: &quot;è¯·è¾“å…¥æ•°å­—&quot;, trigger: &quot;blur&quot; &#125;\n\n\nenum\n\nç”¨é€”ï¼šç¡®ä¿å­—æ®µçš„å€¼åœ¨æŒ‡å®šçš„æšä¸¾å€¼ä¸­ã€‚\n&#123; enum: [&#x27;admin&#x27;, &#x27;user&#x27;, &#x27;guest&#x27;], message: &quot;è¯·è¾“å…¥æœ‰æ•ˆçš„ç”¨æˆ·è§’è‰²&quot;, trigger: &quot;blur&quot; &#125;\n\nè‡ªå®šä¹‰è¡¨å•è§„åˆ™&lt;template&gt;  &lt;form&gt;    &lt;input type=&quot;password&quot; v-model=&quot;form.password&quot; :rules=&quot;passwordRules&quot; /&gt;  &lt;/form&gt;&lt;/template&gt;&lt;script&gt;export default &#123;  data() &#123;    return &#123;      form: &#123;        password: &quot;&quot;,      &#125;,      passwordRules: [        &#123; required: true, message: &quot;è¯·è¾“å…¥å¯†ç &quot;, trigger: &quot;blur&quot; &#125;,        &#123; validator: validatePassword, trigger: &quot;blur&quot; &#125;,      ],    &#125;;  &#125;,  methods: &#123;    validatePassword(rule, value, callback) &#123;      if (value === &quot;&quot;) &#123;        callback(new Error(&quot;è¯·è¾“å…¥å¯†ç &quot;));      &#125; else if (value.length &lt; 6) &#123;        callback(new Error(&quot;å¯†ç è‡³å°‘6ä½&quot;));      &#125; else &#123;        callback();      &#125;    &#125;,  &#125;,&#125;;&lt;/script&gt;\n","categories":["Vue.js"],"tags":["Vue.js"]},{"title":"è®°å½•ä¸‹Vueä¸­çš„tryåŠPromiseå¼‚å¸¸å¤„ç†","url":"/2025/07/19/2025-07-19-05/","content":"try...catch ç»“æ„\n.then().catch() ç»“æ„\nè¿™ä¸¤ç§ç»“æ„éƒ½æ˜¯ç”¨æ¥å¤„ç†å¼‚å¸¸çš„ï¼Œä½†æ˜¯æœ‰äº›ä¸åŒï¼Œè¿™é‡Œåšä¸ªæ–‡æ¡£è®°å½•ä¸‹ï¼Œæ–¹ä¾¿æ—¥å CV\ntry ç»“æ„\nåç§°ï¼š try-catch å—\nä½œç”¨ï¼š ç”¨äºå¤„ç†åŒæ­¥ä»£ç ä¸­çš„å¼‚å¸¸ã€‚å½“ try å—ä¸­çš„ä»£ç æ‰§è¡Œæ—¶ï¼Œå¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼Œç¨‹åºä¼šè·³è¿‡å‰©ä½™çš„ try å—ä»£ç ï¼Œç›´æ¥æ‰§è¡Œ catch å—ä¸­çš„ä»£ç ã€‚ç¤ºä¾‹ï¼š\n\nlet x = 10;try &#123;  let y = 20;  console.log(x + y); // è¾“å‡º 30  // ...&#125; catch (error) &#123;  console.error(error);  let z = 30; // z åªåœ¨ catch å—å†…æœ‰æ•ˆ&#125; finally &#123;  console.log(&quot;Finally block executed&quot;);&#125;console.log(z); // æŠ¥é”™ï¼Œå› ä¸º z ä»…åœ¨ catch å—å†…æœ‰æ•ˆ\n\ntry å—:\n\nä½œä¸ºç‹¬ç«‹çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚\nåœ¨ try å—ä¸­å£°æ˜çš„å˜é‡ä»…åœ¨ try å—å†…æœ‰æ•ˆã€‚\n\ncatch å—:\n\nä½œä¸º try å—çš„å­ä½œç”¨åŸŸã€‚\nåœ¨ catch å—ä¸­å£°æ˜çš„å˜é‡ä»…åœ¨ catch å—å†…æœ‰æ•ˆã€‚\n\nfinally å—:\n\nä½œä¸º tryâ€¦catch çš„å­ä½œç”¨åŸŸã€‚\næ— è®º try æˆ– catch æ˜¯å¦æ‰§è¡Œï¼Œfinally å—éƒ½ä¼šæ‰§è¡Œã€‚\nåœ¨ finally å—ä¸­å£°æ˜çš„å˜é‡ä¹Ÿä»…åœ¨ finally å—å†…æœ‰æ•ˆã€‚\n\nPromise ç»“æ„\nåç§°ï¼š Promise çš„ then å’Œ catch æ–¹æ³•\nä½œç”¨ï¼š ç”¨äºå¤„ç†å¼‚æ­¥æ“ä½œçš„ç»“æœã€‚Promise æ˜¯ä¸€ä¸ªä»£è¡¨å¼‚æ­¥æ“ä½œæœ€ç»ˆå®Œæˆï¼ˆæˆ–å¤±è´¥ï¼‰çš„å¯¹è±¡ï¼Œè€Œ then å’Œ catch æ–¹æ³•åˆ™åˆ†åˆ«ç”¨äºå¤„ç†æˆåŠŸå’Œå¤±è´¥çš„æƒ…å†µã€‚\n\nfetch(&quot;/api/data&quot;)  .then((response) =&gt; response.json())  .then((data) =&gt; &#123;    console.log(&quot;æˆåŠŸè·å–æ•°æ®:&quot;, data);  &#125;)  .catch((error) =&gt; &#123;    console.error(&quot;è·å–æ•°æ®å¤±è´¥:&quot;, error);  &#125;)  .finally(() =&gt; &#123;    console.log(&quot;æ•°æ®è¯·æ±‚å®Œæˆ&quot;);  &#125;);\n\nthen():\n\nå½“ Promise å¯¹è±¡çš„çŠ¶æ€å˜ä¸º fulfilledï¼ˆæˆåŠŸï¼‰æ—¶ï¼Œå°±ä¼šè°ƒç”¨ then æ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚\n\ncatch():\n\nå½“ Promise å¯¹è±¡çš„çŠ¶æ€å˜ä¸º rejectedï¼ˆå¤±è´¥ï¼‰æ—¶ï¼Œå°±ä¼šè°ƒç”¨ catch æ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚\n\nfinally():\n\næ— è®º Promise å¯¹è±¡çš„çŠ¶æ€æ˜¯ fulfilled è¿˜æ˜¯ rejectedï¼Œfinally æ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°éƒ½ä¼šæ‰§è¡Œã€‚\n\n","categories":["Vue.js"],"tags":["Vue.js"]},{"title":"æ­å»ºMCæœåŠ¡å™¨","url":"/2025/07/24/2025-07-24-01/","content":"æ¦‚è¿°ç®€å•ä»‹ç»ä¸€ä¸‹ Minecraft ã€Šæˆ‘çš„ä¸–ç•Œã€‹å¦‚ä½•æ­å»ºå±äºè‡ªå·±çš„æœåŠ¡å™¨ã€‚\næœ¬ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»åœ¨Linuxä¸‹æ­å»ºï¼Œè€Œé Windowsã€‚\nå‡†å¤‡å·¥ä½œä½ å¯ä»¥åœ¨æœ¬åœ°èµ·ä¸€ä¸ª Linux ç³»ç»Ÿçš„è™šæ‹Ÿæœºï¼Œæˆ–è€…å‰å¾€äº‘å¹³å°è´­ä¹°ä¸€å°è½»é‡çº§äº‘æœåŠ¡å™¨ï¼Œå¦‚æœç©å®¶å°‘çš„è¯é…ç½®ä½ä¸€ç‚¹ä¹Ÿå¤Ÿäº†ï¼Œæ¯”å¦‚ 2H2Gã€‚\nè¿™é‡Œæˆ‘å‡†å¤‡äº†ä¸€å° Ubuntu ä¸»æœºï¼Œå…ˆæ¥å‡†å¤‡ä¸€ä¸‹ç¯å¢ƒã€‚\n\næ³¨æ„ä¸‹ï¼Œå¦‚æœè¿™è¾¹å®‰è£…çš„è½¯ä»¶åŒ…æ— æ³•æˆåŠŸå®‰è£…çš„è¯ï¼Œå°±å»æ¢ä¸€ä¸‹aptæºå†å°è¯•å®‰è£…ï¼Œå¦‚æœä¸çŸ¥é“æ€ä¹ˆæ¢æºï¼Œå°±åœ¨å½“å‰åšå®¢çš„æœç´¢ä¸­æœç´¢æ¢æºï¼Œæ‰¾åˆ°æ–‡æ¡£åè·Ÿç€æ“ä½œå³å¯ï¼\n\napt updateapt -y install openjdk-21-jre-headless\n\nä¸‹è½½æœåŠ¡ç«¯\nä»–çš„å®˜ç½‘å¥½åƒä¸æ”¯æŒä¸­æ–‡ï¼Œå¦‚æœçœ‹ä¸æ‡‚çš„è¯å¯ä»¥å»ä¸‹è½½ä¸€ä¸ªæµè§ˆå™¨ç¿»è¯‘æ’ä»¶æˆ–è€…ä¸‹è½½ä¸€ä¸ªæœ‰é“ç¿»è¯‘å»é˜…è¯»ï¼Œä¼šè½»æ¾ä¸€ç‚¹ã€‚\n\nè®¿é—®Minecraftå®˜ç½‘(https://www.minecraft.net/en-us/download/server)å»ä¸‹è½½æœåŠ¡ç«¯ã€‚\næ¯”å¦‚æˆ‘è¿™é‡Œç›´æ¥ä¸‹è½½ä»–çš„minecraft_server.1.21.5.jarè¿™ä¸ªåŒ…ã€‚\n\n\nä½ å¯ä»¥åœ¨æœ¬åœ°ä¸‹è½½å¥½äº†ä¹‹åä¸Šä¼ åˆ°æœåŠ¡å™¨é‡Œé¢ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨ä¸‹é¢è¿™ä¸ªå‘½ä»¤å»æœåŠ¡å™¨ç»ˆç«¯æ‰§è¡Œï¼Œç›´æ¥ä¸‹è½½ã€‚\n\nwget https://piston-data.mojang.com/v1/objects/e6ec2f64e6080b9b5d9b471b291c33cc7f509733/server.jar\n\nå°è¯•è¿è¡ŒæœåŠ¡ç«¯æœåŠ¡ç«¯çš„ jar åŒ…ä¸‹è½½åˆ°æœåŠ¡å™¨åï¼Œä½ å¯ä»¥ç›´æ¥è¿è¡Œè¿™ä¸ª jar åŒ…ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½è¿è¡Œèµ·æ¥ã€‚\n\næ³¨æ„ï¼Œå› ä¸ºæˆ‘ä¸‹è½½ä¸‹æ¥çš„æœåŠ¡ç«¯ jar åŒ…åå­—å°±å«server.jarï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ç›¸å¯¹è·¯å¾„æŒ‡å®šè¿™ä¸ª jar åŒ…çš„ï¼Œä½ ä»¬è¦æ ¹æ®å®é™…çš„æ–‡ä»¶åå­—æ¥ã€‚\n\njava -Xmx1024M -Xms1024M -jar ./server.jar nogui\n\n\næ³¨æ„ï¼é¦–æ¬¡è¿è¡Œä»–ä¼šè‡ªåŠ¨ç»“æŸï¼Œå¹¶ä¸”åœ¨å½“å‰ç›®å½•ä½ç½®é‡Šæ”¾ä¸€äº›é…ç½®ä»¥åŠæ”¯æŒåº“ç­‰ã€‚\nå¹¶ä¸”ä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªeula.txtæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶çš„ä½œç”¨æ˜¯è®©ä½ åŒæ„å…¶æœ€ç»ˆç”¨æˆ·è®¸å¯åè®®ï¼ˆEULAï¼ŒEnd User License Agreementï¼‰æ‰èƒ½è¿è¡Œ\nä½ å¯ä»¥ä½¿ç”¨vim eula.txtå»ç¼–è¾‘ï¼Œæˆ–è€…ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ã€‚\nå°†eulaè¿™ä¸ªé€‰é¡¹ï¼Œä»eula=falseæ”¹åˆ°eula=trueå³å¯ã€‚\n\nsed -i &#x27;s/eula=false/eula=true/g&#x27; ./eula.txt\n\næ¥ç€å†æ¬¡è¿è¡ŒæœåŠ¡ç«¯ï¼Œå°±å¯ä»¥äº†ã€‚\njava -Xmx1024M -Xms1024M -jar ./server.jar nogui\n\né…ç½®æ–‡ä»¶ä»‹ç»åœ¨å½“å‰ç›®å½•ä¸‹é™¤äº†eula.txtæ–‡ä»¶ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªserver.propertiesæ–‡ä»¶ã€‚\nè¿™æ˜¯ä¸€ä¸ªMinecraftæœåŠ¡ç«¯çš„é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†è®¸å¤šè®¾ç½®é¡¹ï¼Œç”¨æ¥æ§åˆ¶æœåŠ¡å™¨çš„è¡Œä¸ºå’Œç©å®¶çš„ä½“éªŒã€‚\nä¸‹é¢å°†å¯¹æ–‡ä»¶ä¸­æ¯ä¸ªé…ç½®é¡¹è¿›è¡Œè¯´æ˜ï¼š\n\naccepts-transfers\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: æ˜¯å¦å…è®¸ç©å®¶ä»å…¶ä»–æœåŠ¡å™¨è½¬ç§»åˆ°å½“å‰æœåŠ¡å™¨ã€‚è®¾ç½®ä¸ºfalseè¡¨ç¤ºç¦æ­¢ç©å®¶ä»å…¶ä»–æœåŠ¡å™¨è½¬ç§»ã€‚\n\n\nallow-flight\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: æ˜¯å¦å…è®¸ç©å®¶é£è¡Œã€‚åœ¨ç”Ÿå­˜æ¨¡å¼ä¸‹é€šå¸¸ç¦ç”¨é£è¡Œï¼Œè®¾ç½®ä¸ºtrueæ—¶ç©å®¶å¯ä»¥é£è¡Œã€‚\n\n\nallow-nether\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: æ˜¯å¦å…è®¸ç©å®¶è¿›å…¥ä¸‹ç•Œã€‚è®¾ç½®ä¸ºfalseæ—¶ï¼Œç©å®¶å°†æ— æ³•è¿›å…¥ä¸‹ç•Œã€‚\n\n\nbroadcast-console-to-ops\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: æ˜¯å¦å°†æ§åˆ¶å°è¾“å‡ºä¿¡æ¯å¹¿æ’­ç»™æ‰€æœ‰ OP ç©å®¶ã€‚å¦‚æœè®¾ç½®ä¸ºtrueï¼Œæ§åˆ¶å°çš„å‘½ä»¤è¾“å‡ºä¼šæ˜¾ç¤ºç»™æ‰€æœ‰æœ‰ OP æƒé™çš„ç©å®¶ã€‚\n\n\nbroadcast-rcon-to-ops\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: æ˜¯å¦å°† RCON å‘½ä»¤çš„è¾“å‡ºå¹¿æ’­ç»™æ‰€æœ‰ OP ç©å®¶ã€‚\n\n\nbug-report-link\n\nå¯é€‰å€¼: URL (å­—ç¬¦ä¸²)\nä½œç”¨: æä¾›ä¸€ä¸ªé“¾æ¥ï¼Œç©å®¶å¯ä»¥é€šè¿‡å®ƒæŠ¥å‘Šæ¸¸æˆä¸­çš„é”™è¯¯ã€‚æ­¤é¡¹ä¸ºç©ºåˆ™æ²¡æœ‰é“¾æ¥ã€‚\n\n\ndifficulty\n\nå¯é€‰å€¼: peacefulã€easyã€normalã€hard\nä½œç”¨: è®¾å®šæœåŠ¡å™¨çš„éš¾åº¦ã€‚\npeaceful å’Œå¹³æ¨¡å¼\neasy ç®€å•æ¨¡å¼\nnormal æ™®é€šéš¾åº¦\nhard å›°éš¾æ¨¡å¼\n\n\nenable-command-block\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: æ˜¯å¦å¯ç”¨å‘½ä»¤æ–¹å—ã€‚å‘½ä»¤æ–¹å—å…è®¸æ‰§è¡Œè‡ªåŠ¨åŒ–å‘½ä»¤æˆ–äº‹ä»¶ã€‚\n\n\nenable-jmx-monitoring\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: å¯ç”¨ JMX ç›‘æ§ï¼ŒJMX ç”¨äºç›‘æ§æœåŠ¡å™¨æ€§èƒ½ã€‚\n\n\nenable-query\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: å¯ç”¨ Minecraft æŸ¥è¯¢åè®®ï¼Œå…è®¸å¤–éƒ¨ç¨‹åºæŸ¥è¯¢æœåŠ¡å™¨çŠ¶æ€ã€‚\n\n\nenable-rcon\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: å¯ç”¨ RCONï¼ˆè¿œç¨‹æ§åˆ¶ï¼‰åŠŸèƒ½ã€‚trueæ—¶ï¼Œå…è®¸é€šè¿‡è¿œç¨‹å‘½ä»¤æ§åˆ¶æœåŠ¡å™¨ã€‚\n\n\nenable-status\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: æ˜¯å¦å¯ç”¨æœåŠ¡å™¨çŠ¶æ€æ˜¾ç¤ºï¼Œå…è®¸ç©å®¶æŸ¥è¯¢æœåŠ¡å™¨çŠ¶æ€ã€‚\n\n\nenforce-secure-profile\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: å¯ç”¨æ­£ç‰ˆè´¦æˆ·éªŒè¯ã€‚è®¾ç½®ä¸ºtrueæ—¶ï¼Œç©å®¶éœ€è¦æ‹¥æœ‰æ­£ç‰ˆ Minecraft è´¦æˆ·ã€‚\n\n\nenforce-whitelist\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: æ˜¯å¦å¯ç”¨ç™½åå•ã€‚å¯ç”¨æ—¶åªæœ‰åˆ—å…¥ç™½åå•çš„ç©å®¶æ‰èƒ½åŠ å…¥æœåŠ¡å™¨ã€‚\n\n\nentity-broadcast-range-percentage\n\nå¯é€‰å€¼: 0-100ï¼ˆç™¾åˆ†æ¯”ï¼‰\nä½œç”¨: è®¾ç½®å®ä½“å¹¿æ’­çš„èŒƒå›´ã€‚ä¾‹å¦‚ï¼Œ100%è¡¨ç¤ºæ‰€æœ‰å®ä½“éƒ½åœ¨æœ€å¤§èŒƒå›´å†…å¹¿æ’­ã€‚\n\n\nforce-gamemode\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: æ˜¯å¦å¼ºåˆ¶æ‰€æœ‰ç©å®¶åœ¨åŠ å…¥æ—¶ä½¿ç”¨æŒ‡å®šçš„æ¸¸æˆæ¨¡å¼ï¼ˆgamemodeï¼‰ã€‚trueè¡¨ç¤ºå¼ºåˆ¶ç©å®¶è¿›å…¥æŒ‡å®šæ¨¡å¼ã€‚\n\n\nfunction-permission-level\n\nå¯é€‰å€¼: 0ã€1ã€2ã€3ã€4\nä½œç”¨: è®¾ç½®ç©å®¶å¯ä»¥æ‰§è¡Œçš„å‡½æ•°å‘½ä»¤æƒé™ç­‰çº§ã€‚ç­‰çº§è¶Šé«˜ï¼Œæƒé™è¶Šå¤§ã€‚\n\n\ngamemode\n\nå¯é€‰å€¼: survivalã€creativeã€adventureã€spectator\nä½œç”¨: è®¾ç½®ç©å®¶çš„é»˜è®¤æ¸¸æˆæ¨¡å¼ã€‚survivalè¡¨ç¤ºç”Ÿå­˜æ¨¡å¼ï¼Œcreativeè¡¨ç¤ºåˆ›é€ æ¨¡å¼ï¼Œadventureè¡¨ç¤ºå†’é™©æ¨¡å¼ï¼Œspectatorè¡¨ç¤ºæ—è§‚æ¨¡å¼ã€‚\n\n\ngenerate-structures\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: æ˜¯å¦ç”Ÿæˆç»“æ„ï¼Œå¦‚æ‘åº„ã€åºŸå¼ƒçŸ¿äº•ç­‰ã€‚è®¾ç½®ä¸ºfalseæ—¶ä¸ä¼šç”Ÿæˆè¿™äº›ç»“æ„ã€‚\n\n\ngenerator-settings\n\nå¯é€‰å€¼: JSON é…ç½®å­—ç¬¦ä¸²\nä½œç”¨: ç”¨äºè‡ªå®šä¹‰ä¸–ç•Œç”Ÿæˆè®¾ç½®ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å®šä¹‰è‡ªå®šä¹‰çš„åœ°å½¢ç”Ÿæˆè§„åˆ™ã€‚\n\n\nhardcore\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: å¯ç”¨ç¡¬æ ¸æ¨¡å¼ã€‚ç¡¬æ ¸æ¨¡å¼ä¸‹ç©å®¶æ­»äº¡åä¼šæ°¸ä¹…æ¶ˆå¤±ã€‚\n\n\nhide-online-players\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: æ˜¯å¦éšè—åœ¨çº¿ç©å®¶ã€‚è®¾ç½®ä¸ºtrueæ—¶ï¼Œç©å®¶æ— æ³•çœ‹åˆ°å…¶ä»–åœ¨çº¿ç©å®¶ã€‚\n\n\ninitial-disabled-packs\n\nå¯é€‰å€¼: èµ„æºåŒ…åˆ—è¡¨ï¼ˆå­—ç¬¦ä¸²æ•°ç»„ï¼‰\nä½œç”¨: åˆå§‹ç¦ç”¨çš„èµ„æºåŒ…åˆ—è¡¨ã€‚\n\n\ninitial-enabled-packs\n\nå¯é€‰å€¼: èµ„æºåŒ…åˆ—è¡¨ï¼ˆå­—ç¬¦ä¸²æ•°ç»„ï¼‰\nä½œç”¨: åˆå§‹å¯ç”¨çš„èµ„æºåŒ…åˆ—è¡¨ã€‚\n\n\nlevel-name\n\nå¯é€‰å€¼: å­—ç¬¦ä¸²ï¼ˆä»»æ„ä¸–ç•Œåç§°ï¼‰\nä½œç”¨: è®¾ç½®ä¸–ç•Œåç§°ã€‚é»˜è®¤å€¼æ˜¯â€œworldâ€ã€‚\n\n\nlevel-seed\n\nå¯é€‰å€¼: å­—ç¬¦ä¸²ï¼ˆä»»æ„ç§å­ï¼‰\nä½œç”¨: è®¾ç½®ä¸–ç•Œç”Ÿæˆçš„ç§å­ï¼Œå½±å“ç”Ÿæˆçš„ä¸–ç•Œã€‚ä¸ºç©ºæ—¶éšæœºç”Ÿæˆã€‚\n\n\nlevel-type\n\nå¯é€‰å€¼: minecraft:normalã€minecraft:flatã€minecraft:largeBiomesã€minecraft:amplifiedã€minecraft:custom\nä½œç”¨: è®¾ç½®ä¸–ç•Œç±»å‹ã€‚normalæ˜¯æ™®é€šä¸–ç•Œï¼Œflatæ˜¯å¹³å¦ä¸–ç•Œï¼ŒlargeBiomesæ˜¯å¤§ç”Ÿç‰©ç¾¤è½ï¼Œamplifiedæ˜¯æ”¾å¤§ç”Ÿç‰©ç¾¤è½ã€‚\n\n\nlog-ips\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: æ˜¯å¦è®°å½•ç©å®¶çš„ IP åœ°å€ã€‚\n\n\nmax-chained-neighbor-updates\n\nå¯é€‰å€¼: æ•´æ•°ï¼ˆä¾‹å¦‚ 1000000ï¼‰\nä½œç”¨: è®¾ç½®æ¯æ¬¡æ›´æ–°è¿‡ç¨‹ä¸­å…è®¸çš„æœ€å¤§é“¾å¼é‚»å±…æ›´æ–°æ¬¡æ•°ã€‚\n\n\nmax-players\n\nå¯é€‰å€¼: 1-1000ï¼ˆç©å®¶æ•°é‡ï¼‰\nä½œç”¨: è®¾ç½®æœåŠ¡å™¨æœ€å¤šå…è®¸çš„ç©å®¶æ•°ã€‚\n\n\nmax-tick-time\n\nå¯é€‰å€¼: æ•´æ•°ï¼ˆæ¯«ç§’ï¼‰\nä½œç”¨: è®¾ç½®æ¯ä¸ª tickï¼ˆæ›´æ–°å‘¨æœŸï¼‰å…è®¸çš„æœ€å¤§æ—¶é—´ï¼Œè¶…è¿‡æ­¤å€¼æœåŠ¡å™¨ä¼šè®¤ä¸ºå‘ç”Ÿäº†æ€§èƒ½é—®é¢˜ã€‚\n\n\nmax-world-size\n\nå¯é€‰å€¼: æ•´æ•°ï¼ˆä¸–ç•Œçš„æœ€å¤§å¤§å°ï¼‰\nä½œç”¨: è®¾ç½®ä¸–ç•Œçš„æœ€å¤§å¤§å°ï¼ˆä»¥åŒºå—ä¸ºå•ä½ï¼‰ã€‚\n\n\nmotd\n\nå¯é€‰å€¼: å­—ç¬¦ä¸²ï¼ˆä»»ä½•æ–‡æœ¬ï¼‰\nä½œç”¨: è®¾ç½®æœåŠ¡å™¨çš„æè¿°ï¼Œæ˜¾ç¤ºåœ¨ç©å®¶åŠ å…¥æ—¶ã€‚\n\n\nnetwork-compression-threshold\n\nå¯é€‰å€¼: æ•´æ•°ï¼ˆå­—èŠ‚æ•°ï¼‰\nä½œç”¨: è®¾ç½®ç½‘ç»œå‹ç¼©çš„é˜ˆå€¼ã€‚å¤§äºæ­¤å€¼çš„ç½‘ç»œæ•°æ®ä¼šè¢«å‹ç¼©ã€‚\n\n\nonline-mode\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: å¯ç”¨åœ¨çº¿æ¨¡å¼æ—¶ï¼Œè¦æ±‚ç©å®¶æ‹¥æœ‰æ­£ç‰ˆ Minecraft è´¦æˆ·ã€‚\n\n\nop-permission-level\n\nå¯é€‰å€¼: 1ã€2ã€3ã€4\nä½œç”¨: è®¾ç½® OP ç©å®¶çš„æƒé™çº§åˆ«ï¼Œæ•°å€¼è¶Šå¤§ï¼ŒOP èƒ½æ‰§è¡Œçš„å‘½ä»¤è¶Šå¤šã€‚\n\n\npause-when-empty-seconds\n\nå¯é€‰å€¼: æ•´æ•°ï¼ˆç§’ï¼‰\nä½œç”¨: è®¾ç½®æœåŠ¡å™¨åœ¨æ²¡æœ‰ç©å®¶æ—¶æš‚åœçš„æ—¶é—´ï¼ˆç§’ï¼‰ã€‚\n\n\nplayer-idle-timeout\n\nå¯é€‰å€¼: æ•´æ•°ï¼ˆç§’ï¼‰\nä½œç”¨: è®¾ç½®ç©å®¶åœ¨æ²¡æœ‰æ“ä½œæ—¶è¢«è¸¢å‡ºçš„æ—¶é—´ã€‚\n\n\nprevent-proxy-connections\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: é˜²æ­¢ä»£ç†è¿æ¥ã€‚trueæ—¶ä¸å…è®¸ä½¿ç”¨ä»£ç†è¿æ¥ã€‚\n\n\npvp\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: æ˜¯å¦å¯ç”¨ç©å®¶é—´çš„æˆ˜æ–—ã€‚\n\n\nquery.port\n\nå¯é€‰å€¼: æ•´æ•°ï¼ˆç«¯å£å·ï¼‰\nä½œç”¨: è®¾ç½®æŸ¥è¯¢ç«¯å£ã€‚\n\n\nrate-limit\n\nå¯é€‰å€¼: æ•´æ•°ï¼ˆè¿æ¥æ¬¡æ•°ï¼‰\nä½œç”¨: é™åˆ¶æ¯ç§’è¿æ¥çš„æ¬¡æ•°ã€‚è®¾ç½®ä¸º 0 è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ã€‚\n\n\nrcon.password\n\nå¯é€‰å€¼: å­—ç¬¦ä¸²ï¼ˆå¯†ç ï¼‰\nä½œç”¨: è®¾ç½® RCON å¯†ç ï¼Œç”¨äºè¿œç¨‹ç®¡ç†æœåŠ¡å™¨ã€‚\n\n\nrcon.port\n\nå¯é€‰å€¼: æ•´æ•°ï¼ˆç«¯å£å·ï¼‰\nä½œç”¨: è®¾ç½® RCON ç«¯å£ã€‚\n\n\nregion-file-compression\n\nå¯é€‰å€¼: noneã€zlibã€deflate\nä½œç”¨: è®¾ç½®åŒºåŸŸæ–‡ä»¶çš„å‹ç¼©æ–¹å¼ã€‚\n\n\nrequire-resource-pack\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: æ˜¯å¦å¼ºåˆ¶ç©å®¶ä½¿ç”¨æŒ‡å®šçš„èµ„æºåŒ…ã€‚\n\n\nresource-pack\n\nå¯é€‰å€¼: URLï¼ˆèµ„æºåŒ…çš„é“¾æ¥ï¼‰\nä½œç”¨: è®¾ç½®èµ„æºåŒ…çš„ä¸‹è½½é“¾æ¥ã€‚\n\n\nresource-pack-id\n\nå¯é€‰å€¼: å­—ç¬¦ä¸²ï¼ˆèµ„æºåŒ… IDï¼‰\nä½œç”¨: è®¾ç½®èµ„æºåŒ…çš„å”¯ä¸€ IDã€‚\n\n\nresource-pack-prompt\n\nå¯é€‰å€¼: å­—ç¬¦ä¸²ï¼ˆæç¤ºæ–‡æœ¬ï¼‰\nä½œç”¨: è®¾ç½®èµ„æºåŒ…æç¤ºæ–‡æœ¬ã€‚\n\n\nresource-pack-sha1\n\nå¯é€‰å€¼: å­—ç¬¦ä¸²ï¼ˆSHA1 å€¼ï¼‰\nä½œç”¨: è®¾ç½®èµ„æºåŒ…çš„ SHA1 å“ˆå¸Œå€¼ï¼Œç”¨äºéªŒè¯èµ„æºåŒ…çš„å®Œæ•´æ€§ã€‚\n\n\nserver-ip\n\nå¯é€‰å€¼: å­—ç¬¦ä¸²ï¼ˆIP åœ°å€ï¼‰\nä½œç”¨: è®¾ç½®æœåŠ¡å™¨ç»‘å®šçš„ IP åœ°å€ã€‚\n\n\nserver-port\n\nå¯é€‰å€¼: æ•´æ•°ï¼ˆç«¯å£å·ï¼‰\nä½œç”¨: è®¾ç½®æœåŠ¡å™¨ç›‘å¬çš„ç«¯å£å·ã€‚\n\n\nsimulation-distance\n\nå¯é€‰å€¼: 1-32\nä½œç”¨: è®¾ç½®æ¨¡æ‹ŸåŒºåŸŸçš„å¤§å°ã€‚\n\n\nspawn-monsters\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: æ˜¯å¦å…è®¸æ€ªç‰©ç”Ÿæˆã€‚\n\n\nspawn-protection\n\nå¯é€‰å€¼: æ•´æ•°ï¼ˆæ–¹å—æ•°é‡ï¼‰\nä½œç”¨: è®¾ç½®ç”Ÿæˆä¿æŠ¤èŒƒå›´ï¼Œé˜²æ­¢ç©å®¶åœ¨å‡ºç”Ÿç‚¹é™„è¿‘ç ´åç¯å¢ƒã€‚\n\n\nsync-chunk-writes\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: æ˜¯å¦åŒæ­¥å†™å…¥åŒºå—æ•°æ®ã€‚\n\n\ntext-filtering-config\n\nå¯é€‰å€¼: JSON é…ç½®\nä½œç”¨: è®¾ç½®æ–‡æœ¬è¿‡æ»¤å™¨é…ç½®ã€‚\n\n\ntext-filtering-version\n\nå¯é€‰å€¼: æ•´æ•°\nä½œç”¨: è®¾ç½®æ–‡æœ¬è¿‡æ»¤å™¨çš„ç‰ˆæœ¬ã€‚\n\n\nuse-native-transport\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: æ˜¯å¦å¯ç”¨åŸç”Ÿä¼ è¾“åè®®ã€‚\n\n\nview-distance\n\nå¯é€‰å€¼: 3-32\nä½œç”¨: è®¾ç½®ç©å®¶çš„æ¸²æŸ“è§†è·ï¼Œå½±å“å¯è§èŒƒå›´ã€‚\n\n\nwhite-list\n\nå¯é€‰å€¼: true æˆ– false\nä½œç”¨: å¯ç”¨æˆ–ç¦ç”¨ç™½åå•åŠŸèƒ½ã€‚\n\n\n\n\nå¦‚æœæœ‰äº›å‚æ•°çœ‹ä¸æ‡‚ï¼Œé‚£å°±ä¿æŒé»˜è®¤å°±è¡Œï¼Œåˆ«å»åŠ¨ä»–äº†ï¼Œé˜²æ­¢å‡ºç°æ„å¤–æƒ…å†µã€‚\næ¯”å¦‚æˆ‘å·²ç»ä¿®æ”¹å¥½äº†ä¸€ä»½é…ç½®ï¼Œåšäº†å¦‚ä¸‹ä¿®æ”¹ï¼š\n\n\nå°†æ¸¸æˆæ¨¡å¼è°ƒæ•´ä¸ºå›°éš¾æ¨¡å¼\n\n\n\nå¯ç”¨å‘½ä»¤æ–¹å—\n\n\n\nå…è®¸éæ­£ç‰ˆè´¦æˆ·ç©å®¶åŠ å…¥\n\n\n\nä¸–ç•Œåç§°è®¾ç½®ä¸ºmyworld\n\n\n\nå°†æœåŠ¡å™¨ç›‘å¬ç«¯å£è®¾ç½®ä¸º11375\n\n\n\næœåŠ¡ç«¯ IP åœ°å€è®¾ç½®ä¸º0.0.0.0(ç»‘å®šæ‰€æœ‰åœ°å€)\n\n\n\n\n\nå¦å¤–è¿˜è¦æä¸€å˜´ï¼ŒæœåŠ¡å™¨ç«¯å£å¦‚æœä¿®æ”¹ä¸º11375çš„è¯ï¼Œéœ€è¦åœ¨ä½ çš„äº‘å¹³å°é˜²ç«å¢™ä¸­æ”¾è¡Œè¿™ä¸ªç«¯å£ï¼ŒæŸåˆ™ä½ è¿ä¸ä¸Šçš„ã€‚\n\n#Minecraft server properties#Tue Apr 08 23:15:34 CST 2025accepts-transfers=falseallow-flight=falseallow-nether=truebroadcast-console-to-ops=truebroadcast-rcon-to-ops=truebug-report-link=difficulty=hardenable-command-block=trueenable-jmx-monitoring=falseenable-query=falseenable-rcon=falseenable-status=trueenforce-secure-profile=falseenforce-whitelist=falseentity-broadcast-range-percentage=100force-gamemode=falsefunction-permission-level=2gamemode=survivalgenerate-structures=truegenerator-settings=&#123;&#125;hardcore=falsehide-online-players=falseinitial-disabled-packs=initial-enabled-packs=vanillalevel-name=myworldlevel-seed=level-type=minecraft\\:normallog-ips=truemax-chained-neighbor-updates=1000000max-players=20max-tick-time=60000max-world-size=29999984motd=A Minecraft Servernetwork-compression-threshold=256online-mode=falseop-permission-level=4pause-when-empty-seconds=0player-idle-timeout=0prevent-proxy-connections=falsepvp=truequery.port=25565rate-limit=0rcon.password=rcon.port=25575region-file-compression=deflaterequire-resource-pack=falseresource-pack=resource-pack-id=resource-pack-prompt=resource-pack-sha1=server-ip=0.0.0.0server-port=11375simulation-distance=10spawn-monsters=truespawn-protection=16sync-chunk-writes=truetext-filtering-config=text-filtering-version=0use-native-transport=trueview-distance=10white-list=false\n\næœ€åä¸€æ­¥é…ç½®æ–‡ä»¶ä¹Ÿä¿®æ”¹å¥½äº†ï¼Œé‚£ä¹ˆç›´æ¥å°†æœåŠ¡ç«¯æ‰˜ç®¡åœ¨åå°è¿è¡Œå³å¯ã€‚\né€šè¿‡å‘½ä»¤nohupå’Œ&amp;ç¬¦å¯ä»¥å°†ä»–æ”¾ç½®åˆ°åå°è¿è¡Œã€‚\nnohup java -Xmx1024M -Xms1024M -jar ./server.jar nogui &amp;\n\næ¥ç€ä½ å°è¯•æ‰“å¼€æ¸¸æˆï¼Œç‚¹å‡»å¤šäººæ¸¸æˆï¼Œç„¶åæ·»åŠ ä¸€ä¸ªæœåŠ¡å™¨ï¼Œè¾“å…¥ä½ çš„ IP+ç«¯å£ã€‚\n\næ¯”å¦‚æˆ‘è¿™é‡Œ IP æ˜¯ï¼š118.12.8.133ï¼Œç«¯å£æ˜¯: 11375ï¼Œé‚£ä¹ˆæˆ‘å°±è¾“å…¥118.12.8.133:11375å³å¯ã€‚\nå¦‚æœæœ‰åŸŸåçš„è¯ï¼Œç›´æ¥ä½¿ç”¨åŸŸåä¹Ÿè¡Œ\n\nåˆ°è¿™ä¸€æ­¥ä¹Ÿå°±ç»“æŸäº†ï¼Œå¯ä»¥å¼€ç©äº†ã€‚\n","categories":["Minecraft"],"tags":["Minecraft"]},{"title":"MCæŒ‡ä»¤å¤§å…¨","url":"/2025/07/24/2025-07-24-02/","content":"æ¦‚è¿°Minecraft åŸç‰ˆè‡ªå¸¦äº†å¾ˆå¤šæŒ‡ä»¤ï¼Œå¯ä»¥å¸®åŠ©ä½ ç®¡ç†ä¸–ç•Œã€ä¿®æ”¹è§„åˆ™ã€ç®¡ç†ç©å®¶ç­‰ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„æŒ‡ä»¤åŠå…¶åŠŸèƒ½ï¼š\n1. &#x2F;gamerule/gamerule æŒ‡ä»¤ç”¨äºè®¾ç½®æ¸¸æˆè§„åˆ™ï¼Œæ§åˆ¶ä¸åŒçš„æ¸¸æˆè¡Œä¸ºã€‚\n\næŒ‡ä»¤æ ¼å¼: /gamerule &lt;è§„åˆ™åç§°&gt; &lt;å€¼&gt;\nç¤ºä¾‹:\nå¼€å¯æ­»äº¡ä¸æ‰è½ç‰©å“: /gamerule keepInventory true\nå…³é—­æ€ªç‰©ç”Ÿæˆ: /gamerule doMobSpawning false\nå…³é—­ç©å®¶è‡ªç„¶æ¢å¤ç”Ÿå‘½: /gamerule naturalRegeneration false\nå…³é—­æ‰è½ç»éªŒ: /gamerule doMobLoot false\næ˜¯å¦å…è®¸ç©å®¶ç ´åæ–¹å—: /gamerule doTileDrops false\n\n\n\nå¸¸è§çš„ gamerule åˆ—è¡¨:\n\nkeepInventory - ç©å®¶æ­»äº¡æ—¶æ˜¯å¦ä¿ç•™ç‰©å“ã€‚\ndoDaylightCycle - æ˜¯å¦å…è®¸æ—¶é—´æµé€ã€‚\ndoMobSpawning - æ˜¯å¦å…è®¸æ€ªç‰©ç”Ÿæˆã€‚\ndoTileDrops - æ˜¯å¦å…è®¸æ–¹å—æ‰è½ã€‚\ndoWeatherCycle - æ˜¯å¦å…è®¸å¤©æ°”å˜åŒ–ã€‚\nnaturalRegeneration - ç©å®¶æ˜¯å¦è‡ªåŠ¨æ¢å¤ç”Ÿå‘½ã€‚\n\n2. &#x2F;gamemode/gamemode æŒ‡ä»¤ç”¨äºè®¾ç½®ç©å®¶çš„æ¸¸æˆæ¨¡å¼ã€‚\n\næŒ‡ä»¤æ ¼å¼: /gamemode &lt;æ¨¡å¼&gt; [ç©å®¶å]\nç¤ºä¾‹:\nç”Ÿå­˜æ¨¡å¼: /gamemode survival æˆ– /gamemode s\nåˆ›é€ æ¨¡å¼: /gamemode creative æˆ– /gamemode c\nå†’é™©æ¨¡å¼: /gamemode adventure æˆ– /gamemode a\næ—è§‚æ¨¡å¼: /gamemode spectator æˆ– /gamemode sp\n\n\n\n3. &#x2F;tp/tp æŒ‡ä»¤ç”¨äºä¼ é€ç©å®¶æˆ–å®ä½“ã€‚\n\næŒ‡ä»¤æ ¼å¼: /tp &lt;ç›®æ ‡ç©å®¶&gt; &lt;ç›®çš„åœ°ç©å®¶&gt; æˆ– /tp &lt;ç©å®¶&gt; &lt;x&gt; &lt;y&gt; &lt;z&gt;\nç¤ºä¾‹:\nä¼ é€åˆ°æŒ‡å®šç©å®¶: /tp Player1 Player2\nä¼ é€åˆ°åæ ‡ä½ç½®: /tp Player1 100 64 200 ï¼ˆä¼ é€ Player1 åˆ° x&#x3D;100, y&#x3D;64, z&#x3D;200ï¼‰\n\n\n\n4. &#x2F;kill/kill æŒ‡ä»¤ç”¨äºæ€æ­»ç©å®¶æˆ–å®ä½“ã€‚\n\næŒ‡ä»¤æ ¼å¼: /kill [ç›®æ ‡]\nç¤ºä¾‹:\næ€æ­»è‡ªå·±: /kill @s\næ€æ­»æŒ‡å®šç©å®¶: /kill Player1\næ€æ­»æ‰€æœ‰æ€ªç‰©: /kill @e[type=minecraft:zombie]ï¼ˆæ€æ­»æ‰€æœ‰åƒµå°¸ï¼‰\n\n\n\n5. &#x2F;give/give æŒ‡ä»¤ç”¨äºç»™äºˆç©å®¶ç‰©å“ã€‚\n\næŒ‡ä»¤æ ¼å¼: /give &lt;ç©å®¶å&gt; &lt;ç‰©å“ID&gt; [æ•°é‡]\nç¤ºä¾‹:\nç»™è‡ªå·±ä¸€æŠŠé’»çŸ³å‰‘: /give @s minecraft:diamond_sword\nç»™ç©å®¶ 64 å—é“çŸ¿çŸ³: /give Player1 minecraft:iron_ore 64\n\n\n\n6. &#x2F;time/time æŒ‡ä»¤ç”¨äºè®¾ç½®æˆ–æŸ¥è¯¢ä¸–ç•Œæ—¶é—´ã€‚\n\næŒ‡ä»¤æ ¼å¼: /time set &lt;æ—¶é—´&gt;\nç¤ºä¾‹:\nè®¾ç½®ä¸ºç™½å¤©: /time set day\nè®¾ç½®ä¸ºæ™šä¸Š: /time set night\nè®¾ç½®ä¸ºç‰¹å®šæ—¶é—´ï¼ˆä¾‹å¦‚ï¼šä¸­åˆï¼‰: /time set 6000\n\n\n\n7. &#x2F;weather/weather æŒ‡ä»¤ç”¨äºæ§åˆ¶å¤©æ°”ã€‚\n\næŒ‡ä»¤æ ¼å¼: /weather &lt;å¤©æ°”ç±»å‹&gt; [æŒç»­æ—¶é—´]\nç¤ºä¾‹:\nè®¾ç½®ä¸ºæ™´å¤©: /weather clear\nè®¾ç½®ä¸ºé›¨å¤©: /weather rain\nè®¾ç½®ä¸ºé›·æš´: /weather thunder\næŒç»­æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰: /weather clear 1000ï¼ˆæŒç»­ 1000 ç§’ï¼‰\n\n\n\n8. &#x2F;spawnpoint/spawnpoint æŒ‡ä»¤ç”¨äºè®¾ç½®ç©å®¶çš„é‡ç”Ÿç‚¹ã€‚\n\næŒ‡ä»¤æ ¼å¼: /spawnpoint [ç©å®¶] [x] [y] [z]\nç¤ºä¾‹:\nè®¾ç½®é‡ç”Ÿç‚¹ä¸ºè‡ªå·±å½“å‰çš„ä½ç½®: /spawnpoint @s\nè®¾ç½®ç©å®¶ Player1 çš„é‡ç”Ÿç‚¹ä¸ºç‰¹å®šåæ ‡: /spawnpoint Player1 100 64 200\n\n\n\n9. &#x2F;effect/effect æŒ‡ä»¤ç”¨äºç»™äºˆç©å®¶çŠ¶æ€æ•ˆæœï¼ˆå¦‚åŠ é€Ÿã€å¤œè§†ç­‰ï¼‰ã€‚\n\næŒ‡ä»¤æ ¼å¼: /effect &lt;ç©å®¶&gt; &lt;æ•ˆæœ&gt; [æŒç»­æ—¶é—´] [å¼ºåº¦]\nç¤ºä¾‹:\nç»™äºˆè‡ªå·±é€Ÿåº¦æ•ˆæœ: /effect @s minecraft:speed 30 1ï¼ˆæŒç»­ 30 ç§’ï¼Œæ•ˆæœå¼ºåº¦ä¸º 1ï¼‰\nç»™äºˆç©å®¶å¤œè§†: /effect Player1 minecraft:night_vision 100 1\n\n\n\n10. &#x2F;summon/summon æŒ‡ä»¤ç”¨äºå¬å”¤å®ä½“ï¼ˆå¦‚æ€ªç‰©ã€ç‰©å“ã€ç©å®¶ç­‰ï¼‰ã€‚\n\næŒ‡ä»¤æ ¼å¼: /summon &lt;å®ä½“ç±»å‹&gt; [x] [y] [z]\nç¤ºä¾‹:\nå¬å”¤ä¸€ä¸ªåƒµå°¸: /summon minecraft:zombie\nå¬å”¤ä¸€ä¸ªæŒ‡å®šåæ ‡çš„é¸¡: /summon minecraft:chicken 100 64 200\n\n\n\n11. &#x2F;clear/clear æŒ‡ä»¤ç”¨äºæ¸…é™¤ç©å®¶çš„ç‰©å“ã€‚\n\næŒ‡ä»¤æ ¼å¼: /clear &lt;ç©å®¶&gt; [ç‰©å“] [æ•°é‡]\nç¤ºä¾‹:\næ¸…é™¤è‡ªå·±æ‰€æœ‰ç‰©å“: /clear @s\næ¸…é™¤ç©å®¶çš„é’»çŸ³: /clear Player1 minecraft:diamond 10\n\n\n\n12. &#x2F;setworldspawn/setworldspawn æŒ‡ä»¤ç”¨äºè®¾ç½®ä¸–ç•Œé‡ç”Ÿç‚¹ã€‚\n\næŒ‡ä»¤æ ¼å¼: /setworldspawn [x] [y] [z]\nç¤ºä¾‹:\nè®¾ç½®ä¸–ç•Œé‡ç”Ÿç‚¹ä¸ºå½“å‰åæ ‡: /setworldspawn\nè®¾ç½®é‡ç”Ÿç‚¹ä¸ºç‰¹å®šåæ ‡: /setworldspawn 100 64 200\n\n\n\n13. &#x2F;whitelist/whitelist æŒ‡ä»¤ç”¨äºç®¡ç†ç™½åå•ã€‚\n\næŒ‡ä»¤æ ¼å¼: /whitelist &lt;add|remove|list|on|off&gt; &lt;ç©å®¶&gt;\nç¤ºä¾‹:\næ·»åŠ ç©å®¶åˆ°ç™½åå•: /whitelist add Player1\nåˆ é™¤ç©å®¶å‡ºç™½åå•: /whitelist remove Player1\næŸ¥çœ‹ç™½åå•: /whitelist list\nå¼€å¯ç™½åå•: /whitelist on\nå…³é—­ç™½åå•: /whitelist off\n\n\n\n14. &#x2F;ban/ban æŒ‡ä»¤ç”¨äºå°ç¦ç©å®¶ã€‚\n\næŒ‡ä»¤æ ¼å¼: /ban &lt;ç©å®¶å&gt;\nç¤ºä¾‹:\nå°ç¦ç©å®¶ Player1: /ban Player1\n\n\n\n15. &#x2F;pardon/pardon æŒ‡ä»¤ç”¨äºè§£é™¤å°ç¦ã€‚\n\næŒ‡ä»¤æ ¼å¼: /pardon &lt;ç©å®¶å&gt;\nç¤ºä¾‹:\nè§£é™¤å¯¹ Player1 çš„å°ç¦: /pardon Player1\n\n\n\n","categories":["Minecraft"],"tags":["Minecraft"]},{"title":"æš´ç ´æµ‹è¯•å·¥å…·medusa","url":"/2025/08/02/2025-08-02-01/","content":"è¯·æ³¨æ„:::dangeråœ¨æ­¤å£°æ˜ä¸€ä¸‹,medusaæ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„å·¥å…·,è¯·åœ¨åˆæ³•æˆæƒçš„æƒ…å†µä¸‹ä½¿ç”¨,æœ¬æ–‡åªåšå­¦ä¹ ä½¿ç”¨,è¯·å‹¿ç”¨äºéæ³•ç”¨é€”,å¦åˆ™é€ æˆçš„ä¸€åˆ‡åæœå‡ç”±ä½¿ç”¨è€…æ‰¿æ‹…ã€‚:::\nå®‰è£…ç›´æ¥åŒ…ç®¡ç†å™¨å®‰è£…å°±è¡Œäº†,æ¯”å¦‚ apt æˆ–è€… yum\napt updateapt -y install medusa\n\n\n\nä¸ºä»€ä¹ˆä¼šé€‰æ‹©ä½¿ç”¨è¿™æ¬¾å·¥å…·è€Œä¸æ˜¯ä¹å¤´è›‡(hydra)? ä¸ªäººå®é™…ä½“éªŒäº†ä¸€ä¸‹ä¸¤æ¬¾å·¥å…·,éƒ½å„æœ‰ä¼˜ç‚¹\nä¸è¿‡medusaçš„å®‰è£…å’Œä½¿ç”¨æ›´åŠ ç®€å•,å¹¶ä¸”å…¼å®¹æ€§æ›´å¥½,æ‰€ä»¥å•ç‹¬å†™ä¸ªæ–‡ç« è®°å½•ä¸€ä¸‹ä»–çš„ä½¿ç”¨æ–¹æ³•\n\nä½¿ç”¨æ–¹å¼medusa -h 192.168.2.2 -u root -P /root/password.txt -M ssh -t 10 -n 22 -O /root/result.txt\n\n\nä¸‹é¢æ˜¯å‚æ•°è§£æè¯´æ˜\n\n\n\n\nå‚æ•°\nå«ä¹‰\nè¯´æ˜\n\n\n\n-h 192.168.2.2\nç›®æ ‡ä¸»æœº\nè¦æ”»å‡»çš„IPåœ°å€ï¼ˆè¿™é‡Œæ˜¯å†…ç½‘IP 192.168.2.2ï¼‰ã€‚\n\n\n-u root\nç”¨æˆ·å\nå°è¯•ç™»å½•çš„ç”¨æˆ·åï¼ˆè¿™é‡Œæ˜¯ rootï¼‰ã€‚\n\n\n-P /root/password.txt\nå¯†ç å­—å…¸\næŒ‡å®šå¯†ç å­—å…¸æ–‡ä»¶çš„è·¯å¾„ï¼ˆæ¯è¡Œä¸€ä¸ªå¯†ç ï¼‰ã€‚\n\n\n-M ssh\næ¨¡å—ç±»å‹\næŒ‡å®šåè®®æ¨¡å—ä¸º SSHï¼ˆå³çˆ†ç ´SSHæœåŠ¡ï¼‰ã€‚\n\n\n-t 10\nçº¿ç¨‹æ•°\nå¹¶å‘çº¿ç¨‹æ•°ï¼ˆåŒæ—¶å°è¯•10ä¸ªå¯†ç ï¼‰ã€‚\n\n\n-n 22\nç«¯å£å·\næŒ‡å®šSSHæœåŠ¡ç«¯å£ï¼ˆé»˜è®¤æ˜¯22ï¼Œè¿™é‡Œæ˜¾å¼æŒ‡å®šï¼‰ã€‚\n\n\n-O /root/result.txt\nè¾“å‡ºæ–‡ä»¶\nå°†æˆåŠŸç ´è§£çš„ç»“æœä¿å­˜åˆ° /root/result.txtã€‚\n\n\næ”¯æŒçš„åè®®\n\n\næ¨¡å—å\nå¯¹åº”æœåŠ¡\nè¯´æ˜\n\n\n\nssh\nSSH\né»˜è®¤ç«¯å£22\n\n\nftp\nFTP\né»˜è®¤ç«¯å£21\n\n\ntelnet\nTelnet\né»˜è®¤ç«¯å£23\n\n\nsmtp\nSMTP\né»˜è®¤ç«¯å£25&#x2F;587&#x2F;465\n\n\npop3\nPOP3\né»˜è®¤ç«¯å£110&#x2F;995ï¼ˆSSLï¼‰\n\n\nimap\nIMAP\né»˜è®¤ç«¯å£143&#x2F;993ï¼ˆSSLï¼‰\n\n\nhttp\nHTTP Basic Auth\nWebåŸºç¡€è®¤è¯\n\n\nhttps\nHTTPS Basic Auth\nWebåŸºç¡€è®¤è¯ï¼ˆSSLï¼‰\n\n\nmysql\nMySQL\né»˜è®¤ç«¯å£3306\n\n\nmssql\nMicrosoft SQL\né»˜è®¤ç«¯å£1433\n\n\npostgres\nPostgreSQL\né»˜è®¤ç«¯å£5432\n\n\nrdp\nRemote Desktop\né»˜è®¤ç«¯å£3389ï¼ˆéœ€æ¨¡å—æ”¯æŒï¼‰\n\n\nvnc\nVNC\né»˜è®¤ç«¯å£5900\n\n\nsnmp\nSNMP\né»˜è®¤ç«¯å£161\n\n\nsmbnt\nSMB (Windows)\né»˜è®¤ç«¯å£445&#x2F;139\n\n\nldap\nLDAP\né»˜è®¤ç«¯å£389&#x2F;636ï¼ˆSSLï¼‰\n\n\nsvn\nSubversion\nSVNæœåŠ¡è®¤è¯\n\n\nvmauthd\nVMware Auth\nVMwareè®¤è¯æœåŠ¡\n\n\n","categories":["ç½‘ç»œå®‰å…¨"],"tags":["ç½‘ç»œå®‰å…¨"]},{"title":"ç«¯å£æ‰«æå·¥å…·nmap","url":"/2025/08/02/2025-08-02-02/","content":"è¯·æ³¨æ„:::dangeråœ¨æ­¤å£°æ˜ä¸€ä¸‹,nmapå·¥å…·è¯·åœ¨åˆæ³•æˆæƒçš„æƒ…å†µä¸‹ä½¿ç”¨,æœ¬æ–‡åªåšå­¦ä¹ ä½¿ç”¨,è¯·å‹¿ç”¨äºéæ³•ç”¨é€”,å¦åˆ™é€ æˆçš„ä¸€åˆ‡åæœå‡ç”±ä½¿ç”¨è€…æ‰¿æ‹…ã€‚:::\nå®‰è£…ç›´æ¥åŒ…ç®¡ç†å™¨å®‰è£…å°±è¡Œäº†,æ¯”å¦‚ apt æˆ–è€… yum\napt updateapt -y install nmap\n\n\n\næˆ‘æ¯”è¾ƒå–œæ¬¢è¿™æ¬¾å·¥å…·çš„ä¸€ç‚¹æ˜¯ä»–èƒ½å‘Šè¯‰æˆ‘å¯¹ç«¯åœ°å€æŸäº›ç«¯å£è¿è¡Œçš„æ˜¯ä»€ä¹ˆä¸œè¥¿,è™½ç„¶æœ‰æ—¶å€™ä¸å‡† :)\n\nå…¨ç«¯å£æ‰«æï¼ˆ1-65535ï¼‰ç›´æ¥æš´åŠ›å¯¹ç›®æ ‡åœ°å€çš„1-65535ç«¯å£è¿›è¡Œæ‰«æ,å¹¶è¿›è¡Œç³»ç»ŸæŒ‡çº¹è¯†åˆ«\nnmap -p- -T4 -A -v 192.168.2.2\n\næŒ‡å®šç«¯å£èŒƒå›´æ‰«æï¼ˆ1000-2000ï¼‰æ¯”å¦‚ä½ æƒ³çŸ¥é“å¯¹ç«¯æŒ‡å®šç«¯å£èŒƒå›´å†…æœ‰å“ªäº›ç«¯å£æ­£åœ¨ä½¿ç”¨,é‚£ä½ å¯ä»¥è¿™æ ·ç©\nnmap -p1000-2000 -T4 -A -v 192.168.2.2\n\n\næŒ‡å®šç«¯å£åˆ—è¡¨æ‰«æï¼ˆ22,80,443,3389ï¼‰å¦‚æœä½ åªæƒ³çŸ¥é“å·²çŸ¥çš„ç«¯å£è¿è¡Œç€ä»€ä¹ˆæœåŠ¡,é‚£ä½ å¯ä»¥è¿™æ ·ç©\nnmap -p22,80,443,3389 -T4 -A -v 192.168.2.2\n\n\næ‰«æç«¯å£å¯¹åº”æœåŠ¡è¯†åˆ«åªè¦ä½ åŠ ä¸Š -sV æˆ– -A å‚æ•°ï¼Œnmap ä¼šå°½é‡è¯†åˆ«å‡ºç«¯å£èƒŒåè¿è¡Œçš„æœåŠ¡å’Œç‰ˆæœ¬ã€‚\nnmap -p22,80,443 -sV -v 192.168.2.2\n\nè¾“å‡ºå¯èƒ½é•¿è¿™æ ·:\nPORT     STATE SERVICE    VERSION22/tcp   open  ssh        OpenSSH 7.4 (protocol 2.0)80/tcp   open  http       Apache httpd 2.4.6443/tcp  open  ssl/http   Nginx 1.18.0\n\n\nå…¶ä»–ä½¿ç”¨å»ºè®®\n\n\nç”¨æ³•\nå‘½ä»¤\n\n\n\næ›´å¿«æ‰«æï¼ˆä½†å‡†ç¡®ç‡ç•¥ä½ï¼‰\n-T5 --min-rate 1000\n\n\né™é»˜æ‰«æï¼Œé¿å…è¢«æ—¥å¿—è®°å½•\n-Pnï¼ˆè·³è¿‡ Ping æ¢æµ‹ï¼‰\n\n\nè¾“å‡ºåˆ°æ–‡ä»¶\n-oN output.txtï¼ˆæ™®é€šæ ¼å¼ï¼‰æˆ– -oX output.xmlï¼ˆXMLï¼‰\n\n\nä½¿ç”¨è„šæœ¬è¿›è¡Œæ·±å…¥åˆ†æ\n--script vulnï¼ˆæ£€æµ‹å·²çŸ¥æ¼æ´ï¼‰\n\n\n","categories":["ç½‘ç»œå®‰å…¨"],"tags":["ç½‘ç»œå®‰å…¨"]},{"title":"å ç”¨CPUçš„Antimalware Service Executableè¿›ç¨‹","url":"/2025/08/10/2025-08-10-01/","content":"é—®é¢˜æè¿°æœ€è¿‘é‡è£…äº†ä¸€ä¸‹ç”µè„‘,å‘ç°æœ‰æ—¶å€™ CPU å ç”¨éå¸¸é«˜,ä»»åŠ¡ç®¡ç†å™¨é‡Œé¢ä¸€çœ‹,æœ‰ä¸ªå«Antimalware Service Executableçš„è¿›ç¨‹å æœ‰ç‡ç›´æ¥è¾¾åˆ° 20% å·¦å³!\nè¿™èƒ½å¿? é«˜ä½å¾—ç ”ç©¶ä¸€ä¸‹æ€ä¹ˆå¹²æ‰è¿™ç ´ç©æ„.\nç„¶ååœ¨çŸ¥ä¹ä¸Šé¢çœ‹è§ä¸ªå¸–å­,äº†è§£åˆ°è¿™ç©æ„æ˜¯å¾®è½¯çš„æ€æ¯’æ‰«æè¿›ç¨‹,å®Œäº‹ä»–è¿è‡ªå·±çš„ç›®å½•éƒ½æ‰«,å¥½åƒå°±æ˜¯å› ä¸ºæ‰«äº†è‡ªå·±çš„ç›®å½•å¯¼è‡´å ç”¨ç‰¹åˆ«é«˜(å’±ä¹Ÿä¸çŸ¥é“,å’±ä¹Ÿä¸æ•¢é—®).\n\nå¸–å­åœ°å€: ç‚¹æˆ‘ä¼ é€\n\nè§£å†³æ–¹æ¡ˆ\nè¿›å…¥ Windows çš„é˜²ç«å¢™ç—…æ¯’å’Œå¨èƒé˜²æŠ¤ä¸­\næ‰¾åˆ°ç—…æ¯’å’Œå¨èƒé˜²æŠ¤è®¾ç½®é€‰é¡¹,ç‚¹å‡»ä»–ä¸‹é¢çš„ç®¡ç†è®¾ç½®\nå¾€ä¸‹æ»‘æ‰¾åˆ°æ’é™¤é¡¹é€‰é¡¹,ç‚¹å‡»æ·»åŠ æˆ–åˆ é™¤æ’é™¤é¡¹\nç„¶åæ·»åŠ ä¸€ä¸ªæ’é™¤é¡¹è¿›å»,æ’é™¤è·¯å¾„C:\\Program Files\\Windows Defender\n\n\n\n\n\n\n","categories":["Windows"],"tags":["Windows"]},{"title":"éƒ¨ç½²VictoriaMetrics","url":"/2025/08/13/2025-08-13-01/","content":"ä¸‹è½½è½¯ä»¶åŒ…è®¿é—® GitHub ä¸‹è½½è½¯ä»¶åŒ…,ç‚¹è¿™é‡Œè·³è½¬\néšä¾¿é€‰ä¸ªç‰ˆæœ¬,ä½ å¯ä»¥ç›´æ¥é€‰æœ€æ–°çš„, é¡ºä¾¿æ³¨æ„ä¸€ä¸‹, åå­—é‡Œé¢æœ€å¥½åˆ«å¸¦ enterprise å­—æ ·, å› ä¸ºè¿™ç©æ„æ˜¯ä¼ä¸šç‰ˆæ”¶è´¹çš„, æˆ‘ä»¬ç”¨å…è´¹çš„å°±è¡Œ.\næ¯”å¦‚æˆ‘è¿™é‡Œé€‰æ‹©ç‰ˆæœ¬v1.122.0, ä¸‹è½½victoria-metrics-linux-amd64-v1.122.0.tar.gz, è¿™ä¸ªå¯ä»¥æ ¹æ®å„è‡ªçš„éœ€æ±‚æ¥.\nwget https://release-assets.githubusercontent.com/github-production-release-asset/xxxxx -O victoria-metrics-linux-amd64-v1.122.0.tar.gztar -zxvf victoria-metrics-linux-amd64-v1.122.0.tar.gz \n\né…ç½®VictoriaMetricsä¸‹è½½å¹¶ä¸”è§£å‹å,å¯ä»¥çœ‹è§ä¸€ä¸ªvictoria-metrics-prodäºŒè¿›åˆ¶(æˆ‘ä½¿ç”¨çš„æ˜¯å•ä¾‹,å¦‚æœæ˜¯é›†ç¾¤ç‰ˆæœ¬çš„è¯åº”è¯¥æ˜¯æœ‰æ›´å¤šäºŒè¿›åˆ¶çš„)\nå¹¶ä¸”æˆ‘è¿™é‡Œæ˜¯ä½¿ç”¨supervisorctlåšæœåŠ¡å•å…ƒçš„,å¦‚æœä½ ä½¿ç”¨çš„æ˜¯systemd, é‚£ä¹ˆåº”è¯¥å°†victoria-metrics.confå†™åˆ°æ­£ç¡®çš„è·¯å¾„å»\n/apps/data/workspace/VictoriaMetrics/victoria-metrics-prodæ˜¯æˆ‘äºŒè¿›åˆ¶æ‰€åœ¨çš„ç»å¯¹è·¯å¾„,ä½ åº”è¯¥æ ¹æ®å®é™…æƒ…å†µæ¥ä¿®æ”¹.\n#!/usr/bin/env bashmkdir -p /data/vmdatamkdir -p /etc/supervisor.d/cat &gt;/etc/supervisor.d/victoria-metrics.conf &lt;&lt;EOF[program:victoria-metrics]directory=/apps/data/workspace/VictoriaMetrics/command=/apps/data/workspace/VictoriaMetrics/victoria-metrics-prod \\    -storageDataPath=/data/vmdata \\    -httpListenAddr=:8888 \\    -retentionPeriod=1y \\    -httpAuth.username=admin \\    -httpAuth.password=123456autostart=trueautorestart=truestartsecs=5stdout_logfile=/apps/data/workspace/VictoriaMetrics/logs/stdout.logstderr_logfile=/apps/data/workspace/VictoriaMetrics/logs/stderr.loguser=rootEOF# å¯åŠ¨æœåŠ¡supervisorctl rereadsupervisorctl updatesupervisorctl start victoria-metricssupervisorctl status victoria-metrics\n\nå‚æ•°ä»‹ç»\n\nstorageDataPath: æ•°æ®å­˜å‚¨è·¯å¾„\nhttpListenAddr: ç›‘å¬åœ°å€+ç«¯å£\nretentionPeriod: æ•°æ®ä¿ç•™æ—¶é—´(1y è¡¨ç¤ºä¸€å¹´)\nhttpAuth.username: ç”¨æˆ·å (å¯é€‰)\nhttpAuth.password: å¯†ç  (å¯é€‰)\n\næ£€æŸ¥ç«¯å£ç›‘å¬å¦‚æœæœåŠ¡æ­£å¸¸åœ¨ç›‘å¬ç«¯å£,é‚£å°±æ²¡é—®é¢˜äº†\nnetstat -ntulp | grep 8888\n","categories":["è¿ç»´"],"tags":["è¿ç»´"]},{"title":"éƒ¨ç½²å¤œèºç›‘æ§","url":"/2025/08/13/2025-08-13-02/","content":"ä¸‹è½½è½¯ä»¶åŒ…GitHub ä¸‹è½½è½¯ä»¶åŒ…,ç‚¹è¿™é‡Œè·³è½¬\næˆ‘è¿™é‡Œä½¿ç”¨v8.2.2ç‰ˆæœ¬,ä¸‹è½½n9e-v8.2.2-linux-amd64.tar.gz\nwget https://release-assets.githubusercontent.com/github-production-release-asset/xxxxxx -O n9e-v8.2.2-linux-amd64.tar.gz\n\nè§£å‹è½¯ä»¶åŒ…tar -zxvf n9e-v8.2.2-linux-amd64.tar.gz\n\nå®‰è£…æ•°æ®åº“å’ŒRediså·ä¸ªæ‡’,ç›´æ¥æŒ‰ç…§å®˜ç½‘çš„æ¥\napt updateapt -y install mariadb* redis/etc/init.d/mariadb start                                          # å¯åŠ¨mariadb/etc/init.d/redis-server start                                     # å¯åŠ¨redismysql -e &quot;SET PASSWORD FOR &#x27;root&#x27;@&#x27;localhost&#x27; = PASSWORD(&#x27;123456&#x27;);&quot; # è®¾ç½®å¯†ç (å¼ºåº¦å»ºè®®é«˜ä¸€äº›)\n\nç„¶åå¼€å§‹å¯¼å…¥è¡¨ç»“æ„\nmysql -uroot -p1234 &lt; n9e.sql\n\nä¿®æ”¹é…ç½®æ–‡ä»¶åœ¨./etc/config.tomlæ–‡ä»¶ä¸­æŒ‰éœ€æ›´æ”¹é…ç½®,æˆ‘è¿™é‡Œå°±ä¸è¯¦ç»†æ¼”ç¤ºäº†,å…·ä½“é…ç½®ä»‹ç»çœ‹å®˜ç½‘æ–‡æ¡£,æˆ–è€… AI ä¸€ä¸‹éƒ½è¡Œ\nå¯åŠ¨å¤œèºcommandéƒ¨åˆ†å»ºè®®ä½¿ç”¨-configsé€‰é¡¹æŒ‡å®šé…ç½®æ–‡ä»¶çš„ä½ç½®\n\né¢å¤–æ³¨æ„ä¸€ä¸‹,è¿™é‡Œçš„-configsé€‰é¡¹æ˜¯æŒ‡å®šé…ç½®æ–‡ä»¶çš„æ‰€åœ¨ç›®å½•,è€Œä¸æ˜¯æ–‡ä»¶æœ¬èº«, å¦åˆ™ä¼šæŠ¥é”™\n\n#!/usr/bin/env bashmkdir -p /etc/supervisor.d/cat &gt;/etc/supervisor.d/nightingale.conf &lt;&lt;EOF[program:nightingale]directory=/apps/data/command=/apps/data/n9e -configs /apps/data/etc/autostart=trueautorestart=truestartsecs=5stdout_logfile=/apps/data/logs/stdout.logstderr_logfile=/apps/data/logs/stderr.loguser=rootEOF# å¯åŠ¨æœåŠ¡supervisorctl rereadsupervisorctl updatesupervisorctl start nightingalesupervisorctl status nightingale","categories":["è¿ç»´"],"tags":["è¿ç»´"]},{"title":"é€šè¿‡Letâ€™s Encryptç”³è¯·SSLæ³›åŸŸåè¯ä¹¦","url":"/2025/08/16/2025-08-16-01/","content":"ä»‹ç»Letâ€™s Encrypt æ˜¯ä¸€ä¸ªå…è´¹çš„ã€è‡ªåŠ¨åŒ–ã€å¼€æ”¾çš„è¯ä¹¦é¢å‘æœºæ„ï¼Œä¸ºç½‘ç«™æä¾› HTTPS åŠ å¯†ã€‚å®ƒä½¿ç”¨ ACME åè®®æ¥éªŒè¯åŸŸåæ‰€æœ‰æƒï¼Œå¹¶é¢å‘å…è´¹çš„ SSL&#x2F;TLS è¯ä¹¦ã€‚\nè¿™é‡Œé€šè¿‡ubuntuç¯å¢ƒæ¥æ¼”ç¤ºç”³è¯·è¿‡ç¨‹,å…¶ä»–ç¯å¢ƒç±»ä¼¼ã€‚\nå¹¶ä¸”æ­¤æ–‡ç« å‡ºç°çš„åŸŸåçš†ä¸ºexample.comã€‚\nå®‰è£…å·¥å…·apt updateapt install certbot python3-certbot-nginx -y\n\nç”³è¯·è¯ä¹¦:::warningéœ€è¦æ³¨æ„,åœ¨ç”³è¯·ä¹‹å‰,ä½ çš„åŸŸå(å¦‚example.com)å¿…é¡»å·²è§£æåˆ°æ”¯æŒ 80&#x2F;443 ç«¯å£çš„è®¾å¤‡ä¸Š,å¹¶ä¸”è¿è¡Œ nginx æˆ–è€… http æœåŠ¡å»ç›‘å¬ç«¯å£,å¦åˆ™ç”³è¯·æ— æ³•è¿›è¡Œã€‚:::\næ¯”å¦‚æˆ‘è¿™é‡Œç›´æ¥ç”³è¯·ä¸€ä¸ª*.example.comæ³›åŸŸåçš„è¯ä¹¦,ç„¶åå‚è€ƒä¸‹é¢çš„å‘½ä»¤:\ncertbot certonly \\  --manual \\  --preferred-challenges dns \\  -d &quot;*.example.com&quot; -d example.com\n\næ‰§è¡Œå,å¦‚æœé¡ºåˆ©,ä»–ä¼šç»™ä½ æä¾›ä¸€ä¸ª TXT è®°å½•è®©ä½ å»åšä¸€ä¸‹è§£æ,æ¯”å¦‚ä½ çš„åŸŸåæ˜¯example.com,é‚£ä¹ˆä»–åº”è¯¥ä¼šç»™ä½ æä¾›ä¸€ä¸ª_acme-challenge.example.comè®©ä½ å»åšè§£æ, ç›¸åº”çš„,è§£æå€¼ä¹Ÿä¼šæä¾›ç»™ä½ ,æ¯”å¦‚_UqBFNOgsaxR6TfP7x-mE0FRknUb9AcSplePkgK1n1Aã€‚\nä½ å¿…é¡»åœ¨ä½ çš„åŸŸåè§£æä¸­æ·»åŠ è¿™ä¸ªTXTè®°å½•,æ¯”å¦‚ä½ çš„åŸŸåæ˜¯é˜¿é‡Œäº‘æ¥ä¹°çš„,é‚£ä½ å°±å»é˜¿é‡Œäº‘çš„æ§åˆ¶å°,æ‰¾åˆ°ä½ çš„åŸŸå,ç„¶åæ·»åŠ TXTè®°å½•ã€‚\næ·»åŠ å®Œæˆå,ä½ å¯ä»¥ä½¿ç”¨å‘½ä»¤dig TXT _acme-challenge.example.com +shortæ¥æŸ¥çœ‹æ˜¯å¦æ·»åŠ æˆåŠŸ, å¦‚æœç”Ÿæ•ˆäº†,ä»–åº”è¯¥ä¼šè¾“å‡ºå¦‚ä¸‹å†…å®¹:\n_UqBFNOgsaxR6TfP7x-mE0FRknUb9AcSplePkgK1n1A...\n\n\n:::dangerè¿™é‡Œé¢å¤–å†æä¸€å˜´,ä½ ç”³è¯·æ—¶,å‡ºç°äº†æ·»åŠ  TXT è®°å½•çš„æç¤ºæ—¶,å…ˆå»æ·»åŠ ,åŠ å®Œäº†å†å›è½¦ä¸‹ä¸€æ­¥,ä¸€å…±éœ€è¦æ·»åŠ ä¸¤æ¬¡,åŠ å®Œäº†ç”¨ä¸Šé¢çš„digå‘½ä»¤éªŒè¯ä¸€ä¸‹æ˜¯å¦ç”Ÿæ•ˆäº†,å¦‚æœç”Ÿæ•ˆäº†å†å›è½¦ç»§ç»­,å¦åˆ™å¿…å®šç”³è¯·å¤±è´¥! ! ! åŠ¡å¿…ä¿è¯è§£æç”Ÿæ•ˆåå†å›è½¦ç»§ç»­! ! !\nå½“ç„¶,æ®æˆ‘å®é™…æµ‹è¯•,æœ‰æ—¶ä»–ä¼šè®©ä½ æ·»åŠ ä¸¤ä¸ª TXT è®°å½•,ä½†æœ‰æ—¶åªéœ€åŠ ä¸€æ¬¡,è¿˜æ²¡ææ‡‚æ˜¯ä¸ºä»€ä¹ˆ,åæ­£åŠ å°±å¯¹äº†:::\n\næ¥ä¸‹æ¥æ˜¯å‘½ä»¤çš„å®Œæ•´è¾“å‡º,å¯ä»¥å‚è€ƒä¸€ä¸‹é•¿å•¥æ ·,å¦‚æœé¡ºåˆ©,ä»–ä¼šè¾“å‡ºå¦‚ä¸‹å†…å®¹:\n\nroot@localhost:~# certbot certonly   --manual   --preferred-challenges dns   -d &quot;*.example.com&quot; -d example.comSaving debug log to /var/log/letsencrypt/letsencrypt.logRequesting a certificate for *.example.com and example.com- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -Please deploy a DNS TXT record under the name:_acme-challenge.example.com.with the following value:_UqBFNOgsaxR6TfP7x-mE0FRknUb9AcSplePkgK1n1A- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -Press Enter to Continue- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -Please deploy a DNS TXT record under the name:_acme-challenge.example.com.with the following value:Ac1evz91bSOAyGRXHzYWaBB94xj-pUgEo6SMEbeJWGY(This must be set up in addition to the previous challenges; do not remove,replace, or undo the previous challenge tasks yet. Note that you might beasked to create multiple distinct TXT records with the same name. This ispermitted by DNS standards.)Before continuing, verify the TXT record has been deployed. Depending on the DNSprovider, this may take some time, from a few seconds to multiple minutes. You cancheck if it has finished deploying with aid of online tools, such as the GoogleAdmin Toolbox: https://toolbox.googleapps.com/apps/dig/#TXT/_acme-challenge.example.com.Look for one or more bolded line(s) below the line &#x27;;ANSWER&#x27;. It should show thevalue(s) you&#x27;ve just added.- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -Press Enter to ContinueSuccessfully received certificate.Certificate is saved at: /etc/letsencrypt/live/example.com/fullchain.pemKey is saved at:         /etc/letsencrypt/live/example.com/privkey.pemThis certificate expires on 2025-11-14.These files will be updated when the certificate renews.NEXT STEPS:- This certificate will not be renewed automatically. Autorenewal of --manual certificates requires the use of an authentication hook script (--manual-auth-hook) but one was not provided. To renew this certificate, repeat this same certbot command before the certificate&#x27;s expiry date.- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -If you like Certbot, please consider supporting our work by: * Donating to ISRG / Let&#x27;s Encrypt:   https://letsencrypt.org/donate * Donating to EFF:                    https://eff.org/donate-le- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\nç›´åˆ°æœ€å,ä»–ä¼šè¾“å‡ºSuccessfully received certificate.,è¡¨ç¤ºè¯ä¹¦ç”³è¯·æˆåŠŸã€‚\nå¹¶ä¸”ä½ çš„è¯ä¹¦æ–‡ä»¶å­˜æ”¾åœ¨/etc/letsencrypt/live/example.comç›®å½•ä¸‹, åˆ†åˆ«æ˜¯:\n\nfullchain.pem è¯ä¹¦æ–‡ä»¶\nprivkey.pem ç§é’¥æ–‡ä»¶\n\nåˆ°è¿™é‡Œè¯ä¹¦ç”³è¯·æµç¨‹å°±ç»“æŸäº†,è¯ä¹¦æœ‰æ•ˆæœŸä¸º90å¤©,åˆ°æœŸåéœ€è¦é‡æ–°ç”³è¯·ã€‚\n","categories":["è¿ç»´"],"tags":["è¿ç»´"]},{"title":"Gormè‡ªåŠ¨è¯†åˆ«æ·»åŠ æˆ–æ›´æ–°è®°å½•","url":"/2025/08/22/2025-08-22-01/","content":"ä»‹ç»å†™ä¸šåŠ¡æ—¶éœ€è¦ç”¨åˆ° gorm ç„¶åæœ‰ä¸ªéœ€æ±‚æ˜¯æ ¹æ®æŸä¸ªå­—æ®µ(ä¸»é”®)æ¥åˆ¤æ–­è®°å½•æ˜¯å¦å·²å­˜åœ¨,å¦‚æœä¸å­˜åœ¨,åˆ™åˆ›å»ºè¿™æ¡è®°å½•,å¦‚æœå­˜åœ¨åˆ™æ›´æ–°.\nä¸Šä»£ç :::tip æ³¨æ„!!!è¿™é‡Œuser_idå­—æ®µå¿…é¡»æ˜¯å”¯ä¸€ç´¢å¼•,å¿…é¡»å¸¦æœ‰uniqueIndexæ ‡ç­¾,å› ä¸º gorm åœ¨åˆ¤æ–­è®°å½•æ˜¯å¦å­˜åœ¨æ—¶,å°±æ˜¯æ ¹æ®è¿™ä¸ªå­—æ®µæ¥åˆ¤æ–­çš„,å¦‚æœè¿™ä¸ªå­—æ®µä¸æ˜¯å”¯ä¸€ç´¢å¼•,åˆ™ä¸ä¼šè§¦å‘OnConflict:::\n\nè¡¨ç»“æ„\n\ntype RealAuth struct &#123;\tgorm.Model\tUserID         uint   `gorm:&quot;column:user_id;type:integer;comment:ç”¨æˆ·ID;not null;uniqueIndex&quot;` // ç”¨æˆ·ID,å”¯ä¸€ç´¢å¼•\tRealName       string `gorm:&quot;column:real_name;type:varchar(255);comment:å®åè®¤è¯å§“å&quot;`\tIDCard         string `gorm:&quot;column:id_card;type:varchar(255);comment:èº«ä»½è¯å·&quot;`\tEthnicity      string `gorm:&quot;column:ethnicity;type:varchar(255);comment:æ°‘æ—&quot;`\tBirthDate      string `gorm:&quot;column:birth_date;type:varchar(255);comment:å‡ºç”Ÿæ—¥æœŸ&quot;`\tSex            string `gorm:&quot;column:sex;type:varchar(255);comment:æ€§åˆ«&quot;`\tAddress        string `gorm:&quot;column:address;type:varchar(255);comment:ä½å€&quot;`\tIssueAuthority string `gorm:&quot;column:issue_authority;type:varchar(255);comment:ç­¾å‘æœºå…³&quot;`\tValidPeriod    string `gorm:&quot;column:valid_period;type:varchar(255);comment:æœ‰æ•ˆæœŸ&quot;`\tIDCardFrontUrl string `gorm:&quot;column:id_card_front_url;type:varchar(255);comment:èº«ä»½è¯æ­£é¢URL&quot;`\tIDCardBackUrl  string `gorm:&quot;column:id_card_back_url;type:varchar(255);comment:èº«ä»½è¯åé¢URL&quot;`&#125;\n\n\nä»£ç \n\n/*æ›´æ–°æˆ–æ·»åŠ èº«ä»½è¯æ­£é¢ç…§ä¿¡æ¯1. ctx: ä¸Šä¸‹æ–‡2. userID: ç”¨æˆ·ID3. resp: èº«ä»½è¯æ­£é¢ç…§ä¿¡æ¯4. url: èº«ä»½è¯æ­£é¢ç…§åœ¨çº¿URL*/func (r *userRepository) UserRealAuth(ctx context.Context, userID uint, resp v1.OcrFrontContent, url string) error &#123;\t// å¦‚æœè®°å½•ä¸å­˜åœ¨åˆ™åˆ›å»º,å­˜åœ¨åˆ™æ›´æ–°\trealAuth := model.RealAuth&#123;\t\tUserID:         userID,\t\tRealName:       resp.Name,\t\tIDCard:         resp.IDNumber,\t\tEthnicity:      resp.Ethnicity,\t\tBirthDate:      resp.BirthDate,\t\tSex:            resp.Sex,\t\tAddress:        resp.Address,\t\tIDCardFrontUrl: url,\t&#125;\treturn r.DB(ctx).Model(&amp;model.RealAuth&#123;&#125;).Clauses(clause.OnConflict&#123;\t\tColumns: []clause.Column&#123;&#123;Name: &quot;user_id&quot;&#125;&#125;,\t\tDoUpdates: clause.AssignmentColumns([]string&#123;\t\t\t&quot;id_card_front_url&quot;,\t\t\t&quot;real_name&quot;,\t\t\t&quot;id_card&quot;,\t\t\t&quot;ethnicity&quot;,\t\t\t&quot;birth_date&quot;,\t\t\t&quot;sex&quot;,\t\t\t&quot;address&quot;,\t\t&#125;),\t&#125;).Create(&amp;realAuth).Error&#125;\n\nä»‹ç»ä»£ç ä¸­,æ ¹æ®user_idæ¥åˆ¤æ–­è®°å½•æ˜¯å¦å­˜åœ¨,å¦‚æœå­˜åœ¨åˆ™æ›´æ–°,ä¸å­˜åœ¨åˆ™åˆ›å»º,å€¼å¾—ä¸€æçš„æ—¶,user_idæ˜¯å”¯ä¸€ç´¢å¼•,ä¹Ÿå¿…é¡»æ˜¯å”¯ä¸€ç´¢å¼•,æ‰€ä»¥ä¸ä¼šå‡ºç°é‡å¤åˆ›å»ºçš„æƒ…å†µ\nå½“å‘ç°user_idè®°å½•å·²å­˜åœ¨æ—¶,åˆ™æ ¹æ®clause.AssignmentColumnsé‡Œé¢æä¾›çš„å­—æ®µæ¥æ›´æ–°è®°å½•,è¿™é‡Œæ›´æ–°äº†\n\nid_card_front_url\nreal_name\nid_card\nethnicity\nbirth_date\nsex\naddress\n\n","categories":["Go"],"tags":["Go"]},{"title":"è®©ä½ çš„Vueä»£ç æ›´è§„èŒƒ","url":"/2025/09/03/2025-09-03-01/","content":"ç”¨åˆ°çš„å·¥å…·å¦‚æœä½¿ç”¨çš„æ˜¯cursoræˆ–è€…vscode,å¼ºçƒˆå»ºè®®å®‰è£…ä»¥ä¸‹å‡ ä¸ªæ’ä»¶:\n\nESLint ä»£ç è§„èŒƒå·¥å…·\nPrettier - Code formatter ä»£ç æ ¼å¼åŒ–å·¥å…·\nVetur è¿™æ˜¯Vueçš„å®˜æ–¹æ’ä»¶,å¯ä»¥æä¾›Vueçš„è¯­æ³•é«˜äº®å’Œæ™ºèƒ½æç¤º\nAuto Rename Tag æ ‡ç­¾è‡ªåŠ¨é—­åˆ\nTypeScript Vue Plugin ç±»å‹æç¤º\n\né…ç½®é¦–å…ˆå®‰è£…ä¸€äº›ä¾èµ–,ç”¨çš„ä¸Šçš„\npnpm add -D eslint prettier eslint-plugin-vue @typescript-eslint/eslint-plugin @typescript-eslint/parser eslint-config-prettier eslint-plugin-prettier\n\nåœ¨ä½ çš„å‰ç«¯é¡¹ç›®æ ¹ç›®å½•ä½ç½®,åˆ›å»ºä¸€ä¸ª.vscodeç›®å½•,ç„¶ååˆ›å»ºä¸€ä¸ªsettings.jsonæ–‡ä»¶,å†™å…¥ä»¥ä¸‹å†…å®¹:\n&#123;  // é»˜è®¤ä½¿ç”¨ VSCode å†…ç½®çš„æ ¼å¼åŒ–å™¨ï¼ˆç”± ESLint æ¥ç®¡ï¼‰  &quot;editor.defaultFormatter&quot;: &quot;dbaeumer.vscode-eslint&quot;,  // ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤ + æ ¼å¼åŒ–  &quot;editor.codeActionsOnSave&quot;: &#123;    &quot;source.fixAll.eslint&quot;: true,    &quot;source.organizeImports&quot;: true  &#125;,  // Vue å’Œ TS æ–‡ä»¶é»˜è®¤ç”¨ ESLint æ ¼å¼åŒ–  &quot;[typescript]&quot;: &#123;    &quot;editor.defaultFormatter&quot;: &quot;dbaeumer.vscode-eslint&quot;  &#125;,  &quot;[typescriptreact]&quot;: &#123;    &quot;editor.defaultFormatter&quot;: &quot;dbaeumer.vscode-eslint&quot;  &#125;,  &quot;[vue]&quot;: &#123;    &quot;editor.defaultFormatter&quot;: &quot;dbaeumer.vscode-eslint&quot;  &#125;,  &quot;[json]&quot;: &#123;    &quot;editor.defaultFormatter&quot;: &quot;esbenp.prettier-vscode&quot;  &#125;,  // ESLint æ’ä»¶å¯ç”¨  &quot;eslint.validate&quot;: [    &quot;javascript&quot;,    &quot;javascriptreact&quot;,    &quot;typescript&quot;,    &quot;typescriptreact&quot;,    &quot;vue&quot;  ],  // å…³é—­ VSCode è‡ªå¸¦ TS æŠ¥é”™ï¼Œç”¨ ESLint æ¥ç®¡  &quot;typescript.validate.enable&quot;: false&#125;\n\n\n:::warningè¿™é‡Œä¸€å®šè¦æ³¨æ„ä½ çš„.vscodeç›®å½•æ˜¯åˆ›å»ºåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹.\nå¹¶ä¸”.prettierrc.jsonè¿™ä¸ªæ–‡ä»¶ä¹Ÿæ˜¯åœ¨æ ¹ç›®å½•ä¸‹,ä¸æ˜¯åœ¨.vscodeä¸‹:::\nç„¶åé¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶.prettierrc.jsonå¹¶ä¸”å†™å…¥ä»¥ä¸‹å†…å®¹:\n&#123;  &quot;semi&quot;: true,                // è¯­å¥æœ«å°¾åŠ åˆ†å·  &quot;singleQuote&quot;: true,         // ä½¿ç”¨å•å¼•å·  &quot;trailingComma&quot;: &quot;es5&quot;,      // å°¾éšé€—å·ï¼ŒES5 å…è®¸çš„åœ°æ–¹éƒ½åŠ ï¼ˆå¯¹è±¡ã€æ•°ç»„ç­‰ï¼‰  &quot;printWidth&quot;: 100,           // æ¯è¡Œæœ€å¤§é•¿åº¦  &quot;tabWidth&quot;: 2,               // ç¼©è¿› 2 ç©ºæ ¼  &quot;useTabs&quot;: false,            // ä½¿ç”¨ç©ºæ ¼ç¼©è¿›è€Œä¸æ˜¯ tab  &quot;bracketSpacing&quot;: true,      // &#123; foo: bar &#125; å†…éƒ¨æ˜¯å¦ç•™ç©ºæ ¼  &quot;arrowParens&quot;: &quot;always&quot;,     // ç®­å¤´å‡½æ•°å‚æ•°æ€»æ˜¯åŠ æ‹¬å· (x) =&gt; x  &quot;endOfLine&quot;: &quot;lf&quot;,           // æ¢è¡Œç¬¦ï¼ˆLinux/Mac æ¨è lfï¼‰  &quot;vueIndentScriptAndStyle&quot;: true, // Vue æ–‡ä»¶ä¸­ &lt;script&gt; å’Œ &lt;style&gt; ç¼©è¿›  &quot;htmlWhitespaceSensitivity&quot;: &quot;ignore&quot; // HTML ä¸­ç©ºæ ¼ä¸æ•æ„Ÿ&#125;\n\n\nå®Œæˆåˆ°è¿™é‡Œå°±é…ç½®å®Œäº†,ç„¶åéœ€è¦æ³¨æ„çš„å°±æ˜¯,ä½¿ç”¨ç¼–è¾‘å™¨æ‰“å¼€é¡¹ç›®æ—¶å¿…é¡»ä¿è¯.vscodeå¤„äºæ ¹ç›®å½•ä¸‹,å¦åˆ™è¿™äº›é…ç½®ä¸ç”Ÿæ•ˆ.\næ¯”å¦‚ä½¿ç”¨å·¥ä½œåŒºæ‰“å¼€ç›®å½•,ä»–åº”è¯¥é•¿è¿™æ ·:\nworkspace // è¿™æ˜¯å·¥ä½œåŒºç›®å½•- .vscode // è¿™æ˜¯VSCodeçš„é…ç½®ç›®å½•- .prettierrc.json // è¿™æ˜¯Prettierçš„é…ç½®æ–‡ä»¶\n","categories":["Vue.js"],"tags":["Vue.js"]},{"title":"å¾®ä¿¡å°ç¨‹åºè‡ªåŠ¨å‘å¸ƒ","url":"/2025/09/23/2025-09-23-01/","content":"æ¦‚è¿°å½“å‰æˆ‘çš„é¡¹ç›®åŸºäº vite-uniapp è„šæ‰‹æ¶å¼€å‘ï¼Œä½¿ç”¨å¾®ä¿¡å°ç¨‹åºå¹³å°è¿›è¡Œå‘å¸ƒã€‚\næˆ‘çš„ nodejs ç‰ˆæœ¬æ˜¯v18.xï¼Œä½¿ç”¨çš„åŒ…ç®¡ç†å™¨æ˜¯pnpmã€‚\nä½¿ç”¨å®˜æ–¹æä¾›çš„ cli å·¥å…·miniprogram-ciæ¥è¿›è¡Œè‡ªåŠ¨åŒ–å‘å¸ƒã€‚\nå®‰è£…å·¥å…·ç¬¬ä¸€æ­¥å…ˆå®‰è£…è¿™ä¸ªå·¥å…·\npnpm add miniprogram-ci\n\nç¼–å†™å‘å¸ƒè„šæœ¬:::danger æ³¨æ„æ³¨æ„é…ç½®é‡Œé¢å¡«å†™çš„é¡¹ç›®è·¯å¾„å’Œç§é’¥æ–‡ä»¶å»ºè®®å…¨éƒ¨ä½¿ç”¨ç»å¯¹è·¯å¾„,é¿å…è·¯å¾„é”™è¯¯å¯¼è‡´å„ç§é—®é¢˜,ä½ å¯ä»¥ç”¨process.cwd()æ¥è·å–å½“å‰å·¥ä½œç›®å½•,ç„¶åæ‹¼æ¥ä¸Šä½ çš„é¡¹ç›®è·¯å¾„å’Œç§é’¥æ–‡ä»¶è·¯å¾„å³å¯:::\næ¥ä¸‹æ¥åœ¨é¡¹ç›®ä¸‹åˆ›å»ºä¸€ä¸ªpushç›®å½•,å¹¶ä¸”ç¼–å†™ä¸€ä¸ª js æ–‡ä»¶,å†…å®¹å¦‚ä¸‹:\nconst ci = require(&#x27;miniprogram-ci&#x27;);const project = new ci.Project(&#123;  appid: &#x27;ä½ çš„å¾®ä¿¡å°ç¨‹åºçš„ appid&#x27;,  type: &#x27;miniProgram&#x27;,  projectPath: &#x27;ä½ çš„é¡¹ç›®è·¯å¾„&#x27;,  privateKeyPath: &#x27;ä½ çš„ç§é’¥æ–‡ä»¶&#x27;,  ignores: [&#x27;node_modules/**/*&#x27;],&#125;);(async () =&gt; &#123;  const uploadResult = await ci.upload(&#123;    project,    version: &#x27;1.0.0&#x27;,    desc: &#x27;è‡ªåŠ¨å‘å¸ƒæè¿°&#x27;,    setting: &#123;      es6: true,      minify: true,    &#125;,    onProgressUpdate: console.log,  &#125;);  console.log(&#x27;ä¸Šä¼ ç»“æœ:&#x27;, uploadResult);&#125;)();\n\n\nappid æ˜¯ä½ çš„å¾®ä¿¡å°ç¨‹åºçš„ appid,ç™»å½•å¾®ä¿¡å°ç¨‹åºåå°çš„å¼€å‘ç®¡ç†é¡µé¢å¯ä»¥çœ‹è§\ntype å°ç¨‹åºç±»å‹,é»˜è®¤æ˜¯miniProgram,æœ‰æ›´å¤šå¯é€‰å€¼,å¯ä»¥å‚è€ƒ(å®˜æ–¹æ–‡æ¡£)[https://developers.weixin.qq.com/miniprogram/dev/devtools/ci.html]\nprojectPath æ˜¯ä½ çš„é¡¹ç›®è·¯å¾„,è¿™ä¸ªè·¯å¾„ä¸‹å¿…é¡»åŒ…å«project.config.json,app.jsonè¿™äº›é…ç½®æ–‡ä»¶, ç”±äºæˆ‘çš„é¡¹ç›®æ˜¯åŸºäº vite-uniapp æ‰€ä»¥åœ¨æˆ‘çš„é¡¹ç›®è·¯å¾„ä¸‹æ˜¯æ²¡è¿™äº›æ–‡ä»¶çš„,è€Œæ˜¯åœ¨ build ä¹‹åçš„ dist ç›®å½•ä¸‹,æ‰€ä»¥æä¾› dist ç›®å½•å³å¯\nprivateKeyPath ç§é’¥æ–‡ä»¶,éå¸¸é‡è¦,åœ¨å°ç¨‹åºçš„ç®¡ç†-&gt;å¼€å‘ç®¡ç†-&gt;å°ç¨‹åºä»£ç ä¸Šä¼ -&gt;å°ç¨‹åºä»£ç ä¸Šä¼ å¯†é’¥å¤„ç”Ÿæˆ,ç„¶åä¸‹è½½ä¸‹æ¥ä¸¢åˆ°é¡¹ç›®è·¯å¾„ä¸‹å³å¯\nignores å¿½ç•¥çš„æ–‡ä»¶,é»˜è®¤æ˜¯node_modules/**/*,å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œä¿®æ”¹\nversion ç‰ˆæœ¬å·,é»˜è®¤æ˜¯1.0.0,å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œä¿®æ”¹\ndesc æè¿°,é»˜è®¤æ˜¯è‡ªåŠ¨å‘å¸ƒæè¿°,å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œä¿®æ”¹\n\n\nå…¶ä»–ä¸€äº›æ— æ‰€è°“çš„å‚æ•°å°±ä¸å†™äº†,çœ‹çœ‹å®˜ç½‘æ–‡æ¡£å·®ä¸å¤šèƒ½ç†è§£æ˜¯å•¥æ„æ€å°±è¡Œ\nç„¶åå¤§æ¦‚çœ‹çœ‹æˆ‘çš„é¡¹ç›®ç»“æ„é•¿å•¥æ ·,æ–¹ä¾¿ä½ ç†è§£\n\nâ•­â”€root@2222-hyhacct /apps/data/workspace/wdycdn-applet-t250920/my-vite-uniapp â•°â”€# tree -I &#x27;node|src&#x27;        .â”œâ”€â”€ distâ”‚   â””â”€â”€ buildâ”‚       â””â”€â”€ mp-weixinâ”‚           â”œâ”€â”€ app.jsâ”‚           â”œâ”€â”€ app.jsonâ”‚           â”œâ”€â”€ app.wxssâ”‚           â””â”€â”€ çœç•¥ä¸€å¤§å †å†…å®¹...â”œâ”€â”€ index.htmlâ”œâ”€â”€ node_modulesâ”œâ”€â”€ package.jsonâ”œâ”€â”€ pnpm-lock.yamlâ”œâ”€â”€ pushâ”‚   â”œâ”€â”€ private.ä½ çš„ç§é’¥æ–‡ä»¶.keyâ”‚   â””â”€â”€ start.jsâ”œâ”€â”€ README.mdâ”œâ”€â”€ shims-uni.d.tsâ”œâ”€â”€ Taskfile.ymlâ””â”€â”€ vite.config.js94 directories, 183 filesâ•­â”€root@2222-hyhacct /apps/data/workspace/wdycdn-applet-t250920/my-vite-uniapp â•°â”€# \n\n\nå¼€å§‹å‘å¸ƒnode push/start.js\n\næœ€ç»ˆè¾“å‡ºä¸‹é¢è¿™æ ·å°±è¡¨ç¤ºå‘å¸ƒæˆåŠŸäº†,è¿™é‡Œçš„statusä¸ºdoneè¡¨ç¤ºå‘å¸ƒæˆåŠŸ\n&#123; id: &#x27;0.51697158522841181758591596687&#x27;, message: &#x27;upload&#x27;, status: &#x27;done&#x27; &#125; ä¸Šä¼ ç»“æœ: &#123; subPackageInfo: [ &#123; name: &#x27;/otherPages/&#x27;, size: 133126 &#125;, &#123; name: &#x27;__APP__&#x27;, size: 1133882 &#125;, &#123; name: &#x27;__FULL__&#x27;, size: 1267008 &#125; ], pluginInfo: [], devPluginId: undefined &#125;\n\n\nç„¶åå›åˆ°å¾®ä¿¡å°ç¨‹åºåå°çš„ç®¡ç†-&gt;ç‰ˆæœ¬ç®¡ç†é¡µé¢,çœ‹ä¸‹é¢çš„å¼€å‘ç‰ˆæœ¬æ˜¯å¦å·²ç»æ›´æ–°äº†\n","categories":["Uniapp"],"tags":["Uniapp"]},{"title":"docker loginå¤±è´¥é—®é¢˜","url":"/2025/11/28/2025-11-28-01/","content":"é—®é¢˜é¢„è§ˆåœ¨å°è¯•ä½¿ç”¨github çš„ghcr.ioé•œåƒæ‰˜ç®¡æœåŠ¡æ—¶,å‘ç°æœ¬åœ° docker æ— æ³•æ­£å¸¸ç™»å½•è·å–æƒé™,å¦‚ä¸‹:\nâ•­â”€root@localhost ~ â€¹mainâ—â€º â•°â”€# echo &quot;echo ghp_xxxxxxxx | docker login ghcr.io -u &lt;username&gt; --password-stdin&quot; | zshError saving credentials: error storing credentials - err: exec: &quot;docker-credential-dev-containers-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&quot;: executable file not found in $PATH, out: ``\n\né—®é¢˜å®šä½å°è¯•è¯»å–~/.docker/config.jsonæ–‡ä»¶,å‘ç°å¦‚ä¸‹å†…å®¹:\nâ•­â”€root@localhost ~ â€¹mainâ—â€º â•°â”€# cat ~/.docker/config.json                                                                            1 â†µ&#123;  &quot;auths&quot;: &#123;    &quot;ghcr.io&quot;: &#123;      &quot;auth&quot;: &quot;xxxxxxxxxx&quot;    &#125;,    &quot;registry.cn-hangzhou.aliyuncs.com&quot;: &#123;      &quot;auth&quot;: &quot;xxxxxxxx&quot;    &#125;&#125;,&quot;credsStore&quot;: &quot;dev-containers-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&quot;&#125;\n\nå…¶ä¸­çš„credsStoreå­—æ®µæŒ‡å‘äº†ä¸€ä¸ªdev-containers-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxxçš„å€¼,è¿™ä¸ªå€¼æ˜¯ä¸€ä¸ªcredential helperçš„ID,ç”¨æ¥å­˜å‚¨å‡­è¯çš„ã€‚\nè§£å†³åŠæ³•ç›´æ¥å°†~/.docker/config.jsonæ–‡ä»¶ä¸­çš„credsStoreå­—æ®µåˆ é™¤æ‰! ç„¶åå†æ¬¡å°è¯•ç™»å½•,å‘ç°æˆåŠŸäº†!\n","categories":["Docker"],"tags":["Docker"]},{"title":"ghcr.ioçš„ä½¿ç”¨æ•™ç¨‹","url":"/2025/11/28/2025-11-28-02/","content":"ç¬¬ä¸€æ­¥: åˆ›å»ºä¸ªäººè®¿é—®ä»¤ç‰Œè®¿é—®GitHubä¸ªäººè®¾ç½®é¡µé¢,ç‚¹å‡»Generate new tokenæŒ‰é’®,åˆ›å»ºä¸€ä¸ªä¸ªäººè®¿é—®ä»¤ç‰Œ, é€‰æ‹©ç¬¬äºŒä¸ªé€‰é¡¹(New personal access token (classic))å³å¯ã€‚\nåœ¨åˆ›å»ºé¡µé¢ä¸­,å¡«å†™ä»¥ä¸‹ä¿¡æ¯:\n\nNote ä»¤ç‰Œæè¿°,æ¯”å¦‚test\nExpiration ä»¤ç‰Œè¿‡æœŸæ—¶é—´,æ¯”å¦‚30 days,å¯ä»¥è®¾ç½®ä¸‰ä¸ªæœˆ(90å¤©)\nSelect scopes é€‰æ‹©æƒé™\nwrite:packages é€‰æ‹©å†™å…¥åŒ…æƒé™\nread:packages é€‰æ‹©è¯»å–åŒ…æƒé™\ndelete:packages é€‰æ‹©åˆ é™¤åŒ…æƒé™\n\næ¯•ç«Ÿåªæ˜¯ä¸ºäº†ä½¿ç”¨ghcr.io,å…·å¤‡é•œåƒçš„æ‹‰å–å’Œæ¨é€èƒ½åŠ›å³å¯,deleteåˆ é™¤æƒé™æŒ‰éœ€é€‰æ‹©è¦ä¸è¦å¯ç”¨å°±è¡Œ.\næƒé™è‡ªå·±é€‰å¥½äº†å°±ç‚¹å‡»ä¸‹é¢çš„åˆ›å»ºæŒ‰é’®å³å¯,ä½ å°±èƒ½çœ‹è§ç”Ÿæˆçš„ token äº†,è¿™ä¸ª token ä¸€å®šè¦ä¿å­˜å¥½,ä¸èƒ½æ³„éœ²\nè€Œä¸”è¿™ä¸ªtokenåªèƒ½åœ¨åˆ›å»ºæˆåŠŸæ—¶çœ‹è§è¿™ä¹ˆä¸€æ¬¡,æ‰€ä»¥ä¸€å®šè¦å¤åˆ¶å‡ºæ¥ä¿å­˜å¥½\nç¬¬äºŒæ­¥: ç™»å½•ghcr.ioç™»å½•ghcr.io,å¯ä»¥ä½¿ç”¨docker login ghcr.ioå‘½ä»¤,å¦‚ä¸‹:\ndocker login ghcr.io -u &lt;username&gt; --password-stdin\n\nå…¶ä¸­&lt;username&gt;æ˜¯ä½ çš„GitHubç”¨æˆ·å,å›è½¦åä¼šè®©ä½ è¾“å…¥å¯†ç ,å°†ä½ ç¬¬ä¸€æ­¥åˆ›å»ºå¥½çš„ä»¤ç‰Œè¾“å…¥è¿›å»å³å¯ã€‚\nä½†æ˜¯æœ‰æ—¶å€™åˆè§‰å¾—äº¤äº’å¼å¤ªéº»çƒ¦,æœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥éäº¤äº’å¼ç™»å½•? é‚£åŒ…çš„!\necho &quot;echo &lt;token&gt;&lt;/token&gt; | docker login ghcr.io -u &lt;username&gt; --password-stdin&quot; | zsh\n\nå…¶ä¸­&lt;token&gt;æ˜¯ä½ çš„ä¸ªäººè®¿é—®ä»¤ç‰Œ,&lt;username&gt;æ˜¯ä½ çš„GitHubç”¨æˆ·å,åé¢çš„zshæ˜¯æˆ‘çš„è§£é‡Šå™¨,å¦‚æœä½ ç”¨çš„æ˜¯bashé‚£ä½ æ”¹æ”¹å°±è¡Œã€‚\nè¿™æ ·å°±å¯ä»¥éäº¤äº’å¼ç™»å½•äº†,æ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿?\nç¬¬ä¸‰æ­¥: æ‰“æ ‡ç­¾ä½¿ç”¨å°±æ›´ç®€å•äº†,ç™»å½•æˆåŠŸåä½ å°±å¯ä»¥æ¨é€æˆ–è€…æ‹‰é•œåƒäº†,æ¯”å¦‚å…ˆç»™ä½ æ‰“åŒ…å¥½çš„ docker é•œåƒæ‰“ä¸ª tag,ç„¶åæ¨é€ä¸Šå»:\nGHCR é•œåƒå‘½åè§„åˆ™éå¸¸ä¸¥æ ¼,å°½é‡ç¬¦åˆä»¥ä¸‹è§„åˆ™:\nghcr.io/&lt;ä½ çš„GitHubç”¨æˆ·åæˆ–ç»„ç»‡&gt;/&lt;ä»“åº“å&gt;:tag\n\nä¾‹å¦‚ä½ å« zhangsanï¼Œé•œåƒåæ˜¯ my-appï¼š\ndocker tag my-app ghcr.io/zhangsan/my-app:latest\n\nå¦å¤–å†è¯´ä¸€ä¸‹,ä»“åº“ä¸éœ€è¦äº‹å…ˆåˆ›å»ºï¼Œpush ä¹‹åä¼šè‡ªåŠ¨ç”Ÿæˆã€‚\nç¬¬å››æ­¥: æ¨é€é•œåƒ&amp;æ‹‰å–é•œåƒæ¨é€é•œåƒå°±æ›´ç®€å•äº†,ç›´æ¥ä½¿ç”¨docker pushå‘½ä»¤å³å¯,å¦‚ä¸‹:\ndocker push ghcr.io/zhangsan/my-app:latest\n\næ‹‰å–ä¹Ÿæ˜¯ä¸€æ ·çš„,ç›´æ¥ä½¿ç”¨docker pullå‘½ä»¤å³å¯,å¦‚ä¸‹:\ndocker pull ghcr.io/zhangsan/my-app:latest\n\nç¬¬äº”æ­¥: æŸ¥çœ‹é•œåƒè¿™æ—¶å€™æ–°é—®é¢˜åˆæ¥äº†,é•œåƒæ¨é€ä¸Šå»äº†,æˆ‘åœ¨å“ªé‡Œçœ‹? éå¸¸ç®€å•,ç›´æ¥è®¿é—® github\nç„¶å: Profile -&gt; Packages å°±èƒ½çœ‹è§ä½ æ¨é€çš„é•œåƒäº†\n","categories":["Docker"],"tags":["Docker"]},{"title":"GitåŸºç¡€","url":"/2025/12/31/2025-12-31-01/","content":"åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯git switch -c dev/2025-12-31-dev\n\nswitchå‘½ä»¤æ˜¯åˆ‡æ¢åˆ†æ”¯çš„å‘½ä»¤,-cé€‰é¡¹æ˜¯åˆ›å»ºåˆ†æ”¯çš„é€‰é¡¹,dev/2025-12-31-devæ˜¯åˆ†æ”¯åç§°ã€‚\næŸ¥çœ‹åˆ†æ”¯git branch\n\nbranchå‘½ä»¤æ˜¯æŸ¥çœ‹åˆ†æ”¯çš„å‘½ä»¤,ä¼šåˆ—å‡ºæ‰€æœ‰åˆ†æ”¯,å½“å‰åˆ†æ”¯ä¼šç”¨*æ ‡è®°ã€‚\nå¼ºåˆ¶åŒæ­¥è¿œç¨‹ä»“åº“git fetch origingit reset --hard origin/main\n\næ¯”è¾ƒå±é™©,ä¸å»ºè®®ä½¿ç”¨,é™¤éä½ çœŸçš„çŸ¥é“ä½ åœ¨åšä»€ä¹ˆã€‚\næ‰§è¡Œåä¼šä¸¢å¼ƒæœ¬åœ°æ‰€æœ‰ä¿®æ”¹,å¹¶å¼ºåˆ¶ä¸è¿œç¨‹ä»“åº“åŒæ­¥,ç”¨äºä½ æƒ³è®©æœ¬åœ°å’Œè¿œç¨‹ä»“åº“ä¸€è‡´æ—¶ä½¿ç”¨ã€‚\næ¨é€åˆ†æ”¯git push origin dev/2025-12-31-dev\n\npushå‘½ä»¤æ˜¯æ¨é€åˆ†æ”¯çš„å‘½ä»¤,originæ˜¯è¿œç¨‹ä»“åº“çš„åç§°,dev/2025-12-31-devæ˜¯åˆ†æ”¯åç§°ã€‚\n","categories":["Git"],"tags":["Git"]},{"title":"Goæ—¥å¿—è½®è½¬æ–¹æ¡ˆ","url":"/2025/12/14/2025-12-14-01/","content":"ä¸Šä»£ç ç›´æ¥è°ƒç”¨NewLoggerå‡½æ•°åˆå§‹åŒ–æ—¥å¿—å®ä¾‹å°±è¡Œ,å‚æ•°æ˜¯æ—¥å¿—çš„ä¿å­˜ä½ç½®,éšä¾¿æ”¹æ”¹å°±èƒ½ç”¨äº†.\npackage loggerimport (\t&quot;os&quot;\t&quot;time&quot;\t&quot;go.uber.org/zap&quot;\t&quot;go.uber.org/zap/zapcore&quot;\t&quot;gopkg.in/natefinch/lumberjack.v2&quot;)// Logger å°è£… zap.SugaredLoggerï¼Œæä¾›å¸¦è½®è½¬åŠŸèƒ½çš„æ—¥å¿—è®°å½•å™¨type Logger struct &#123;\t// sugar æ˜¯ zap æä¾›çš„è¯­æ³•ç³– loggerï¼Œæ”¯æŒ printf é£æ ¼çš„æ ¼å¼åŒ–è¾“å‡º (Info, Infof ç­‰)\tsugar *zap.SugaredLogger\t// rotator ä¿å­˜ lumberjack å®ä¾‹ï¼Œç”¨äºåœ¨ Close æ—¶æ˜¾å¼å…³é—­æ–‡ä»¶å¥æŸ„\trotator *lumberjack.Logger&#125;// NewLogger åˆå§‹åŒ–æ—¥å¿—æ¨¡å—// logDir: æ—¥å¿—æ–‡ä»¶ä¿å­˜çš„ç›®å½• (ä¾‹å¦‚ &quot;./logs&quot;)func NewLogger(logDir string) (*Logger, error) &#123;\t// 1. é…ç½® Lumberjack (æ—¥å¿—åˆ‡å‰²/è½®è½¬æ ¸å¿ƒ)\t// å®ƒæ˜¯ zap çš„åº•å±‚è¾“å‡ºç›®æ ‡ (WriteSyncer)\trotator := &amp;lumberjack.Logger&#123;\t\tFilename:   logDir + &quot;/app.log&quot;, // æ—¥å¿—æ–‡ä»¶çš„å®Œæ•´è·¯å¾„\t\tMaxSize:    10,                  // å•ä¸ªæ—¥å¿—æ–‡ä»¶çš„æœ€å¤§ä½“ç§¯ï¼Œå•ä½ï¼šMB\t\tMaxBackups: 30,                  // æœ€å¤šä¿ç•™çš„å†å²æ—¥å¿—æ–‡ä»¶ä¸ªæ•° (æ—§æ–‡ä»¶ä¼šè¢«åˆ é™¤)\t\tMaxAge:     30,                  // æœ€å¤šä¿ç•™çš„å†å²æ—¥å¿—å¤©æ•° (æ—§æ–‡ä»¶ä¼šè¢«åˆ é™¤)\t\tCompress:   true,                // æ˜¯å¦å‹ç¼©æ—§æ—¥å¿— (ä¿å­˜ä¸º .gz æ ¼å¼ä»¥èŠ‚çœç©ºé—´)\t\tLocalTime:  true,                // å¤‡ä»½æ–‡ä»¶åæ˜¯å¦ä½¿ç”¨æœ¬åœ°æ—¶é—´ (é»˜è®¤æ˜¯ UTC)\t&#125;\t// 2. é…ç½® Zap çš„æ—¥å¿—ç¼–ç æ ¼å¼ (Encoder)\t// è¿™é‡Œå†³å®šäº†æ—¥å¿—åœ¨æ–‡ä»¶ä¸­é•¿ä»€ä¹ˆæ ·\tencoderConfig := zapcore.EncoderConfig&#123;\t\tTimeKey:        &quot;time&quot;,                         // æ—¶é—´å­—æ®µçš„ key å\t\tLevelKey:       &quot;level&quot;,                        // çº§åˆ«å­—æ®µçš„ key å\t\tNameKey:        &quot;logger&quot;,                       // logger åç§°å­—æ®µ\t\tCallerKey:      &quot;caller&quot;,                       // è°ƒç”¨è€…ä»£ç è¡Œå·å­—æ®µ\t\tMessageKey:     &quot;msg&quot;,                          // æ¶ˆæ¯å†…å®¹å­—æ®µ\t\tStacktraceKey:  &quot;stacktrace&quot;,                   // å †æ ˆè·Ÿè¸ªå­—æ®µ\t\tLineEnding:     zapcore.DefaultLineEnding,      // æ¢è¡Œç¬¦ (\\n)\t\tEncodeLevel:    zapcore.CapitalLevelEncoder,    // çº§åˆ«æ ¼å¼: å¤§å†™ (INFO, ERROR)\t\tEncodeTime:     customTimeEncoder,              // æ—¶é—´æ ¼å¼: è‡ªå®šä¹‰å‡½æ•° (è§ä¸‹æ–¹)\t\tEncodeDuration: zapcore.SecondsDurationEncoder, // æ‰§è¡Œæ¶ˆè€—æ—¶é—´æ ¼å¼\t\tEncodeCaller:   zapcore.ShortCallerEncoder,     // è°ƒç”¨è€…æ ¼å¼: åŒ…å/æ–‡ä»¶å:è¡Œå·\t&#125;\t// 3. åˆ›å»º Core (æ ¸å¿ƒé€»è¾‘)\t// NewMultiWriteSyncer å…è®¸æˆ‘ä»¬å°†æ—¥å¿—åŒæ—¶è¾“å‡ºåˆ° [æ–‡ä»¶] å’Œ [æ§åˆ¶å°]\twriteSyncer := zapcore.NewMultiWriteSyncer(\t\tzapcore.AddSync(rotator),   // è¾“å‡ºåˆ°æ–‡ä»¶ (å¸¦è½®è½¬)\t\tzapcore.AddSync(os.Stdout), // è¾“å‡ºåˆ°æ§åˆ¶å° (æ–¹ä¾¿å¼€å‘è°ƒè¯•)\t)\tcore := zapcore.NewCore(\t\tzapcore.NewConsoleEncoder(encoderConfig), // ä½¿ç”¨ Console ç¼–ç å™¨ (äººç±»å¯è¯»æ€§æ›´å¥½ï¼Œä¸åƒ JSON é‚£ä¹ˆä¹±)\t\twriteSyncer,                              // è¾“å‡ºä½ç½®\t\tzapcore.InfoLevel,                        // æ—¥å¿—çº§åˆ« (Info åŠä»¥ä¸Šæ‰è®°å½•)\t)\t// 4. æ„å»º Logger å®ä¾‹\t// AddCaller: æ˜¾ç¤ºæ—¥å¿—æ˜¯å“ªä¸€è¡Œä»£ç æ‰“å‡ºæ¥çš„\t// AddCallerSkip(1): å…³é”®ç‚¹ï¼å› ä¸ºæˆ‘ä»¬å°è£…äº†ä¸€å±‚ Logger ç»“æ„ä½“ï¼Œ\t// å¦‚æœä¸è·³è¿‡ 1 å±‚ï¼Œæ‰€æœ‰æ—¥å¿—æ˜¾ç¤ºçš„è¡Œå·éƒ½ä¼šæ˜¯ logger.go ä¸­çš„ Info å‡½æ•°ï¼Œè€Œä¸æ˜¯ä¸šåŠ¡ä»£ç çš„ä½ç½®ã€‚\tzapLogger := zap.New(core, zap.AddCaller(), zap.AddCallerSkip(1))\treturn &amp;Logger&#123;\t\tsugar:   zapLogger.Sugar(), // ä½¿ç”¨ Sugar æ¨¡å¼ï¼Œæ”¯æŒ Infof è¿™ç§ printf é£æ ¼\t\trotator: rotator,\t&#125;, nil&#125;// customTimeEncoder è‡ªå®šä¹‰æ—¶é—´æ ¼å¼åŒ– (ä¾‹å¦‚: 2025-12-14 22:30:05.123)func customTimeEncoder(t time.Time, enc zapcore.PrimitiveArrayEncoder) &#123;\tenc.AppendString(t.Format(&quot;2006-01-02 15:04:05.000&quot;))&#125;// Info å¯¹åº”åŸæœ‰çš„ Info æ–¹æ³•ï¼Œæ”¯æŒ formattingfunc (l *Logger) Info(format string, v ...interface&#123;&#125;) &#123;\t// Infof å†…éƒ¨è‡ªåŠ¨å¤„ç† fmt.Sprintfï¼Œä¸éœ€è¦ä½ æ‰‹åŠ¨ format\tl.sugar.Infof(format, v...)&#125;// Error å¯¹åº”åŸæœ‰çš„ Error æ–¹æ³•func (l *Logger) Error(format string, v ...interface&#123;&#125;) &#123;\tl.sugar.Errorf(format, v...)&#125;// Warn å¯¹åº”åŸæœ‰çš„ Warn æ–¹æ³•func (l *Logger) Warn(format string, v ...interface&#123;&#125;) &#123;\tl.sugar.Warnf(format, v...)&#125;// Close åœ¨ç¨‹åºé€€å‡ºæ—¶è°ƒç”¨ï¼Œç¡®ä¿ç¼“å†²åŒºæ—¥å¿—åˆ·å…¥ç£ç›˜func (l *Logger) Close() &#123;\t// Sync åˆ·æ–°ç¼“å†²åŒº\t_ = l.sugar.Sync()\t// å…³é—­æ–‡ä»¶å¥æŸ„\tif l.rotator != nil &#123;\t\t_ = l.rotator.Close()\t&#125;&#125;","categories":["Go"],"tags":["Go"]},{"title":"Linuxä¸‹éƒ¨ç½²Mihomo","url":"/2025/12/31/2026-01-15-01/","content":"å¯åŠ¨å®¹å™¨è¿è¡Œä¸‹é¢çš„è„šæœ¬å¯åŠ¨å®¹å™¨\n#!/usr/bin/env bash__main() &#123;  &#123;    # é•œåƒå‡†å¤‡    _image1=&quot;ghcr.io/lwmacct/250210-cr-mihomo:v1.19.3-t2503220&quot;    _image2=&quot;$(docker images -q $_image1)&quot;    if [[ &quot;$_image2&quot; == &quot;&quot; ]]; then      docker pull $_image1      _image2=&quot;$(docker images -q $_image1)&quot;    fi  &#125;  _apps_name=&quot;service-mihomo&quot;  _apps_data=&quot;/data/$_apps_name&quot;  cat &lt;&lt;EOF | docker compose -p &quot;$_apps_name&quot; -f - up -d --remove-orphansservices:  main:    container_name: $_apps_name    image: &quot;$_image2&quot;    restart: always    privileged: true    network_mode: host    volumes:      - $_apps_data:/apps/data    environment:      - TZ=Asia/ShanghaiEOF&#125;__main\n\nç¼–å†™é…ç½®è¿›å…¥å®¹å™¨å†…éƒ¨,è®¿é—®config.yamlé…ç½®æ–‡ä»¶,æ ¹æ®ä¸‹é¢æä¾›çš„é…ç½®æŒ‰éœ€ä¿®æ”¹\næ³¨æ„,ä¸‹é¢çš„é…ç½®å¯ç”¨äº†TUNæ¨¡å¼,å¹¶ä¸”ä»…ä»£ç†githubç›¸å…³çš„åŸŸå,å¦‚æœä½ éœ€è¦ä»£ç†å…¶ä»–åŸŸå,è¯·æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹è§„åˆ™ã€‚\n# åŸºç¡€é…ç½®port: 7890socks-port: 7891mixed-port: 7892allow-lan: truemode: rulelog-level: infoexternal-controller: 0.0.0.0:9090secret: &quot;123456&quot;dns:  enable: true  ipv6: false  listen: 0.0.0.0:1053  enhanced-mode: fake-ip  # å…³é”®ï¼šè®©ç³»ç»Ÿè®¤ä¸ºæ‰€æœ‰åŸŸåéƒ½åœ¨ä»£ç†èŒƒå›´å†…  nameserver:    - 119.29.29.29    - 223.5.5.5# å¯ç”¨ tun æ¨¡å¼tun:  enable: true  stack: system # æˆ–è€… gvisor  auto-route: true # è‡ªåŠ¨è®¾ç½®ç³»ç»Ÿè·¯ç”±è¡¨ï¼Œæ¥ç®¡å…¨å±€æµé‡  auto-detect-interface: true # è‡ªåŠ¨æ£€æµ‹å‡ºå£ç½‘å¡# èŠ‚ç‚¹ä¿¡æ¯proxies:  - name: &quot;ç¾å›½US01èŠ‚ç‚¹&quot;    server: &lt;ä½ çš„èŠ‚ç‚¹IP/åŸŸå&gt;    port: &lt;ä½ çš„èŠ‚ç‚¹ç«¯å£&gt;    type: &lt;ä½ çš„èŠ‚ç‚¹ç±»å‹&gt;    cipher: &lt;ä½ çš„èŠ‚ç‚¹åŠ å¯†æ–¹å¼&gt;    password: &quot;&lt;ä½ çš„èŠ‚ç‚¹å¯†ç &gt;&quot;    udp: true# ç­–ç•¥ç»„proxy-groups:  - name: &quot;ğŸš€ ä»£ç†é€‰æ‹©&quot;    type: select    proxies:      - &quot;ç¾å›½US01èŠ‚ç‚¹&quot;      - DIRECT# è§„åˆ™é…ç½® (Rule)rules:  # å¼ºåˆ¶ GitHub æµé‡èµ°ä»£ç†  - DOMAIN-KEYWORD,github,ğŸš€ ä»£ç†é€‰æ‹©  - DOMAIN-SUFFIX,github.com,ğŸš€ ä»£ç†é€‰æ‹©  - DOMAIN-SUFFIX,githubassets.com,ğŸš€ ä»£ç†é€‰æ‹©  - DOMAIN-SUFFIX,githubusercontent.com,ğŸš€ ä»£ç†é€‰æ‹©  - DOMAIN-SUFFIX,gist.github.com,ğŸš€ ä»£ç†é€‰æ‹©    # å›½å†…å¸¸è§æœåŠ¡ç›´è¿ (é˜²æ­¢æœ¬åœ°æœåŠ¡è¯¯èµ°ä»£ç†)  - GEOIP,CN,DIRECT    # æ¼ç½‘ä¹‹é±¼å…¨éƒ¨ç›´è¿  - MATCH,DIRECT","categories":["è¿ç»´"],"tags":["è¿ç»´"]},{"title":"Linuxä¸‹éƒ¨ç½²ComfyUI","url":"/2026/01/28/2026-01-28-01/","content":"ç¯å¢ƒå‡†å¤‡ä½ éœ€è¦å‡†å¤‡ä¸€ä¸ªLinuxæœåŠ¡å™¨,å¹¶ä¸”å®‰è£…äº†gitå’ŒPythonç¯å¢ƒ,å»ºè®® Python ä½¿ç”¨ 3.1x - 3.12.x ç‰ˆæœ¬,æˆ‘è¿™è¾¹ä½¿ç”¨çš„æ˜¯Python 3.12.11ã€‚\nè‡³äºæ€ä¹ˆå®‰è£…å°±ä¸æäº†,ç½‘ä¸Šæ•™ç¨‹å¾ˆå¤š,è¿™é‡Œä¸»è¦è¯´ä¸€ä¸‹æ€ä¹ˆéƒ¨ç½² ComfyUIã€‚\nå…‹éš†ä»“åº“å®˜æ–¹æ–‡æ¡£æœ‰æ•™ç¨‹: https://comfyui-wiki.com/zh/install/install-comfyui/install-comfyui-on-linux\nå…ˆå» Github æŠŠä»“åº“å…‹éš†ä¸‹æ¥:\ngit clone https://github.com/Comfy-Org/ComfyUI.git\n\næ³¨æ„,å¦‚æœä½ æ˜¯å›½å†…çº¿è·¯,æ²¡æ³•ç›´æ¥è®¿é—® github,é‚£ä½ å¯ä»¥å°è¯•ä½¿ç”¨ä»£ç†è®¿é—®,æˆ–è€…ä½¿ç”¨åœ¨çº¿åŠ é€Ÿä»£ç†,æ¯”å¦‚: https://gh-proxy.com/\ngit clone https://gh-proxy.org/https://github.com/Comfy-Org/ComfyUI.git\n\nå®‰è£…ä¾èµ–ä»“åº“å…‹éš†ä¸‹æ¥åè¿›å…¥ä»“åº“ç›®å½•,å…ˆè¿›å…¥è™šæ‹Ÿç¯å¢ƒ,ç„¶åå®‰è£…ä¾èµ–:\ncd ComfyUI # è¿›å…¥ä»“åº“ç›®å½•python -m venv venv # åˆ›å»ºè™šæ‹Ÿç¯å¢ƒsource venv/bin/activate # æ¿€æ´»è™šæ‹Ÿç¯å¢ƒpip install --upgrade pip # å‡çº§ pip(å¯é€‰,ä½†æ¨è)pip install -r requirements.txt # å®‰è£…ä¾èµ–\n\nåˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒå,ä½ çš„ç»ˆç«¯å‰é¢åº”è¯¥å¸¦æœ‰(venv)å­—æ ·,è¡¨ç¤ºä½ å·²ç»è¿›å…¥äº†è™šæ‹Ÿç¯å¢ƒã€‚\n(venv) root@localhost:~/ComfyUI#\n\nå¯åŠ¨æœåŠ¡python main.py\n\nä¸è¿‡åœ¨å¯åŠ¨ä¹‹å‰,ä½ å¯ä»¥é€‰æ‹©æ·»åŠ ä¸€äº›å¯åŠ¨å‚æ•°,å¦‚ä¸‹:\n\n\n\nå‚æ•°åˆ†ç±»\nå¯åŠ¨å‚æ•° (Argument)\nç¤ºä¾‹ (Example)\nè¯¦ç»†è¯´æ˜ (Description)\né€‚ç”¨åœºæ™¯\n\n\n\nç½‘ç»œä¸æœåŠ¡\nâ€“listen\nâ€“listen\nç›‘å¬æ‰€æœ‰ç½‘ç»œæ¥å£ (0.0.0.0)ã€‚å…è®¸å±€åŸŸç½‘å†…çš„å…¶ä»–è®¾å¤‡ï¼ˆæ‰‹æœºã€iPadã€å…¶ä»–ç”µè„‘ï¼‰è®¿é—®ä½ çš„ ComfyUIã€‚,å±€åŸŸç½‘è¿œç¨‹æ“ä½œæ—¶å¿…å¡«ã€‚\nå±€åŸŸç½‘è¿œç¨‹æ“ä½œæ—¶å¿…å¡«ã€‚\n\n\nâ€“port\nâ€“port 8189\næŒ‡å®šæœåŠ¡ç«¯å£ã€‚é»˜è®¤æ˜¯ 8188ã€‚\nç«¯å£å†²çªï¼Œæˆ–åŒæ—¶å¼€å¯å¤šä¸ª ComfyUI å®ä¾‹æ—¶ã€‚\nç«¯å£å†²çªï¼Œæˆ–åŒæ—¶å¼€å¯å¤šä¸ª ComfyUI å®ä¾‹æ—¶ã€‚\n\n\nâ€“auto-launch\nâ€“auto-launch\nè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ã€‚æœåŠ¡å¯åŠ¨æˆåŠŸåï¼Œè‡ªåŠ¨åœ¨é»˜è®¤æµè§ˆå™¨ä¸­æ‰“å¼€ Web ç•Œé¢ã€‚\næ‡’äººå¿…å¤‡ï¼Œçœå»æ‰‹åŠ¨è¾“ç½‘å€ã€‚\næ‡’äººå¿…å¤‡ï¼Œçœå»æ‰‹åŠ¨è¾“ç½‘å€ã€‚\n\n\nâ€“enable-cors-header\nâ€“enable-cors-header\nå…è®¸è·¨åŸŸèµ„æºå…±äº« (CORS)ã€‚æ·»åŠ  Access-Control-Allow-Origin: * å¤´ã€‚\nå¼€å‘è€…è°ƒè¯•ï¼Œæˆ–å°† ComfyUI ä½œä¸ºåç«¯ API ç»™å…¶ä»–å‰ç«¯è°ƒç”¨æ—¶ã€‚\nå¼€å‘è€…è°ƒè¯•ï¼Œæˆ–å°† ComfyUI ä½œä¸ºåç«¯ API ç»™å…¶ä»–å‰ç«¯è°ƒç”¨æ—¶ã€‚\n\n\nâ€“tls-keyfile\nâ€“tls-keyfile key.pem\nå¯ç”¨ HTTPS åŠ å¯†è®¿é—®ã€‚éœ€æŒ‡å®šå¯†é’¥å’Œè¯ä¹¦è·¯å¾„ã€‚\nåœ¨ä¸å®‰å…¨çš„ç½‘ç»œç¯å¢ƒä¸­ä½¿ç”¨æ—¶å¢åŠ å®‰å…¨æ€§ã€‚\nåœ¨ä¸å®‰å…¨çš„ç½‘ç»œç¯å¢ƒä¸­ä½¿ç”¨æ—¶å¢åŠ å®‰å…¨æ€§ã€‚\n\n\nâ€“tls-certfile\nâ€“tls-certfile cert.pem\nå¯ç”¨ HTTPS åŠ å¯†è®¿é—®ã€‚éœ€æŒ‡å®šå¯†é’¥å’Œè¯ä¹¦è·¯å¾„ã€‚\nåœ¨ä¸å®‰å…¨çš„ç½‘ç»œç¯å¢ƒä¸­ä½¿ç”¨æ—¶å¢åŠ å®‰å…¨æ€§ã€‚\nåœ¨ä¸å®‰å…¨çš„ç½‘ç»œç¯å¢ƒä¸­ä½¿ç”¨æ—¶å¢åŠ å®‰å…¨æ€§ã€‚\n\n\nâ€“lowvram\nâ€“lowvram\nä½æ˜¾å­˜æ¨¡å¼ã€‚å¼ºåˆ¶å°†æ¨¡å‹åˆ†å—åŠ è½½ï¼Œç”¨æ—¶é—´æ¢ç©ºé—´ã€‚\næ˜¾å­˜å°äº 4GB-6GBï¼Œæˆ–é¢‘ç¹çˆ†æ˜¾å­˜æ—¶ã€‚\næ˜¾å­˜å°äº 4GB-6GBï¼Œæˆ–é¢‘ç¹çˆ†æ˜¾å­˜æ—¶ã€‚\n\n\nâ€“medvram\nâ€“medvram\nä¸­ç­‰æ˜¾å­˜æ¨¡å¼ã€‚åœ¨é€Ÿåº¦å’Œæ˜¾å­˜å ç”¨ä¹‹é—´å¹³è¡¡ã€‚\næ˜¾å­˜ 6GB-8GBï¼Œæ—¢æƒ³çœç‚¹æ˜¾å­˜åˆä¸æƒ³å¤ªæ…¢ã€‚\næ˜¾å­˜ 6GB-8GBï¼Œæ—¢æƒ³çœç‚¹æ˜¾å­˜åˆä¸æƒ³å¤ªæ…¢ã€‚\n\n\nâ€“force-fp16\nâ€“force-fp16\nå¼ºåˆ¶åŠç²¾åº¦ã€‚å¼ºåˆ¶æ¨¡å‹ä»¥ FP16 è¿è¡Œã€‚\néƒ¨åˆ†æ˜¾å¡ï¼ˆå¦‚ 16ç³»åˆ—ï¼‰é»˜è®¤ FP32 å¯¼è‡´ OOMï¼Œæˆ–ä¸ºäº†ç¨å¾®æå‡é€Ÿåº¦ã€‚\néƒ¨åˆ†æ˜¾å¡ï¼ˆå¦‚ 16ç³»åˆ—ï¼‰é»˜è®¤ FP32 å¯¼è‡´ OOMï¼Œæˆ–ä¸ºäº†ç¨å¾®æå‡é€Ÿåº¦ã€‚\n\n\nâ€“cpu\nâ€“cpu\nä»… CPU æ¨¡å¼ã€‚ä¸ä½¿ç”¨ GPUã€‚\næ²¡æœ‰ N å¡ï¼Œæˆ–è€…ç”¨æ¥æµ‹è¯•èŠ‚ç‚¹é€»è¾‘ï¼ˆé€Ÿåº¦ææ…¢ï¼‰ã€‚\næ²¡æœ‰ N å¡ï¼Œæˆ–è€…ç”¨æ¥æµ‹è¯•èŠ‚ç‚¹é€»è¾‘ï¼ˆé€Ÿåº¦ææ…¢ï¼‰ã€‚\n\n\nâ€“output-directory\nâ€“output-directory D:\\AI_Output\nè‡ªå®šä¹‰è¾“å‡ºè·¯å¾„ã€‚ä¿®æ”¹å›¾ç‰‡ç”Ÿæˆçš„é»˜è®¤ä¿å­˜æ–‡ä»¶å¤¹ã€‚\næƒ³æŠŠå›¾å­˜åˆ°æœºæ¢°ç¡¬ç›˜æˆ– NAS ä¸Šã€‚\næƒ³æŠŠå›¾å­˜åˆ°æœºæ¢°ç¡¬ç›˜æˆ– NAS ä¸Šã€‚\n\n\nâ€“input-directory\nâ€“input-directory D:\\AI_Input\nè‡ªå®šä¹‰è¾“å…¥è·¯å¾„ã€‚ä¿®æ”¹â€œLoad Imageâ€èŠ‚ç‚¹çš„é»˜è®¤è¯»å–æ–‡ä»¶å¤¹ã€‚\næ–¹ä¾¿è¯»å–ç»Ÿä¸€å›¾åº“ã€‚\næ–¹ä¾¿è¯»å–ç»Ÿä¸€å›¾åº“ã€‚\n\n\nâ€“extra-model-paths-config\nâ€“extra-model-paths-config my_paths.yaml\nåŠ è½½é¢å¤–çš„æ¨¡å‹è·¯å¾„é…ç½®ã€‚\nä¸ SD WebUI å…±ç”¨å¤§æ¨¡å‹ï¼ˆCheckpointsï¼‰æ—¶æ ¸å¿ƒå‚æ•°ã€‚\nä¸ SD WebUI å…±ç”¨å¤§æ¨¡å‹ï¼ˆCheckpointsï¼‰æ—¶æ ¸å¿ƒå‚æ•°ã€‚\n\n\nâ€“preview-method\nâ€“preview-method fast\nâ€œè®¾ç½®é‡‡æ ·é¢„è§ˆæ–¹å¼ã€‚å¯é€‰ï¼šauto, fast, smart, noneã€‚â€\nnone å¯å¾®å¼±æå‡é€Ÿåº¦ï¼›fast æä¾›ä½å»¶è¿Ÿé¢„è§ˆã€‚\nnone å¯å¾®å¼±æå‡é€Ÿåº¦ï¼›fast æä¾›ä½å»¶è¿Ÿé¢„è§ˆã€‚\n\n\nâ€“dont-print-server\nâ€“dont-print-server\né™é»˜æ¨¡å¼ã€‚ä¸åœ¨æ§åˆ¶å°æ‰“å°æœåŠ¡å™¨æ—¥å¿—ã€‚\næƒ³è¦ä¿æŒç»ˆç«¯å¹²å‡€æ—¶ã€‚\næƒ³è¦ä¿æŒç»ˆç«¯å¹²å‡€æ—¶ã€‚\n\n\nä¸¾ä¸ªä¾‹å­,æˆ‘å¯åŠ¨æœåŠ¡åéœ€è¦ç›‘å¬æ‰€æœ‰ç½‘ç»œæ¥å£,å¹¶ä¸”æŒ‡å®šæœåŠ¡ç«¯å£ä¸º 8189,é‚£ä¹ˆæˆ‘å°±å¯ä»¥è¿™æ ·å¯åŠ¨:\npython main.py --listen --port 8189\n\nå¯åŠ¨æˆåŠŸå,ä½ å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è®¿é—®http://localhost:8189æ¥è®¿é—® ComfyUI çš„ Web ç•Œé¢ã€‚\nå‘ç‚¹æ³¨æ„å¯¹äºComfyUIæ¥è¯´,ComfyUI-Manageræ˜¯å¿…ä¸å¯å°‘çš„,å®ƒå¯ä»¥å¸®åŠ©ä½ ç®¡ç†,å®‰è£…,å¸è½½ä¾èµ–ç­‰,ä½†æ˜¯é€šè¿‡å®˜æ–¹çš„--enable-managerå‚æ•°å¯åŠ¨çš„ComfyUI-Managerä¸å¤ªå¯é .\næˆ‘åœ¨ä½¿ç”¨æœŸé—´ç»å¸¸ä¼šå‡ºç°å®‰è£…ä¾èµ–æ—¶å¡æ­»,ä¾èµ–ä¸‹è½½ä¸ä¸‹æ¥ç­‰é—®é¢˜,æˆ‘çš„å»ºè®®æ˜¯æ”¾å¼ƒå®˜æ–¹æä¾›çš„è¿™ä¸ªå¯åŠ¨å‚æ•°,è½¬è€Œè‡ªå·±æ‰‹åŠ¨å®‰è£…è¯¥æ’ä»¶!\næœ¬ç«™é‡Œé¢æä¾›äº†è¯¦ç»†çš„å®‰è£…æ€è·¯,å¯ä»¥æ‰¾ä¸€ä¸‹,åœ¨ ComfyUI åˆ†ç±»ä¸­,æœ‰ä¸€ç¯‡æ–‡ç« æ˜¯å…³äº ComfyUI-Manager çš„å®‰è£…çš„,å¯ä»¥å‚è€ƒä¸€ä¸‹.\n","categories":["ComfyUI"],"tags":["ComfyUI"]},{"title":"ComfyUIå®‰è£…Manageræ’ä»¶","url":"/2026/01/28/2026-01-28-02/","content":"è¿›å…¥æ’ä»¶ç›®å½•ComfyUI çš„æ’ä»¶ç›®å½•é»˜è®¤æ˜¯åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ custom_nodes ç›®å½•,æ‰€ä»¥ä½ éœ€è¦è¿›å…¥è¿™ä¸ªç›®å½•ã€‚\ncd ComfyUI/custom_nodes\n\nå…‹éš†ä»“åº“å‰å¾€Githubå°†ä»“åº“å…‹éš†ä¸‹æ¥,å¦‚æœæ˜¯å›½å†…çº¿è·¯,åˆ™ç»§ç»­ä½¿ç”¨ä»£ç†å°±è¡Œ,å¦‚ä½•ä½¿ç”¨è¯·é˜…è¯»Linuxä¸‹éƒ¨ç½²ComfyUIè¿™ç¯‡æ–‡ç« ã€‚\nä»“åº“åœ°å€: https://github.com/Comfy-Org/ComfyUI-Manager\ngit clone https://github.com/Comfy-Org/ComfyUI-Manager.git\n\nå®‰è£…ä¾èµ–è¿›å…¥ä»“åº“ç›®å½•,å®‰è£…ä¾èµ–:\ncd ComfyUI-Managerpip install -r requirements.txt\n\né‡å¯æœåŠ¡ä¾èµ–å®‰è£…å®Œæˆå,æŠŠä½ æ­£åœ¨è¿è¡Œçš„ ComfyUI æœåŠ¡é‡å¯ä¸€ä¸‹å°±è¡Œ,å¦‚æœä¸å‡ºæ„å¤–,ä½ è®¿é—® WEB çš„è¯,åº”è¯¥èƒ½çœ‹è§ Manager çš„æŒ‰é’®äº†\n","categories":["ComfyUI"],"tags":["ComfyUI"]},{"title":"ComfyUIå¯¼å‡ºAPIæ¥å£","url":"/2026/01/29/2026-01-29-01/","content":"å¯¼å‡ºAPIæ¥å£è®¿é—®ç½‘é¡µ,ä¾æ¬¡ç‚¹å‡»: è®¾ç½® -&gt; å¼€å‘è€…æ¨¡å¼ -&gt; å¯ç”¨\nç„¶åæ‰“å¼€ä½ éœ€è¦å¯¼å‡ºçš„å·¥ä½œæµ,ç‚¹å‡»å¯¼å‡ºAPI,å°±èƒ½ä¸‹è½½ä¸€ä¸ªJSONæ–‡ä»¶,è¿™ä¸ªæ–‡ä»¶åŒ…å«äº†å·¥ä½œæµçš„æ‰€æœ‰ä¿¡æ¯,åŒ…æ‹¬èŠ‚ç‚¹ã€å‚æ•°ã€è¾“å‡ºç­‰ã€‚\nå’±éœ€è¦åšçš„å°±æ˜¯æ‰¾åˆ°è‡ªå·±è¦ä¿®æ”¹çš„å‚æ•°,æ”¹å¥½åå‘é€è¯·æ±‚å³å¯,æ¯”å¦‚æˆ‘çš„:\n&#123;  &quot;60&quot;: &#123;    &quot;inputs&quot;: &#123;      &quot;filename_prefix&quot;: &quot;ComfyUI&quot;,      &quot;images&quot;: [        &quot;102:8&quot;,        0      ]    &#125;,    &quot;class_type&quot;: &quot;SaveImage&quot;,    &quot;_meta&quot;: &#123;      &quot;title&quot;: &quot;ä¿å­˜å›¾åƒ&quot;    &#125;  &#125;,  &quot;78&quot;: &#123;    &quot;inputs&quot;: &#123;      &quot;image&quot;: &quot;123.jpg&quot;    &#125;,    &quot;class_type&quot;: &quot;LoadImage&quot;,    &quot;_meta&quot;: &#123;      &quot;title&quot;: &quot;åŠ è½½å›¾åƒ&quot;    &#125;  &#125;,  &quot;93&quot;: &#123;    &quot;inputs&quot;: &#123;      &quot;upscale_method&quot;: &quot;lanczos&quot;,      &quot;megapixels&quot;: 1.5,      &quot;resolution_steps&quot;: 1,      &quot;image&quot;: [        &quot;78&quot;,        0      ]    &#125;,    &quot;class_type&quot;: &quot;ImageScaleToTotalPixels&quot;,    &quot;_meta&quot;: &#123;      &quot;title&quot;: &quot;ç¼©æ”¾å›¾åƒï¼ˆåƒç´ ï¼‰&quot;    &#125;  &#125;,  &quot;102:39&quot;: &#123;    &quot;inputs&quot;: &#123;      &quot;vae_name&quot;: &quot;qwen_image_vae.safetensors&quot;    &#125;,    &quot;class_type&quot;: &quot;VAELoader&quot;,    &quot;_meta&quot;: &#123;      &quot;title&quot;: &quot;åŠ è½½VAE&quot;    &#125;  &#125;,  &quot;102:77&quot;: &#123;    &quot;inputs&quot;: &#123;      &quot;prompt&quot;: &quot;&quot;,      &quot;clip&quot;: [        &quot;102:38&quot;,        0      ],      &quot;vae&quot;: [        &quot;102:39&quot;,        0      ],      &quot;image&quot;: [        &quot;78&quot;,        0      ]    &#125;,    &quot;class_type&quot;: &quot;TextEncodeQwenImageEdit&quot;,    &quot;_meta&quot;: &#123;      &quot;title&quot;: &quot;æ–‡æœ¬ç¼–ç ï¼ˆQwenImageEditï¼‰&quot;    &#125;  &#125;,  &quot;102:75&quot;: &#123;    &quot;inputs&quot;: &#123;      &quot;strength&quot;: 1,      &quot;model&quot;: [        &quot;102:66&quot;,        0      ]    &#125;,    &quot;class_type&quot;: &quot;CFGNorm&quot;,    &quot;_meta&quot;: &#123;      &quot;title&quot;: &quot;CFGå½’ä¸€åŒ–&quot;    &#125;  &#125;,  &quot;102:66&quot;: &#123;    &quot;inputs&quot;: &#123;      &quot;shift&quot;: 3,      &quot;model&quot;: [        &quot;102:89&quot;,        0      ]    &#125;,    &quot;class_type&quot;: &quot;ModelSamplingAuraFlow&quot;,    &quot;_meta&quot;: &#123;      &quot;title&quot;: &quot;é‡‡æ ·ç®—æ³•ï¼ˆAuraFlowï¼‰&quot;    &#125;  &#125;,  &quot;102:8&quot;: &#123;    &quot;inputs&quot;: &#123;      &quot;samples&quot;: [        &quot;102:3&quot;,        0      ],      &quot;vae&quot;: [        &quot;102:39&quot;,        0      ]    &#125;,    &quot;class_type&quot;: &quot;VAEDecode&quot;,    &quot;_meta&quot;: &#123;      &quot;title&quot;: &quot;VAEè§£ç &quot;    &#125;  &#125;,  &quot;102:37&quot;: &#123;    &quot;inputs&quot;: &#123;      &quot;unet_name&quot;: &quot;qwen_image_edit_fp8_e4m3fn.safetensors&quot;,      &quot;weight_dtype&quot;: &quot;default&quot;    &#125;,    &quot;class_type&quot;: &quot;UNETLoader&quot;,    &quot;_meta&quot;: &#123;      &quot;title&quot;: &quot;UNetåŠ è½½å™¨&quot;    &#125;  &#125;,  &quot;102:38&quot;: &#123;    &quot;inputs&quot;: &#123;      &quot;clip_name&quot;: &quot;qwen_2.5_vl_7b_fp8_scaled.safetensors&quot;,      &quot;type&quot;: &quot;qwen_image&quot;,      &quot;device&quot;: &quot;default&quot;    &#125;,    &quot;class_type&quot;: &quot;CLIPLoader&quot;,    &quot;_meta&quot;: &#123;      &quot;title&quot;: &quot;åŠ è½½CLIP&quot;    &#125;  &#125;,  &quot;102:88&quot;: &#123;    &quot;inputs&quot;: &#123;      &quot;pixels&quot;: [        &quot;78&quot;,        0      ],      &quot;vae&quot;: [        &quot;102:39&quot;,        0      ]    &#125;,    &quot;class_type&quot;: &quot;VAEEncode&quot;,    &quot;_meta&quot;: &#123;      &quot;title&quot;: &quot;VAEç¼–ç &quot;    &#125;  &#125;,  &quot;102:89&quot;: &#123;    &quot;inputs&quot;: &#123;      &quot;lora_name&quot;: &quot;Qwen-Image-Edit-Lightning-4steps-V1.0-bf16.safetensors&quot;,      &quot;strength_model&quot;: 1,      &quot;model&quot;: [        &quot;102:37&quot;,        0      ]    &#125;,    &quot;class_type&quot;: &quot;LoraLoaderModelOnly&quot;,    &quot;_meta&quot;: &#123;      &quot;title&quot;: &quot;LoRAåŠ è½½å™¨ï¼ˆä»…æ¨¡å‹ï¼‰&quot;    &#125;  &#125;,  &quot;102:3&quot;: &#123;    &quot;inputs&quot;: &#123;      &quot;seed&quot;: 367727343727927,      &quot;steps&quot;: 4,      &quot;cfg&quot;: 1,      &quot;sampler_name&quot;: &quot;euler&quot;,      &quot;scheduler&quot;: &quot;simple&quot;,      &quot;denoise&quot;: 1,      &quot;model&quot;: [        &quot;102:75&quot;,        0      ],      &quot;positive&quot;: [        &quot;102:76&quot;,        0      ],      &quot;negative&quot;: [        &quot;102:77&quot;,        0      ],      &quot;latent_image&quot;: [        &quot;102:88&quot;,        0      ]    &#125;,    &quot;class_type&quot;: &quot;KSampler&quot;,    &quot;_meta&quot;: &#123;      &quot;title&quot;: &quot;Ké‡‡æ ·å™¨&quot;    &#125;  &#125;,  &quot;102:76&quot;: &#123;    &quot;inputs&quot;: &#123;      &quot;prompt&quot;: &quot;A dynamic split-level water surface view. A large Bass fish with mouth wide open is explosively jumping out of the water, aiming directly at the dangling fish hook. The fish&#x27;s open mouth is just inches away from the hook, closing in fast. Water splashes and droplets are frozen around them. The fish hook is in sharp focus, keeping its metallic texture. The fish is slightly blurred due to fast motion, but clearly interacting with the hook. Keep the fish hook strictly unchanged and sharp as the focal point.&quot;,      &quot;clip&quot;: [        &quot;102:38&quot;,        0      ],      &quot;vae&quot;: [        &quot;102:39&quot;,        0      ],      &quot;image&quot;: [        &quot;78&quot;,        0      ]    &#125;,    &quot;class_type&quot;: &quot;TextEncodeQwenImageEdit&quot;,    &quot;_meta&quot;: &#123;      &quot;title&quot;: &quot;æ–‡æœ¬ç¼–ç ï¼ˆQwenImageEditï¼‰&quot;    &#125;  &#125;&#125;","categories":["ComfyUI"],"tags":["ComfyUI"]},{"title":"åœ¨Linuxä¸‹å®‰è£…Ansible","url":"/2025/05/27/2026-02-16-001/","content":"å®‰è£…å·¥å…·ä¸ç®¡åœ¨å®¿ä¸»æœºç¯å¢ƒè¿˜æ˜¯ Docker å®¹å™¨ç¯å¢ƒä¸‹,éƒ½ä¸€æ ·,ç›´æ¥ç”¨åŒ…ç®¡ç†å™¨å®‰è£…\napt updateapt -y install ansible\n\nor\nyum updateyum -y install ansible\n\nåˆ›å»ºé…ç½®è‡ªå·±æ‰¾ä¸ªè·¯å¾„åˆ›å»ºé…ç½®æ–‡ä»¶å°±è¡Œ,æ¯”å¦‚æˆ‘çš„/apps/data/workspace/ansible\n_home=&quot;/apps/data/workspace/ansible&quot;mkdir -p &quot;$_home&quot; &amp;&amp; cd &quot;$_home&quot;\n\nä½¿ç”¨ ansible-config åœ¨å½“å‰ç›®å½•ä¸‹åˆå§‹åŒ–åˆ›å»ºä¸€ä¸ª ansible.cfg é…ç½®,ç„¶åè‡ªè¡ŒæŒ‰éœ€ä¿®æ”¹\nansible-config init --disabled -t all &gt; ansible.cfg\n\nä¿®æ”¹é…ç½®ä¸€èˆ¬æˆ‘åªä¼šæ”¹è¿™äº›ä¸œè¥¿,ç¨å¾®å†™ä¸ª,look ä¸€ä¸‹è¿™äº›å‚æ•°çš„ä½œç”¨.\n\nå¦‚æœéœ€è¦æ›´å¤šåŠŸèƒ½,éœ€è‡ªè¡Œæ¢ç´¢ ansible çš„é…ç½®,ç›®å‰æˆ‘æä¾›çš„è¿™äº›éƒ½æ˜¯è‡ªå·±ç”¨çš„ä¸Šçš„.\n\n[defaults]forks          = 10ansible_ssh_common_args = -o PreferredAuthentications=publickey,password -o PubkeyAuthentication=yesremote_port    = 22inventory      = /apps/data/workspace/ansible/hosts.inihost_key_checking = Falsestdout_callback = minimaltimeout = 10remote_user = rootlog_path = /apps/data/workspace/ansible/ansible.log.logprivate_key_file = ~/.ssh/id_rsa[ssh_connection]pipelining = Truescp_if_ssh = True\n\n\n\n\nSection\nOption\nValue\nDescription\n\n\n\n[defaults]\nforks\n10\nè®¾ç½®å¹¶è¡Œæ‰§è¡Œä»»åŠ¡çš„æœ€å¤§è¿›ç¨‹æ•°ï¼Œå…è®¸åŒæ—¶å¤„ç† 10 å°ä¸»æœºä»¥æé«˜æ•ˆç‡ã€‚\n\n\n[defaults]\nansible_ssh_common_args\n-o PreferredAuthentications&#x3D;publickey,password -o PubkeyAuthentication&#x3D;yes\næŒ‡å®š SSH è®¤è¯ä¼˜å…ˆé¡ºåºä¸ºå…¬é’¥è®¤è¯ï¼Œå¤±è´¥åå°è¯•å¯†ç è®¤è¯ï¼Œå¹¶å¯ç”¨å…¬é’¥è®¤è¯ã€‚\n\n\n[defaults]\nremote_port\n22\næŒ‡å®šé»˜è®¤ SSH ç«¯å£ä¸º 22ï¼Œå¯é€šè¿‡ inventory æ–‡ä»¶è¦†ç›–ã€‚\n\n\n[defaults]\ninventory\n&#x2F;apps&#x2F;data&#x2F;workspace&#x2F;ansible&#x2F;hosts.ini\næŒ‡å®šé»˜è®¤ inventory æ–‡ä»¶è·¯å¾„ï¼Œå®šä¹‰ Ansible ç®¡ç†çš„ä¸»æœºåˆ—è¡¨ã€‚\n\n\n[defaults]\nhost_key_checking\nFalse\nç¦ç”¨ SSH ä¸»æœºå¯†é’¥æ£€æŸ¥ï¼Œç®€åŒ–åˆæ¬¡è¿æ¥ï¼ˆé™ä½å®‰å…¨æ€§ï¼Œå»ºè®®å—æ§ç¯å¢ƒä½¿ç”¨ï¼‰ã€‚\n\n\n[defaults]\nstdout_callback\nminimal\nè®¾ç½®è¾“å‡ºæ ¼å¼ä¸ºç®€æ´æ¨¡å¼ï¼Œä»…æ˜¾ç¤ºå…³é”®ä¿¡æ¯ï¼Œé€‚åˆè„šæœ¬åŒ–æˆ–å‡å°‘æ—¥å¿—å†—ä½™ã€‚\n\n\n[defaults]\ntimeout\n10\nè®¾ç½® SSH è¿æ¥è¶…æ—¶æ—¶é—´ä¸º 10 ç§’ï¼Œé€‚åˆç½‘ç»œç¨³å®šçš„ç¯å¢ƒã€‚\n\n\n[defaults]\nremote_user\nroot\nè®¾ç½®é»˜è®¤ç™»å½•ç”¨æˆ·ä¸º rootï¼Œéœ€ç¡®ä¿è¿œç¨‹ä¸»æœºå…è®¸ root ç™»å½•ã€‚\n\n\n[defaults]\nlog_path\n&#x2F;apps&#x2F;data&#x2F;workspace&#x2F;ansible&#x2F;ansible.log.log\næŒ‡å®šæ—¥å¿—æ–‡ä»¶è·¯å¾„ï¼Œè®°å½• Ansible è¿è¡Œæ—¥å¿—ï¼Œä¾¿äºè°ƒè¯•ã€‚\n\n\n[defaults]\nprivate_key_file\n~&#x2F;.ssh&#x2F;id_rsa\næŒ‡å®šé»˜è®¤ SSH ç§é’¥è·¯å¾„ï¼Œç¡®ä¿æ–‡ä»¶å­˜åœ¨ä¸”æƒé™æ­£ç¡®ã€‚\n\n\n[ssh_connection]\npipelining\nTrue\nå¯ç”¨ SSH pipeliningï¼Œé€šè¿‡å•ä¸€è¿æ¥å‘é€å¤šæ¡å‘½ä»¤ï¼Œæ˜¾è‘—æé«˜æ‰§è¡Œé€Ÿåº¦ã€‚éœ€ç¦ç”¨è¿œç¨‹ä¸»æœºçš„ requirettyã€‚\n\n\n[ssh_connection]\nscp_if_ssh\nTrue\nå¯ç”¨ SCP åè®®è¿›è¡Œæ–‡ä»¶ä¼ è¾“ï¼Œé€šå¸¸æ¯” SFTP æ›´å¿«ã€‚\n\n\nä¸»æœºåˆ—è¡¨æ¸…å•é‚£ä¸ª/apps/data/workspace/ansible/hosts.iniæ–‡ä»¶å†…å®¹å¤§æ¦‚è¿™æ ·å†™\nå…¶å®ä½ é…ç½®æ–‡ä»¶é‡Œé¢æŒ‡å®šäº†å¯†ç å’Œç”¨æˆ·åçš„è¯,è¿™é‡Œansible_ssh_userå’Œansible_ssh_passå…¶å®å°±å¯ä»¥ä¸å¡«å†™äº† : )\n[temp1]10.10.11.3 ansible_ssh_user=&quot;ç™»å½•ç”¨æˆ·&quot; ansible_ssh_pass=&quot;ç™»å½•å¯†ç &quot;10.10.12.3 ansible_ssh_user=&quot;ç™»å½•ç”¨æˆ·&quot; ansible_ssh_pass=&quot;ç™»å½•å¯†ç &quot;10.10.13.3 ansible_ssh_user=&quot;ç™»å½•ç”¨æˆ·&quot; ansible_ssh_pass=&quot;ç™»å½•å¯†ç &quot;10.10.14.3 ansible_ssh_user=&quot;ç™»å½•ç”¨æˆ·&quot; ansible_ssh_pass=&quot;ç™»å½•å¯†ç &quot;10.10.15.3 ansible_ssh_user=&quot;ç™»å½•ç”¨æˆ·&quot; ansible_ssh_pass=&quot;ç™»å½•å¯†ç &quot;10.10.16.3 ansible_ssh_user=&quot;ç™»å½•ç”¨æˆ·&quot; ansible_ssh_pass=&quot;ç™»å½•å¯†ç &quot;10.10.17.3 ansible_ssh_user=&quot;ç™»å½•ç”¨æˆ·&quot; ansible_ssh_pass=&quot;ç™»å½•å¯†ç &quot;10.10.18.3 ansible_ssh_user=&quot;ç™»å½•ç”¨æˆ·&quot; ansible_ssh_pass=&quot;ç™»å½•å¯†ç &quot;10.10.19.3 ansible_ssh_user=&quot;ç™»å½•ç”¨æˆ·&quot; ansible_ssh_pass=&quot;ç™»å½•å¯†ç &quot;10.10.20.3 ansible_ssh_user=&quot;ç™»å½•ç”¨æˆ·&quot; ansible_ssh_pass=&quot;ç™»å½•å¯†ç &quot;\n\nå¦‚ä½•ä½¿ç”¨ç›´æ¥ä½¿ç”¨ -i æŒ‡å®šä¸»æœºæ¸…å•,ä½¿ç”¨ --config æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„\n\næ³¨æ„æ³¨æ„æ³¨æ„!!!å¦‚æœä½ çš„ ansible ä¸æ”¯æŒâ€“config å‚æ•°,é‚£ä¹ˆä½ ç›´æ¥è®¾ç½®ç¯å¢ƒå˜é‡: export ANSIBLE_CONFIG=/apps/data/workspace/ansible/ansible.cfg\nç„¶åå‘½ä»¤é‡Œé¢çš„â€“config å»æ‰,å†æ‰§è¡Œå°±å¯ä»¥äº†\n\nansible -i /apps/data/workspace/ansible/hosts.ini --config /apps/data/workspace/ansible/ansible.cfg all -m ping\n\nansible -i /apps/data/workspace/ansible/hosts.ini  all -m ping\n\nä½¿ç”¨å‰§æœ¬ç›´æ¥å†å·¥ä½œç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªtask.yamlç„¶åè‡ªå·± AI æˆ–è€…è‡ªå·±å†™è¦å®ç°çš„åŠŸèƒ½\næ¯”å¦‚æˆ‘è®© AI ç»™æˆ‘å†™äº†ä¸€ä¸ª copy è„šæœ¬åˆ°ç›®æ ‡æœºå™¨æ‰§è¡Œå¹¶ä¸”å¾—åˆ°ç»“æœçš„ demo ç¤ºä¾‹\n---- name: Copy and execute script on remote hosts  hosts: &quot;&#123;&#123; target_group &#125;&#125;&quot;  tasks:    - name: Copy script to remote host (force overwrite)      copy:        src: /apps/data/workspace/ansible/scripts/default.sh        dest: /tmp/script.sh        mode: &quot;0755&quot;        force: yes      register: copy_result    - name: Execute the script on remote host      command: /tmp/script.sh      register: script_result      when: copy_result is not failed    - name: Fetch script execution output      debug:        msg: &quot;&#123;&#123; script_result.stdout_lines &#125;&#125;&quot;      when: script_result.stdout is defined    - name: Clean up script on remote host      file:        path: /tmp/script.sh        state: absent      when: script_result is not failed\n\nå‘½ä»¤ä½¿ç”¨ç¤ºä¾‹,å¤§æ¦‚é•¿è¿™æ ·,çœ‹ä¸€ä¸‹ä½ å¤§æ¦‚å°±çŸ¥é“æ€ä¹ˆç”¨äº†,è¿™æ ·çš„è¯åªç»´æŠ¤å‰§æœ¬å°±è¡Œäº†\nansible-playbook -i ./hosts.ini -e target_group=test1 ./task.yaml","categories":["è¿ç»´"],"tags":["è¿ç»´"]},{"title":"Ubuntuå»æ‰ç½‘å¡IPV6","url":"/2025/05/22/2026-02-16-002/","content":"æ¦‚è¿°è¿™é‡Œåªè®°å½•æˆ‘çš„åœºæ™¯,æˆ‘è¿™è¾¹æ˜¯æ²¡æœ‰åšé…ç½®æ–‡ä»¶çš„,ä¸ä¾èµ– netplan çš„.\nä¸´æ—¶ç¦ç”¨å°†è¿™é‡Œçš„ enp0s3 æ¢æˆä½ å®é™…çš„ç½‘å¡å,è¿™ä¼šç«‹å³ç¦ç”¨ IPV6,ä½†é‡å¯åä¼šå¤±æ•ˆ.\nsysctl -w net.ipv6.conf.enp0s3.disable_ipv6=1\n\nä¸´æ—¶ç¦ç”¨æ‰€æœ‰ç½‘å¡çš„ IPv6,å¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤.\nsysctl -w net.ipv6.conf.all.disable_ipv6=1sysctl -w net.ipv6.conf.default.disable_ipv6=1\n\næˆ–è€…ä½ æƒ³æŒä¹…ç¦ç”¨ IPV6,å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤.\n\næ³¨æ„è¿™é‡Œçš„ç¤ºä¾‹å†™çš„æ˜¯ç¦æ­¢æ‰€æœ‰ç½‘å¡çš„ ipv6,ä½ å¾—æ ¹æ®å®é™…æƒ…å†µè‡ªå·±ä¿®æ”¹ä¸€ä¸‹\n\necho &quot;net.ipv6.conf.all.disable_ipv6 = 1&quot; &gt;&gt; /etc/sysctl.confecho &quot;net.ipv6.conf.default.disable_ipv6 = 1&quot; &gt;&gt; /etc/sysctl.confsysctl -p # ç«‹å³ç”Ÿæ•ˆ\n\næ°¸ä¹…ç¦ç”¨å› ä¸ºè¿˜æ²¡ç”¨åˆ°,æ‰€ä»¥æš‚æ—¶æ”¾ä¸€æ”¾,è¿˜æ²¡ç ”ç©¶.\n","categories":["è¿ç»´"],"tags":["è¿ç»´"]},{"title":"è®¡ç®—ç½‘ç»œé‡ä¼ ç‡","url":"/2025/05/18/2026-02-16-003/","content":"è®¡ç®—æ€è·¯é€šè¿‡å‘½ä»¤netstat -sè·å–å…³é”®æ•°æ®åšè®¡ç®—,å–ç³»ç»Ÿæ€»å‘é€æ®µæ•°å’Œé‡æ–°å‘é€çš„æ®µæ•°.\nè·å–é‡æ–°å‘é€çš„æ®µæ•°.\nnetstat -s | grep -i &#x27;segments retransmitted&#x27;\n\nâ•­â”€root@localhost /apps/data/workspace/tmpâ•°â”€# netstat -s | grep -i &#x27;segments retransmitted&#x27;    468164 segments retransmitted\n\nè·å–æ€»å‘é€çš„æ®µæ•°.\nnetstat -s | grep &#x27;segments sent&#x27;\n\nâ•­â”€root@localhost /apps/data/workspace/tmpâ•°â”€# netstat -s | grep &#x27;segments sent&#x27;    576429703 segments sent out\n\nè®¡ç®—ç™¾åˆ†æ¯”å¤§æ¦‚ç®—æ³•é‡ä¼ ç‡ = (é‡ä¼ æ®µæ•° / æ€»å‘é€æ®µæ•°) Ã— 100é•¿è¿™æ ·,æ¯”å¦‚ä¸Šé¢çš„æ•°æ®,æˆ‘ä»¬çš„é‡ä¼ æ®µæ•°æ˜¯468164,æ€»å‘é€æ®µæ•°æ˜¯576429703.\necho &#x27;scale=2; (468164 / 576429703) * 100&#x27; | bc\n\næœ€ç»ˆç»“æœå¤§æ¦‚å°±æ˜¯åœ¨0.08%å·¦å³.\n","categories":["è¿ç»´"],"tags":["è¿ç»´"]},{"title":"dockerfileæ„å»ºé•œåƒ","url":"/2025/05/18/2026-02-16-004/","content":"åŸºç¡€é•œåƒä»€ä¹ˆæ˜¯åŸºç¡€é•œåƒ?åŸºç¡€é•œåƒï¼ˆBase Imageï¼‰æ˜¯ Dockerfile ä¸­ FROM æŒ‡ä»¤æŒ‡å®šçš„èµ·å§‹é•œåƒï¼Œé€šå¸¸åŒ…å«æ“ä½œç³»ç»Ÿã€è¿è¡Œæ—¶ç¯å¢ƒæˆ–ç‰¹å®šè½¯ä»¶çš„é¢„é…ç½®ç¯å¢ƒã€‚\nåŸºç¡€é•œåƒåœ¨Docker Hubæ˜¯æœ‰å¾ˆå¤šçš„,å„ç§ç¯å¢ƒéƒ½æœ‰,æ¯”å¦‚ python,php,nginx ç­‰.\né€‰ä¸­åŸºç¡€é•œåƒå,ä½ çš„ dockerfile åç»­æ‰€åšçš„ä¸€ç³»åˆ—æ“ä½œéƒ½æ˜¯åŸºäºè¿™ä¸ªåŸºç¡€é•œåƒè¿›è¡Œå†æ¬¡å°è£…,æ¯”å¦‚å¢åŠ ä¸€äº›è½¯ä»¶åŒ…ä»€ä¹ˆçš„.\nå‡è®¾ä½ æƒ³å°†å®˜æ–¹æä¾›çš„ python é•œåƒåšä¸ºåŸºç¡€é•œåƒ,é‚£ä¹ˆä½ å¯ä»¥ä½ è¿™æ ·.\n\n\næ€ä¹ˆå¼€å§‹åŸºäºä¸Šé¢æ‰€è¯´çš„,ä½¿ç”¨ python3 æ¥ä½œä¸ºåŸºç¡€é•œåƒ.\nè¿™é‡Œå…ˆæŠŠå®˜æ–¹æä¾›çš„ç¤ºä¾‹æ‰’ä¸‹æ¥,ç ”ç©¶ä¸€ä¸‹,çœ‹çœ‹ä»–åšäº†ä»€ä¹ˆ,ä»¥åŠæˆ‘ä»¬è¦åšä»€ä¹ˆ.\nFROM python:3WORKDIR /usr/src/appCOPY requirements.txt ./RUN pip install --no-cache-dir -r requirements.txtCOPY . .CMD [ &quot;python&quot;, &quot;./your-daemon-or-script.py&quot; ]\n\né¦–å…ˆå¯ä»¥çœ‹è§ä»–é€šè¿‡FROMæŒ‡å®šäº†ä¸€ä¸ª python3 çš„åŸºç¡€é•œåƒ,è¿™æ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„.\næ¥ç€,ä»–é€šè¿‡WORKDIRå…³é”®å­—å°†/usr/src/appè®¾ç½®ä¸ºäº†å·¥ä½œç›®å½•,ä½†æ˜¯è¿™é‡Œæˆ‘å¾—æ”¹æ”¹,æˆ‘æƒ³å°†/dataä½œä¸ºæˆ‘çš„å·¥ä½œç›®å½•.\nä¸‹é¢ä½¿ç”¨äº†COPYå’ŒRUNåšäº†ä¸€äº›æ‹·è´æ–‡ä»¶å’Œæ‰§è¡Œå‘½ä»¤çš„æ“ä½œ,ä½†æˆ‘ä»¬å¯ä»¥è‡ªå·±æ”¹æ”¹,æˆ‘å‡†å¤‡ç”¨RUNå»å®‰è£…ä¸€äº›æˆ‘è‡ªå·±éœ€è¦çš„è½¯ä»¶åŒ…,æ¯”å¦‚jq jc bc ipmitool curlç­‰.\nä¸‹é¢ä¾ç„¶æ˜¯ä¸€ä¸ª COPY ä¸éœ€è¦çš„è¯ä¹Ÿå¯ä»¥å»æ‰äº†.\næœ€ç»ˆé€šè¿‡CMDå…³é”®å­—å»è¿è¡Œäº†å½“å‰å·¥ä½œç›®å½•ä¸‹çš„ä¸€ä¸ª py è„šæœ¬.\nä»¥ä¸Šå°±æ˜¯è¿™ä¸ª dockerfile å¤§æ¦‚åšçš„äº‹æƒ…,æˆ‘è¿™é‡ŒåŸºäºæˆ‘è‡ªå·±çš„æƒ³æ³•,å°†è¿™ä¸ªå®˜æ–¹ç¤ºä¾‹å˜æˆæˆ‘æƒ³è¦çš„æ ·å­.\nFROM python:3# è®¾ç½®å·¥ä½œç›®å½•WORKDIR /app# æ›´æ–° apt åŒ…ç´¢å¼•å¹¶å®‰è£…è½¯ä»¶åŒ…RUN apt-get update &amp;&amp; apt-get install -y \\  curl \\  git \\  jq \\  jc \\  ipmitool# å¤åˆ¶ requirements.txt æ–‡ä»¶åˆ°å·¥ä½œç›®å½•COPY requirements.txt .# å®‰è£… Python ä¾èµ–RUN pip install --no-cache-dir -r requirements.txt# å¤åˆ¶åº”ç”¨ä»£ç COPY . .# è®¾ç½®ç¯å¢ƒå˜é‡ENV FLASK_APP=app.pyENV FLASK_ENV=production# æš´éœ²ç«¯å£EXPOSE 5000# å¯åŠ¨å‘½ä»¤CMD [&quot;flask&quot;, &quot;run&quot;, &quot;--host=0.0.0.0&quot;]\n\næœ€åä½¿ç”¨docker buildè¿›è¡Œæ„å»º,æ‰§è¡Œå®Œæˆåæ²¡æœ‰äº§ç”Ÿé”™è¯¯,é‚£ä¹ˆå°±è¡¨ç¤ºæ„å»ºæˆåŠŸäº†.\nå¹¶ä¸”é•œåƒçš„REPOSITORYè®¾ç½®ä¸º reverse/python, é•œåƒçš„TAGè®¾ç½®ä¸º t250518, å½“ç„¶è¿™ä¸ªæ˜¯æˆ‘è‡ªå·±å®šä¹‰éšä¾¿å†™çš„, æŒ‰éœ€å¡«å†™å°±è¡Œäº†.\n# å¼€å§‹æ„å»º,æ„å»ºæ—¶å·¥ä½œç›®å½•ä¸ºå½“å‰ç›®å½•docker build -f python.dockerfile . -t reverse/python:t250518\n\né˜¿é‡Œäº‘ ACRæ—¢ç„¶é•œåƒå·²ç»æ„å»ºå¥½äº†,é‚£ä¹ˆè‚¯å®šæ˜¯éœ€è¦æœ‰ä¸€ä¸ªåœ°æ–¹å¯ä»¥å­˜å‚¨é•œåƒçš„,å¦‚æœæ²¡æœ‰è‡ªå·±æ­å»ºçš„é•œåƒä»“åº“,é‚£ä¹ˆå¯ä»¥è€ƒè™‘ä½¿ç”¨é˜¿é‡Œäº‘çš„é•œåƒä»“åº“.\nå…·ä½“æ“ä½œæ–¹å¼å¦‚ä¸‹:\n\nè®¿é—®é˜¿é‡Œäº‘ ACRç„¶ååˆ›å»ºä¸€ä¸ªä¸ªäººå®ä¾‹å°±è¡Œ.\nè¿›å…¥ä¸ªäººå®ä¾‹ä¸­,é€‰æ‹©ä»“åº“ç®¡ç† -&gt; è®¿é—®å‡­è¯ -&gt; å›ºå®šå¯†ç è®¾ç½®å¯†ç ,è¿™æ˜¯docker loginæ—¶çš„å‡­è¯.\næ¥ç€è¿›å…¥å‘½åç©ºé—´ä¸­,åˆ›å»ºä¸€ä¸ªå‘½åç©ºé—´,å‡è®¾æˆ‘åˆ›å»ºä¸º reverse_python.\nç„¶åè®¿é—®é•œåƒä»“åº“ä¸­åˆ›å»ºä¸€ä¸‹,å‘½åç©ºé—´å°±ä½¿ç”¨åˆšæ‰åˆ›å»ºçš„,è¿˜æœ‰ä»“åº“åå­—å•¥çš„éƒ½è®¾ç½®ä¸€ä¸‹,æœ€åé€‰æ‹©æœ¬åœ°ä»“åº“.\n\n\n\n\n\n\n\nå› ä¸ºæˆ‘ä»¬çš„æœ¬åœ°æ„å»ºçš„é•œåƒ,æ‰€ä»¥æˆ‘ä»¬å°±é€‰æ‹©æœ¬åœ°ä»“åº“,è¿™æ ·çš„è¯å°±å¯ä»¥ç”¨å‘½ä»¤è¡Œå§æ„å»ºå¥½çš„é•œåƒæ¨é€ä¸Šå»äº†.\n\næ¥ä¸‹æ¥åˆ›å»ºå¥½é•œåƒä»“åº“åä»–ä¼šæä¾›ç»™æˆ‘ä»¬ä¸€ä¸ªæ–‡æ¡£,å‘Šè¯‰æˆ‘ä»¬å¦‚ä½•å°†é•œåƒæ¨é€ä¸Šæ¥.\nè¿™é‡Œæ³¨æ„ä½ çš„username,åˆ«é”™äº†,ç„¶åè¾“å…¥ä½ å‰é¢è®¾ç½®å¥½çš„å›ºå®šå¯†ç .\nç„¶å[ImageId]é€šè¿‡docker imagesæ¥æŸ¥çœ‹å°±è¡Œ,æ‰¾åˆ°ä½ æ„å»ºå¥½çš„é•œåƒ ID\næœ€åçš„[é•œåƒç‰ˆæœ¬å·]è‡ªè¡Œçœ‹ç€è®¾ç½®å°±è¡Œäº†,ç„¶åæ¨é€ä¸€ä¸‹å°±å®Œäº‹äº†.\ndocker login --username=xxxxxx registry.cn-hangzhou.aliyuncs.comdocker tag [ImageId] registry.cn-hangzhou.aliyuncs.com/reverse_python/python:[é•œåƒç‰ˆæœ¬å·]docker push registry.cn-hangzhou.aliyuncs.com/reverse_python/python:[é•œåƒç‰ˆæœ¬å·]\n\nâ•­â”€root@localhost /apps/data/workspace/tmpâ•°â”€# docker tag 7a20c8c2d70f registry.cn-hangzhou.aliyuncs.com/reverse_python/python:t250518â•­â”€root@localhost /apps/data/workspace/tmpâ•°â”€# docker push registry.cn-hangzhou.aliyuncs.com/reverse_python/python:t250518The push refers to repository [registry.cn-hangzhou.aliyuncs.com/reverse_python/python]cabed45d1c08: Pushed6c730be0af0c: Pushedd2e6d1137f5e: Pushedc73f86840bfc: Pushed55798440ca84: Pushed3851b9a2acfc: Pushedbf9c09fb6f3a: Pushedfcbb8c0ae5d6: Pushed8ce3e08e661a: Pushed247fffb7158d: Pushedt250518: digest: sha256:2505761bc5172f9f9bc11a5361d9d6517178d87507b56ce54429f806d598fb65 size: 2421â•­â”€root@localhost /apps/data/workspace/tmpâ•°â”€#\n\nç„¶åä½ å°±å¯ä»¥åœ¨é˜¿é‡Œå¹³å°çœ‹è§ä½  push ä¸Šå»çš„é•œåƒäº†.\n\nå¦‚ä½•ä½¿ç”¨å‰é¢æ–‡æ¡£ä¹Ÿæœ‰æåˆ°,åˆ›å»ºé•œåƒä»“åº“æ—¶ä»–ç»™é»˜è®¤ç»™ä½ ä¸€ä»½æ–‡æ¡£,é‡Œé¢å°±è¯¦ç»†è¯´äº†å¦‚ä½•ä½¿ç”¨.\nå‚ç…§æ–‡æ¡£é‡Œé¢çš„ä»£ç ,ç›´æ¥:\ndocker pull registry.cn-hangzhou.aliyuncs.com/reverse_python/python:[é•œåƒç‰ˆæœ¬å·]\n\nä»¥ä¸Šå°±æ˜¯ä»æ„å»ºé•œåƒåˆ°å‘å¸ƒé˜¿é‡Œ ACR çš„å…¨æµç¨‹äº†,å¯èƒ½æ–‡æ¡£ä¹Ÿæœ‰è¯¯è§£çš„åœ°æ–¹,ä½†æ˜¯æˆ‘æ‡’å¾—æ”¹äº† :) å¤§ä¼™å‡‘åˆçœ‹çœ‹.\n","categories":["Docker"],"tags":["Docker"]},{"title":"VictoriaMetricså‚æ•°è¯´æ˜","url":"/2025/05/16/2026-02-16-005/","content":"æ¦‚è¿°è¿™ç¯‡æ–‡æ¡£è®°å½•ä¸€ä¸‹./victoria-metrics-prodç¨‹åºçš„ä¸€äº›é‡è¦é€‰é¡¹åŠŸèƒ½å’Œæ³¨é‡Šã€‚\nå½“å‰æˆ‘è¿™ä¸ªç‰ˆæœ¬æ˜¯victoria-metrics-20230910-135627-tags-v1.93.4-0-g51e4fd652ã€‚\né‡è¦é€‰é¡¹è¯´æ˜å­˜å‚¨ä¸æ•°æ®ç®¡ç†\n\n\nå‚æ•°\næè¿°\né»˜è®¤å€¼\n\n\n\n-storageDataPath\nå­˜å‚¨æ•°æ®è·¯å¾„\nvictoria-metrics-data\n\n\n-retentionPeriod\næ•°æ®ä¿ç•™æœŸé™\n1 (1 ä¸ªæœˆ)\n\n\n-storage.minFreeDiskSpaceBytes\nåœæ­¢æ•°æ®æ‘„å…¥çš„æœ€å°å‰©ä½™ç£ç›˜ç©ºé—´\n10MB\n\n\n-storage.maxHourlySeries\næ¯å°æ—¶æœ€å¤§å”¯ä¸€åºåˆ—æ•°\næ— é™åˆ¶\n\n\n-storage.maxDailySeries\næ¯å¤©æœ€å¤§å”¯ä¸€åºåˆ—æ•°\næ— é™åˆ¶\n\n\nHTTP æœåŠ¡ä¸è®¤è¯\n\n\nå‚æ•°\næè¿°\né»˜è®¤å€¼\n\n\n\n-httpListenAddr\nHTTP æœåŠ¡ç›‘å¬åœ°å€\n:8428\n\n\n-httpAuth.username\nHTTP åŸºæœ¬è®¤è¯ç”¨æˆ·å\næ— \n\n\n-httpAuth.password\nHTTP åŸºæœ¬è®¤è¯å¯†ç \næ— \n\n\n-http.pathPrefix\nHTTP è·¯å¾„å‰ç¼€\næ— \n\n\næ•°æ®æ‘„å–\n\n\nå‚æ•°\næè¿°\né»˜è®¤å€¼\n\n\n\n-maxInsertRequestSize\næœ€å¤§ remote_write è¯·æ±‚å¤§å°\n32MB\n\n\n-maxConcurrentInserts\næœ€å¤§å¹¶å‘æ’å…¥è¯·æ±‚æ•°\n86\n\n\n-graphiteListenAddr\nGraphite åè®®ç›‘å¬åœ°å€\næ— \n\n\n-influxListenAddr\nInfluxDB åè®®ç›‘å¬åœ°å€\næ— \n\n\næŸ¥è¯¢ä¸æœç´¢\n\n\nå‚æ•°\næè¿°\né»˜è®¤å€¼\n\n\n\n-search.maxQueryDuration\næŸ¥è¯¢æœ€å¤§æ‰§è¡Œæ—¶é—´\n30s\n\n\n-search.maxConcurrentRequests\næœ€å¤§å¹¶å‘æŸ¥è¯¢æ•°\n16\n\n\n-search.maxSamplesPerQuery\næ¯æ¬¡æŸ¥è¯¢æœ€å¤§æ ·æœ¬æ•°\n1B\n\n\n-search.maxSeries\næœ€å¤§æ—¶é—´åºåˆ—æ•°\n30K\n\n\næ€§èƒ½ä¸ç¼“å­˜\n\n\nå‚æ•°\næè¿°\né»˜è®¤å€¼\n\n\n\n-memory.allowedPercent\nç¼“å­˜å¯ç”¨å†…å­˜ç™¾åˆ†æ¯”\n60%\n\n\n-cacheExpireDuration\nç¼“å­˜é¡¹è¿‡æœŸæ—¶é—´\n30m\n\n\n-storage.cacheSize*\nå„ç±»ç¼“å­˜å¤§å°\nè‡ªåŠ¨\n\n\nå®‰å…¨ä¸ TLS\n\n\nå‚æ•°\næè¿°\né»˜è®¤å€¼\n\n\n\n-tls\nå¯ç”¨ HTTPS\nfalse\n\n\n-tlsCertFile\nTLS è¯ä¹¦æ–‡ä»¶è·¯å¾„\næ— \n\n\n-tlsKeyFile\nTLS å¯†é’¥æ–‡ä»¶è·¯å¾„\næ— \n\n\næ—¥å¿—ä¸è°ƒè¯•\n\n\nå‚æ•°\næè¿°\né»˜è®¤å€¼\n\n\n\n-loggerLevel\næœ€ä½æ—¥å¿—çº§åˆ«\nINFO\n\n\n-loggerFormat\næ—¥å¿—æ ¼å¼\ndefault\n\n\n-loggerOutput\næ—¥å¿—è¾“å‡ºç›®æ ‡\nstderr\n\n\né›†ç¾¤ç»„ä»¶é…ç½®è¯´æ˜vmselect-prod\n\n\nå‚æ•°\næè¿°\né»˜è®¤å€¼\n\n\n\n-storageNode\nå­˜å‚¨èŠ‚ç‚¹åœ°å€åˆ—è¡¨\næ— \n\n\n-dedup.minScrapeInterval\nå»é‡æ—¶é—´é—´éš”\næ— \n\n\n-search.maxQueryDuration\næŸ¥è¯¢æœ€å¤§æ‰§è¡Œæ—¶é—´\n30s\n\n\n-search.maxConcurrentRequests\næœ€å¤§å¹¶å‘æŸ¥è¯¢æ•°\n16\n\n\n-search.maxSamplesPerQuery\næ¯æ¬¡æŸ¥è¯¢æœ€å¤§æ ·æœ¬æ•°\n1B\n\n\n-search.maxSeries\næœ€å¤§æ—¶é—´åºåˆ—æ•°\n30K\n\n\n-httpListenAddr\nHTTP æœåŠ¡ç›‘å¬åœ°å€\n:8481\n\n\n-tls\nå¯ç”¨ HTTPS\nfalse\n\n\n-tlsCertFile\nTLS è¯ä¹¦æ–‡ä»¶è·¯å¾„\næ— \n\n\n-tlsKeyFile\nTLS å¯†é’¥æ–‡ä»¶è·¯å¾„\næ— \n\n\nvminsert-prod\n\n\nå‚æ•°\næè¿°\né»˜è®¤å€¼\n\n\n\n-storageNode\nå­˜å‚¨èŠ‚ç‚¹åœ°å€åˆ—è¡¨\næ— \n\n\n-maxInsertRequestSize\næœ€å¤§å†™å…¥è¯·æ±‚å¤§å°\n32MB\n\n\n-maxConcurrentInserts\næœ€å¤§å¹¶å‘æ’å…¥æ•°\n86\n\n\n-httpListenAddr\nHTTP æœåŠ¡ç›‘å¬åœ°å€\n:8480\n\n\n-tls\nå¯ç”¨ HTTPS\nfalse\n\n\n-tlsCertFile\nTLS è¯ä¹¦æ–‡ä»¶è·¯å¾„\næ— \n\n\n-tlsKeyFile\nTLS å¯†é’¥æ–‡ä»¶è·¯å¾„\næ— \n\n\n-maxLabelsPerTimeseries\næ¯ä¸ªæ—¶é—´åºåˆ—æœ€å¤§æ ‡ç­¾æ•°\n30\n\n\n-maxLabelValueLen\næ ‡ç­¾å€¼æœ€å¤§é•¿åº¦\n16384\n\n\n-maxLabelNameLen\næ ‡ç­¾åæœ€å¤§é•¿åº¦\n16384\n\n\nvmstorage-prod\n\n\nå‚æ•°\næè¿°\né»˜è®¤å€¼\n\n\n\n-storageDataPath\nå­˜å‚¨æ•°æ®è·¯å¾„\nvictoria-metrics-data\n\n\n-retentionPeriod\næ•°æ®ä¿ç•™æœŸé™\n1 (1 ä¸ªæœˆ)\n\n\n-httpListenAddr\nHTTP æœåŠ¡ç›‘å¬åœ°å€\n:8482\n\n\n-tls\nå¯ç”¨ HTTPS\nfalse\n\n\n-tlsCertFile\nTLS è¯ä¹¦æ–‡ä»¶è·¯å¾„\næ— \n\n\n-tlsKeyFile\nTLS å¯†é’¥æ–‡ä»¶è·¯å¾„\næ— \n\n\n-storage.minFreeDiskSpaceBytes\nåœæ­¢æ•°æ®æ‘„å…¥çš„æœ€å°å‰©ä½™ç£ç›˜ç©ºé—´\n10MB\n\n\n-storage.maxHourlySeries\næ¯å°æ—¶æœ€å¤§å”¯ä¸€åºåˆ—æ•°\næ— é™åˆ¶\n\n\n-storage.maxDailySeries\næ¯å¤©æœ€å¤§å”¯ä¸€åºåˆ—æ•°\næ— é™åˆ¶\n\n\n-memory.allowedPercent\nç¼“å­˜å¯ç”¨å†…å­˜ç™¾åˆ†æ¯”\n60%\n\n\n-smallMergeConcurrency\nåå°åˆå¹¶å¹¶å‘æ•°\n0 (è‡ªåŠ¨)\n\n\n-bigMergeConcurrency\nå¤§åˆå¹¶å¹¶å‘æ•°\n0 (è‡ªåŠ¨)\n\n\n-snapshotsMaxAge\nå¿«ç…§æœ€å¤§ä¿ç•™æ—¶é—´\n0 (ç¦ç”¨)\n\n\n-snapshotCreateTimeout\nåˆ›å»ºå¿«ç…§è¶…æ—¶æ—¶é—´\næ— \n\n\n","categories":["è¿ç»´"],"tags":["è¿ç»´"]},{"title":"åœ¨MacOSä¸‹å®‰è£…oh-my-zsh","url":"/2025/02/23/2026-02-16-006/","content":"æ¦‚è¿°å¥½ä¸œè¥¿\nä¸‹è½½å®‰è£…å…‹éš†ä»“åº“é¡¹ç›®åˆ°æœ¬åœ°çš„ç”¨æˆ·ç›®å½•ä¸‹ã€‚\ngit clone https://github.com/ohmyzsh/ohmyzsh.git ~/.oh-my-zsh\n\nç„¶åå°†é»˜è®¤çš„zshrcé…ç½®æ›¿æ¢ä¸ºé¡¹ç›®é‡Œé¢çš„æ¨¡æ¿é…ç½®ã€‚\ncp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc\n\nä¸»é¢˜ä¸»é¢˜å…·ä½“æœ‰å“ªäº›å¯ä»¥å‚è€ƒè¿™ä¸ªmarkdownæ–‡æ¡£\næ¯”å¦‚æˆ‘ä½¿ç”¨ä¸»é¢˜ï¼šbira\nvi ~/.zshrc\n\næ‰¾åˆ°ZSH_THEMEè¿™ä¸€è¡Œï¼Œå°†å…¶å€¼å†…å®¹æ”¹ä¸ºbiraã€‚\nç„¶åé‡å¯ç»ˆç«¯ç”Ÿæ•ˆã€‚\næ•ˆæœ\n","categories":["MacOS"],"tags":["MacOS"]},{"title":"åœ¨MacOSä¸‹ä½¿ç”¨karabiner-elements","url":"/2025/02/23/2026-02-16-007/","content":"æ¦‚è¿°Karabiner-Elementsæ˜¯ä¸€æ¬¾å¼€æºçš„è·¨å¹³å°çš„é”®ç›˜å®šåˆ¶å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥è‡ªå®šä¹‰é”®ç›˜å¿«æ·é”®ã€é¼ æ ‡æ˜ å°„ã€è„šæœ¬æ“ä½œç­‰ã€‚\nè¿™ä¸ªå·¥å…·çœŸçš„éå¸¸niceï¼Œå¾ˆå¥½ç”¨ï¼Œæ¨èå°è¯•ä¸€ä¸‹ï¼Œæˆ‘ä¸»è¦å–œæ¬¢ä½¿ç”¨ä»–çš„å¿«æ·é”®åˆ‡å±ï¼Œæ•ˆç‡éå¸¸é«˜ã€‚\nå»ºè®®ç›´æ¥å‚è€ƒæ–‡æ¡£ï¼š\n\nlwmacctçš„è¯­é›€æ–‡æ¡£\nè‹¦ç“œçš„è¯­é›€æ–‡æ¡£\n\nè¿™ä¸¤æ–‡æ¡£å†…å®¹æ¯”è¾ƒå®ç”¨ï¼Œå»ºè®®å¤šçœ‹ã€‚\nå®‰è£…ç›´æ¥è®¿é—® å®˜ç½‘åœ°å€ ä¸‹è½½ç„¶åå®‰è£…ä»–ï¼Œè¿™é‡Œå°±å…ˆä¸å¤šä»‹ç»äº†ã€‚\n\nåˆ›å»ºå¤šçª—å£è¦ç”¨åˆ°çª—å£åˆ‡æ¢åŠŸèƒ½ï¼Œè‚¯å®šæ˜¯è¦å…ˆæœ‰å¤šçª—å£ï¼Œè¿™é‡Œå…ˆæ·»åŠ 10ä¸ªçª—å£ï¼Œä¸‰æŒ‡ä¸Šåˆ’åˆ‡æ¢çª—å£é¡µé¢æ·»åŠ ã€‚\nç›´æ¥ä»è¿™é‡ŒåŠ ï¼ŒåŠ åˆ°10ä¸ªå°±è¡Œäº†ã€‚\n\nå¯ç”¨åˆ‡å±å¿«æ·é”®æ¥ä¸‹æ¥æ‰“å¼€ç³»ç»Ÿè®¾ç½®ï¼Œè¿›å…¥é”®ç›˜ -&gt; é”®ç›˜å¿«æ·é”® -&gt; è°ƒåº¦ä¸­å¿ƒï¼Œå°†å¿«æ·é”®åˆ‡å±å…¨éƒ¨å¯ç”¨ã€‚\n\n\nå…³é—­è‡ªåŠ¨æ’åˆ—è¿™é‡Œè¿˜è¦æ³¨æ„ï¼ŒæŠŠè¿™ä¸ªè‡ªåŠ¨æ’åˆ—å…³æ‰ï¼Œä¸ç„¶æŸäº›å±å¹•é‡Œé¢çš„çª—å£å¼€å¯å’Œå…³é—­ä¼šè‡ªåŠ¨æ’åˆ—é¡ºåºï¼Œå½±å“åˆ‡å±ä½“éªŒï¼ï¼ï¼\n\næ‰“å¼€åº”ç”¨&amp;å†™å…¥é…ç½®è¿™é‡Œç›´æ¥è®¿é—®è‹¦ç“œçš„è¯­é›€æ–‡æ¡£çš„æ–‡æ¡£ï¼ŒæŠŠä»–çš„é…ç½®æ‹‰ä¸‹æ¥å…ˆã€‚\næ‹‰ä¸‹æ¥ä»¥åï¼Œå°†ä»–çš„configé…ç½®æ›¿æ¢åˆ°è‡ªå·±çš„~/.config,æ¥ç€é‡å¯ä¸€ä¸‹Karabiner-Elementså°±å¯ä»¥å¼€å§‹ä½¿ç”¨äº†ã€‚\nå¦‚ä¸‹å›¾æ‰€ç¤º\n\n\næœ€åæµ‹è¯•ä¸€ä¸‹ï¼ŒæŒ‰ä½å¤§å°å†™åˆ‡æ¢é”® + ä¸Šæ–¹çš„æ•°å­—é”®0-9ï¼Œåº”è¯¥å°±å…¨éƒ½å¯ä»¥åˆ‡å±äº†ã€‚\næœ€åï¼Œç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼\n","categories":["MacOS"],"tags":["MacOS"]},{"title":"åœ¨MacOSä¸‹é…ç½®Terminalå­—ä½“","url":"/2025/02/23/2026-02-16-008/","content":"æ¦‚è¿°ä¸ªäººè§‰å¾—Jetbrainé£æ ¼çš„å­—ä½“çœ‹èµ·æ¥å¾ˆèˆ’æœï¼Œæ‰€ä»¥è¿™é‡Œåšä¸ªæ–‡æ¡£è®°å½•ä¸€ä¸‹æˆ‘æ˜¯è‡ªå·±é…ç½®çš„\næ–¹ä¾¿ä»¥åæ¢è®¾å¤‡äº†ï¼Œå¯ä»¥å¿«é€Ÿé…ç½®ã€‚\nä¸‹è½½Jetbrainå­—ä½“JetBrains Monoé¡¹ç›®åœ°å€\nbrew install --cask font-jetbrains-mono\n\nå‘½ä»¤ä»‹ç»ï¼š\n\nbrew install --cask font-jetbrains-monoï¼šå®‰è£…å­—ä½“\n--caskï¼šå‚æ•°å«ä¹‰æ˜¯å®‰è£…å­—ä½“ï¼Œ--fontæ˜¯å®‰è£…å­—ä½“åº“\n\né…ç½®Terminalå­—ä½“åœ¨ç»ˆç«¯çš„è®¾ç½®ä¸­é€‰æ‹©å®‰è£…å¥½çš„å­—ä½“å°±è¡Œäº†\n\næ ·å¼\n","categories":["MacOS"],"tags":["MacOS"]},{"title":"ä½¿ç”¨ GitHubActions è‡ªåŠ¨åŒ–éƒ¨ç½² Hexo åšå®¢","url":"/2026/02/16/2026-02-16-009/","content":"æ¦‚è¿°ä½¿ç”¨ GitHubActions è‡ªåŠ¨åŒ–éƒ¨ç½² Hexo åšå®¢ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®ç°åšå®¢çš„è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œé¿å…æ‰‹åŠ¨éƒ¨ç½²çš„ç¹çã€‚\nå…ˆå°†å‰ç½®åšå¥½,æ¯”å¦‚æˆ‘:\nåŸŸå: hyhacct.com\né…ç½® Actionsä½ éœ€è¦å…ˆæ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªå…¬å¼€ä»“åº“,å°†å…¶å‘½åä¸ºxxx.github.io,æ¯”å¦‚æˆ‘çš„å°±æ˜¯hyhacct.github.io\nç„¶åç‚¹å‡»ä¸Šé¢çš„Actionsæ ‡ç­¾\n\nåœ¨è¿™ä¸ªé¡µé¢æœç´¢ä¸€ä¸ªNode.jså·¥ä½œæµ,ç„¶åç‚¹å‡»ConfigureæŒ‰é’®\n\næ¥ä¸‹æ¥ä¸å‡ºæ„å¤–çš„è¯,ä½ ä¼šè¿›å…¥ä¸€ä¸ªç¼–è¾‘ymlæ–‡ä»¶çš„é¡µé¢,è€Œè¿™ä¸ª yml å°±æ˜¯ä½ çš„è‡ªåŠ¨åŒ–å·¥ä½œæµé…ç½®\nå¯ä»¥å‚è€ƒä¸€ä¸‹æˆ‘çš„é…ç½®:\nname: Deploy Hexo Blogon:  push:    branches: [ &quot;main&quot; ] # ä»…åœ¨æ¨é€åˆ° main åˆ†æ”¯æ—¶è§¦å‘jobs:  build-and-deploy:    runs-on: ubuntu-latest    steps:      - name: Checkout        uses: actions/checkout@v4        with:          submodules: true # å¦‚æœä½ çš„ä¸»é¢˜æ˜¯ git submodule å½¢å¼å¼•å…¥çš„ï¼Œè¿™è¡Œå¾ˆé‡è¦      - name: Use Node.js 20.x        uses: actions/setup-node@v4        with:          node-version: 20.x          cache: &#x27;yarn&#x27; # è‡ªåŠ¨ç¼“å­˜ yarn ä¾èµ–ï¼ŒåŠ é€Ÿåç»­æ„å»º      - name: Install Dependencies        run: yarn install --frozen-lockfile # ä½¿ç”¨ frozen-lockfile ç¡®ä¿ä¸¥æ ¼éµå¾ª lock æ–‡ä»¶      - name: Build Hexo        run: |          yarn hexo clean          yarn hexo generate      - name: Deploy to GitHub Pages        uses: peaceiris/actions-gh-pages@v4        with:          github_token: $&#123;&#123; secrets.BLOG_TOKEN &#125;&#125; # è‡ªåŠ¨è°ƒç”¨ç³»ç»Ÿé»˜è®¤ Token          publish_dir: ./public # Hexo ç”Ÿæˆçš„é™æ€æ–‡ä»¶ç›®å½•          publish_branch: gh-pages # éƒ¨ç½²åˆ°è¯¥åˆ†æ”¯\n\n\nåˆ›å»ºTOKENä½ åº”è¯¥æ³¨æ„åˆ° yml é‡Œé¢å¼•å…¥äº†ä¸€ä¸ªBLOG_TOKENå˜é‡,è¿™ä¸ªæ˜¯æˆæƒä»¤ç‰Œ,éœ€è¦æ‰‹åŠ¨åˆ›å»ºä¸€ä¸‹.\nåœ¨ä¸ªäººè®¾ç½®é¡µé¢,æ³¨æ„æ˜¯ä¸ªäººè®¾ç½®,ä¸æ˜¯ä»“åº“è®¾ç½®å“¦,åˆ«æé”™äº†,ç‚¹å‡»Developer settings -&gt; Personal access tokens -&gt; Tokens (classic) -&gt; Generate new token -&gt; Generate new token(classic)\n\nç„¶åä¼šè¿›å…¥ä¸€ä¸ªè®¾ç½®é¡µé¢\n\nNote ä»¤ç‰Œæè¿°,æ¯”å¦‚Hexo Blog\nExpiration ä»¤ç‰Œè¿‡æœŸæ—¶é—´,å¯ä»¥è®¾ç½®æ°¸ä¸è¿‡æœŸ(No expiration)\nSelect scopes é€‰æ‹©æƒé™,è¿™é‡Œé€‰æ‹©repoå’Œworkflowå³å¯\n\nç„¶ååˆ’åˆ°æœ€ä¸‹é¢,é€‰æ‹©Generate tokenæŒ‰é’®,ç„¶åä¼šç”Ÿæˆä¸€ä¸ªä»¤ç‰Œ.\nåƒä¸‡è¦æ³¨æ„,è¿™ä¸ª Token åªèƒ½çœ‹è§ä¸€æ¬¡,æ‰€ä»¥ä¸€å®šè¦å…ˆå¤åˆ¶å‡ºæ¥ä¿å­˜å¥½,å¹¶ä¸”ä¸èƒ½æ³„éœ²ç»™ä»»ä½•äºº.\n\n\n\næ·»åŠ å˜é‡åœ¨ä»“åº“çš„Settings -&gt; Secrets and variables -&gt; Actions -&gt; New repository secret ä¸­æ·»åŠ ä¸€ä¸ªå˜é‡,æ¯”å¦‚æˆ‘è¿™é‡Œå˜é‡åå­—å« BLOG_TOKEN,ç„¶åå€¼å°±æ˜¯ä¸Šé¢ç”Ÿæˆçš„ Token,å¡«è¿›å»ä¿å­˜å³å¯.\nåˆ›å»ºæ–°åˆ†æ”¯åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯,æ¯”å¦‚æˆ‘è¿™é‡Œåˆ†æ”¯åå­—å« gh-pages,ç„¶ååˆ‡æ¢åˆ°è¿™ä¸ªåˆ†æ”¯,å¹¶ä¸”å°†ä»£ç æ¨é€åˆ°è¿™ä¸ªåˆ†æ”¯.\ngit checkout -b gh-pagesgit push origin gh-pages\n\n\nè¿›å…¥ä»“åº“è®¾ç½®é¡µé¢çš„Pagesæ ‡ç­¾é¡µ,å°†Sourceæ”¹ä¸º:Deploy from a branch,å¹¶ä¸”ä¸‹é¢çš„Branchåˆ†æ”¯éœ€è¦æ”¹ä¸ºgh-pagesåˆ†æ”¯,ç„¶åè·¯å¾„æ³¨æ„åˆ«é”™äº†,é»˜è®¤å°±/(root)å°±è¡Œ\n\né€‰æ‹©Custom domainå‚æ•°,ç»™ä»–è®¾ç½®ä¸ºä½ çš„åŸŸå,æ¯”å¦‚æˆ‘çš„å°±æ˜¯blog.hyhacct.com,è¾“å…¥å®Œæˆåç‚¹å‡» Save ä¿å­˜è¿›è¡Œ DNS æ£€æµ‹å³å¯.\n\n\n\n","categories":["GitHub"],"tags":["GitHub"]}]